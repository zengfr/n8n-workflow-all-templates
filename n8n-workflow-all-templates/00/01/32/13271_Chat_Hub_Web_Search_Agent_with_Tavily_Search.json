{
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Chat Hub Web Search Agent with Tavily Search",
    "wechat": "youandme10086",
    "id": 13271,
    "update_time": "2026-02-13"
  },
  "nodes": [
    {
      "id": "4adb1e88-535b-4b6b-8f97-cee2e40770a0",
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        544,
        0
      ],
      "parameters": {
        "text": "={{ $('When chat message received in Chat Hub').item.json.chatInput }}",
        "options": {
          "maxIterations": 50,
          "systemMessage": "You are a general-purpose search assistant in n8n Chat Hub. You process information, help think through problems, and return accurate results.\n\n## Chat Hub Output\nYou are responding in n8n Chat Hub. Standard markdown works: **bold**, *italic*, `code`, lists, headers.\n\n### Links\nUse standard markdown links:\n`[domain.com](https://full-url-here)`\n\n### Images\nChat Hub does not auto-render images. Use full URLs with markdown:\n`![description](https://example.com/image.jpg)`\n\n## Search Rules\n\n### Search-before-answering\nFor any factual/verifiable question, do not answer from memory. Use the Search tool first. This includes:\n- prices, specs, availability\n- benchmarks or performance claims\n- dates, policies, anything that changes\n- anything you could reasonably source\n\n### Citations (mandatory)\nEvery factual claim needs an inline citation immediately after it, using this exact format:\n`... [_[domain.com](https://full-url)_]`\n\nRules:\n- Link to the real source URL (not a search wrapper).\n- Prefer primary sources (official docs, .gov, vendor pages).\n- If no source exists, do not claim it. Say: ‚ÄúI could not find a source for X.‚Äù\n\n### What doesn‚Äôt need citations\nPurely conceptual reasoning, frameworks, and clearly-labeled opinions. Anything that looks like a fact still needs a citation.\n\n## Tool Usage (one tool)\n\n### Search\nUse the Search tool for all factual/verifiable questions. Use it to:\n- find primary sources\n- verify numbers, specs, prices, dates, and ‚Äúcurrent‚Äù claims\n- pull multiple viewpoints for comparisons or ‚Äúwhat do people think‚Äù\n\n### Process\n- Plan what you need to verify, then run required searches in parallel (batch queries).\n- Synthesize only what you can cite. If you cannot source a claim, do not make it.\n- Ask a clarifying question only if you are blocked:\n  - ‚ÄúYour question could mean X or Y ‚Äî which are you asking about?‚Äù\n  - ‚ÄúTo answer this I need: [specific missing detail]‚Äù"
        },
        "promptType": "define"
      },
      "executeOnce": false,
      "typeVersion": 3.1
    },
    {
      "id": "89e7a80a-cf16-4e62-90c6-0f65be69f5e3",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        768,
        288
      ],
      "parameters": {
        "color": 7,
        "width": 192,
        "height": 240,
        "content": "Quickly returns results with Tavily Search"
      },
      "typeVersion": 1
    },
    {
      "id": "b3b49fc8-feb6-4f2a-8f7b-db4eb60d7c38",
      "name": "Simple Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        640,
        384
      ],
      "parameters": {},
      "typeVersion": 1.3
    },
    {
      "id": "b0c8c61d-c3db-41d2-9381-1c49d70c2c95",
      "name": "Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "position": [
        432,
        384
      ],
      "parameters": {
        "model": "google/gemini-3-flash-preview",
        "options": {
          "temperature": 0.1
        }
      },
      "credentials": {
        "openRouterApi": {
          "id": "A5tnKaYbV9QNRMl8",
          "name": "n8n-general-use-mcgarrigle"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "d82a8196-4f7f-417f-b5ef-e0b697476847",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        128,
        -128
      ],
      "parameters": {
        "color": 7,
        "height": 288,
        "content": "## Chat in Chat Hub\nGo to `{your-n8n-url}/home/chat` to use this agent!"
      },
      "typeVersion": 1
    },
    {
      "id": "4130e490-b5d5-485e-a586-d04e09dcb9af",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        480,
        -128
      ],
      "parameters": {
        "color": 7,
        "width": 384,
        "height": 288,
        "content": "## Just a Regular Ol Agent\nYou can build up from here! Add any other tool you want or add to the system prompt to fit your needs!"
      },
      "typeVersion": 1
    },
    {
      "id": "96984713-4a82-4a0a-9999-06b65298c0e5",
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        368,
        192
      ],
      "parameters": {
        "width": 224,
        "height": 320,
        "content": "## Replace Me\nIf you want, replace me with the provider and model you prefer!\n\nMaybe pick one out on our [AI Benchmark](https://n8n.io/ai-benchmark)"
      },
      "typeVersion": 1
    },
    {
      "id": "98d198d3-9c34-4a7b-8647-f559fdc83897",
      "name": "When chat message received in Chat Hub",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "position": [
        192,
        0
      ],
      "webhookId": "6b892f5e-3691-4b89-8f53-cf88bee4f811",
      "parameters": {
        "options": {
          "responseMode": "streaming"
        },
        "agentIcon": {
          "type": "emoji",
          "value": "üåé"
        },
        "agentName": "Search Agent",
        "availableInChat": true,
        "agentDescription": "An agent that can search quickly for fast answers as well as do deep research"
      },
      "typeVersion": 1.4
    },
    {
      "id": "b8482b2a-7169-4abe-b260-0630db5b447a",
      "name": "Search",
      "type": "@tavily/n8n-nodes-tavily.tavilyTool",
      "position": [
        816,
        384
      ],
      "parameters": {
        "query": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Query', ``, 'string') }}",
        "options": {
          "search_depth": "advanced"
        }
      },
      "credentials": {
        "tavilyApi": {
          "id": "VKmAztCAh7yFgGw0",
          "name": "Tavily account"
        }
      },
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "Search": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received in Chat Hub": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}