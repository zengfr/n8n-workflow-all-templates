{
  "id": "eqosJUr7sWlqD8vX",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Sync contacts two-way between Zoho CRM and KlickTipp",
    "wechat": "youandme10086",
    "id": 12679,
    "update_time": "2026-02-13"
  },
  "name": "Zoho CRM + KlickTipp two-way sync template",
  "tags": [
    {
      "id": "15wrq9sti6wyqr6J",
      "name": "TEMPLATE",
      "createdAt": "2025-01-08T16:34:30.163Z",
      "updatedAt": "2025-01-08T16:34:30.163Z"
    }
  ],
  "nodes": [
    {
      "id": "77320018-d9e4-41db-a56a-1fbf4dc97a00",
      "name": "Check relevant Segment ",
      "type": "n8n-nodes-base.switch",
      "position": [
        1888,
        880
      ],
      "parameters": {
        "rules": {
          "values": [
            {
              "outputKey": "Online store",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "2cb613b1-eb67-4563-b3a5-8d3b6802fc51",
                    "operator": {
                      "type": "boolean",
                      "operation": "true",
                      "singleValue": true
                    },
                    "leftValue": "={{ ($json.Tag ?? []).some(t => (t?.name || '').toLowerCase() === 'online store') }}",
                    "rightValue": "Online Store"
                  }
                ]
              },
              "renameOutput": true
            },
            {
              "outputKey": "ABC",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "aa5f45b4-6f69-40de-980f-4952e4d15e84",
                    "operator": {
                      "type": "boolean",
                      "operation": "true",
                      "singleValue": true
                    },
                    "leftValue": "={{ ($json.Tag ?? []).some(t => (t?.name || '').toLowerCase() === 'abc') }}",
                    "rightValue": "ABC"
                  }
                ]
              },
              "renameOutput": true
            }
          ]
        },
        "options": {
          "allMatchingOutputs": true
        }
      },
      "typeVersion": 3.3
    },
    {
      "id": "6bb5e3d9-482f-4db2-b077-ba341980828b",
      "name": "Unsubscribe contact",
      "type": "n8n-nodes-klicktipp.klicktipp",
      "position": [
        1040,
        880
      ],
      "parameters": {
        "email": "={{ $json.body.email }}",
        "resource": "subscriber",
        "operation": "unsubscribe"
      },
      "credentials": {
        "klickTippApi": {
          "id": "K9JyBdCM4SZc1cXl",
          "name": "DEMO KlickTipp account"
        }
      },
      "typeVersion": 3
    },
    {
      "id": "068f9bbf-05ca-4c08-af2a-5d0437134b4d",
      "name": "Check Subscription",
      "type": "n8n-nodes-base.switch",
      "position": [
        480,
        864
      ],
      "parameters": {
        "rules": {
          "values": [
            {
              "outputKey": "New Contact",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "loose"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "38151a18-a83b-477b-8e67-d890d57b45b6",
                    "operator": {
                      "type": "string",
                      "operation": "empty",
                      "singleValue": true
                    },
                    "leftValue": "={{ $json.body.klicktippId }}",
                    "rightValue": ""
                  }
                ]
              },
              "renameOutput": true
            },
            {
              "outputKey": "Unsubscribed",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "loose"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "be764382-4f5a-421f-88e3-040d096a7f2c",
                    "operator": {
                      "type": "boolean",
                      "operation": "true",
                      "singleValue": true
                    },
                    "leftValue": "={{ $json.body.emailOptOut }}",
                    "rightValue": "Unsubscribed "
                  }
                ]
              },
              "renameOutput": true
            },
            {
              "outputKey": "Update Contact",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "loose"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "02050eb5-ed15-4dfb-a548-eca7a0b2d37f",
                    "operator": {
                      "type": "string",
                      "operation": "notEmpty",
                      "singleValue": true
                    },
                    "leftValue": "={{ $json.body.klicktippId }}",
                    "rightValue": "Unsubscribed"
                  }
                ]
              },
              "renameOutput": true
            }
          ]
        },
        "options": {},
        "looseTypeValidation": true
      },
      "typeVersion": 3.3
    },
    {
      "id": "2b37d57b-70cb-4c9f-ae2b-da94bd8418b7",
      "name": "Create Contact with SOI",
      "type": "n8n-nodes-klicktipp.klicktipp",
      "position": [
        1040,
        672
      ],
      "parameters": {
        "email": "={{ $json.body.email }}",
        "fields": {
          "dataFields": [
            {
              "fieldId": "field226649",
              "fieldValue": "={{ $json.body.id }}"
            },
            {
              "fieldId": "fieldFirstName",
              "fieldValue": "={{ $json.body.firstName }}"
            },
            {
              "fieldId": "fieldLastName",
              "fieldValue": "={{ $json.body.lastName }}"
            },
            {
              "fieldId": "fieldPhone",
              "fieldValue": "={{ $json.body.phone }}"
            },
            {
              "fieldId": "fieldMobilePhone",
              "fieldValue": "={{ $json.body.mobile }}"
            },
            {
              "fieldId": "fieldPrivatePhone",
              "fieldValue": "={{ $json.body.homePhone }}"
            },
            {
              "fieldId": "fieldFax",
              "fieldValue": "={{ $json.body.fax }}"
            },
            {
              "fieldId": "fieldBirthday",
              "fieldValue": "={{ $json.body.dateOfBirth }}"
            },
            {
              "fieldId": "fieldCountry",
              "fieldValue": "={{ $json.body.mailingCountry }}"
            },
            {
              "fieldId": "fieldState",
              "fieldValue": "={{ $json.body.mailingState }}"
            },
            {
              "fieldId": "fieldCity",
              "fieldValue": "={{ $json.body.mailingCity }}"
            },
            {
              "fieldId": "fieldStreet1",
              "fieldValue": "={{ $json.body.mailingStreet }}"
            },
            {
              "fieldId": "fieldZip",
              "fieldValue": "={{ $json.body.mailingZip }}"
            }
          ]
        },
        "listId": "364353",
        "resource": "subscriber",
        "operation": "subscribe"
      },
      "credentials": {
        "klickTippApi": {
          "id": "K9JyBdCM4SZc1cXl",
          "name": "DEMO KlickTipp account"
        }
      },
      "typeVersion": 3
    },
    {
      "id": "89c6d097-557e-4e41-b6df-6e77697f1e68",
      "name": "Check for email address",
      "type": "n8n-nodes-base.filter",
      "position": [
        752,
        672
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "f648741c-961c-4eff-a6d8-a3722005d341",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              },
              "leftValue": "={{ $json.body.email }}",
              "rightValue": ""
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "c670a96a-8762-4274-9280-fa28afc80c5e",
      "name": "Contact registered via Form in Zoho CRM",
      "type": "n8n-nodes-base.webhook",
      "position": [
        208,
        304
      ],
      "webhookId": "",
      "parameters": {
        "path": "",
        "options": {},
        "httpMethod": "POST"
      },
      "typeVersion": 2.1
    },
    {
      "id": "cc020a88-975f-4b53-95f6-0a91ee1feeb5",
      "name": "Contact deleted in Zoho CRM",
      "type": "n8n-nodes-base.webhook",
      "position": [
        208,
        1360
      ],
      "webhookId": "",
      "parameters": {
        "path": "",
        "options": {},
        "httpMethod": "POST"
      },
      "typeVersion": 2.1
    },
    {
      "id": "1e102c1f-efed-41bc-8de7-e6a96c205fc8",
      "name": "Delete contact in KlickTipp",
      "type": "n8n-nodes-klicktipp.klicktipp",
      "position": [
        1040,
        1360
      ],
      "parameters": {
        "resource": "subscriber",
        "operation": "delete",
        "subscriberId": "={{ $json.body.klicktippId }}",
        "identifierType": "id"
      },
      "credentials": {
        "klickTippApi": {
          "id": "K9JyBdCM4SZc1cXl",
          "name": "DEMO KlickTipp account"
        }
      },
      "typeVersion": 3
    },
    {
      "id": "6a434bea-fe17-4d03-b167-972c53dcb890",
      "name": "Contact created or updated in Zoho CRM",
      "type": "n8n-nodes-base.webhook",
      "position": [
        208,
        880
      ],
      "webhookId": "",
      "parameters": {
        "path": "",
        "options": {},
        "httpMethod": "POST"
      },
      "typeVersion": 2.1
    },
    {
      "id": "befe88e2-7756-4516-9e50-c4e9eabd981d",
      "name": "Add KlickTipp Contact ID2",
      "type": "n8n-nodes-base.zohoCrm",
      "position": [
        1344,
        304
      ],
      "parameters": {
        "resource": "contact",
        "contactId": "={{ $json.field226649 }}",
        "operation": "update",
        "updateFields": {
          "customFields": {
            "customFields": [
              {
                "value": "={{ $json.id }}",
                "fieldId": "KlickTipp_ID"
              }
            ]
          }
        }
      },
      "credentials": {
        "zohoOAuth2Api": {
          "id": "cfk0Qy68UBfaj66u",
          "name": "(Oleksandr 2) Zoho account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "d1fd142e-9050-497a-b29b-fd436575ee03",
      "name": "Add KlickTipp Contact ID",
      "type": "n8n-nodes-base.zohoCrm",
      "position": [
        1344,
        592
      ],
      "parameters": {
        "resource": "contact",
        "contactId": "={{ $json.field226649 }}",
        "operation": "update",
        "updateFields": {
          "customFields": {
            "customFields": [
              {
                "value": "={{ $json.id }}",
                "fieldId": "KlickTipp_ID"
              }
            ]
          }
        }
      },
      "credentials": {
        "zohoOAuth2Api": {
          "id": "cfk0Qy68UBfaj66u",
          "name": "(Oleksandr 2) Zoho account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "ab2abd4d-d12e-4b10-9c97-a151ffcb0552",
      "name": "Update contact",
      "type": "n8n-nodes-klicktipp.klicktipp",
      "position": [
        1040,
        1088
      ],
      "parameters": {
        "email": "={{ $json.body.email }}",
        "fields": {
          "dataFields": [
            {
              "fieldId": "fieldFirstName",
              "fieldValue": "={{ $json.body.firstName }}"
            },
            {
              "fieldId": "fieldLastName",
              "fieldValue": "={{ $json.body.lastName }}"
            },
            {
              "fieldId": "fieldPhone",
              "fieldValue": "={{ $json.body.phone }}"
            },
            {
              "fieldId": "fieldMobilePhone",
              "fieldValue": "={{ $json.body.mobile }}"
            },
            {
              "fieldId": "fieldPrivatePhone",
              "fieldValue": "={{ $json.body.homePhone }}"
            },
            {
              "fieldId": "fieldFax",
              "fieldValue": "={{ $json.body.fax }}"
            },
            {
              "fieldId": "fieldBirthday",
              "fieldValue": "={{ $json.body.dateOfBirth }}"
            },
            {
              "fieldId": "fieldCountry",
              "fieldValue": "={{ $json.body.mailingCountry }}"
            },
            {
              "fieldId": "fieldState",
              "fieldValue": "={{ $json.body.mailingState }}"
            },
            {
              "fieldId": "fieldCity",
              "fieldValue": "={{ $json.body.mailingCity }}"
            },
            {
              "fieldId": "fieldStreet1",
              "fieldValue": "={{ $json.body.mailingStreet }}"
            },
            {
              "fieldId": "fieldZip",
              "fieldValue": "={{ $json.body.mailingZip }}"
            }
          ]
        },
        "resource": "subscriber",
        "operation": "update",
        "subscriberId": "={{ $json.body.klicktippId }}",
        "identifierType": "id"
      },
      "credentials": {
        "klickTippApi": {
          "id": "K9JyBdCM4SZc1cXl",
          "name": "DEMO KlickTipp account"
        }
      },
      "typeVersion": 3
    },
    {
      "id": "e4eba8c3-692e-4e92-a733-dda803346b99",
      "name": "Contact Tagged in KlickTipp",
      "type": "n8n-nodes-klicktipp.klicktippTrigger",
      "position": [
        208,
        1792
      ],
      "webhookId": "",
      "parameters": {},
      "credentials": {
        "klickTippApi": {
          "id": "K9JyBdCM4SZc1cXl",
          "name": "DEMO KlickTipp account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "35567b0f-b232-438e-9700-fa75eaf94c73",
      "name": "Check for KlickTipp ID",
      "type": "n8n-nodes-base.filter",
      "position": [
        752,
        1360
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "f648741c-961c-4eff-a6d8-a3722005d341",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              },
              "leftValue": "={{ $json.body.klicktippId }}",
              "rightValue": ""
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "39fa0e65-9b8d-47f3-af0f-b51cfad98696",
      "name": "Check for email address1",
      "type": "n8n-nodes-base.filter",
      "position": [
        752,
        880
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "f648741c-961c-4eff-a6d8-a3722005d341",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              },
              "leftValue": "={{ $json.body.email }}",
              "rightValue": ""
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "8d54b2c5-c60c-411d-b9f1-29d20079e10e",
      "name": "Check for KlickTipp ID1",
      "type": "n8n-nodes-base.filter",
      "position": [
        752,
        1088
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "f648741c-961c-4eff-a6d8-a3722005d341",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              },
              "leftValue": "={{ $json.body.klicktippId }}",
              "rightValue": ""
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "f9a279f0-ea7e-4d83-9f43-80c08c2b4aae",
      "name": "Check Subscription in Zoho",
      "type": "n8n-nodes-base.switch",
      "position": [
        480,
        1792
      ],
      "parameters": {
        "rules": {
          "values": [
            {
              "outputKey": "New Contact",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "38151a18-a83b-477b-8e67-d890d57b45b6",
                    "operator": {
                      "type": "string",
                      "operation": "empty",
                      "singleValue": true
                    },
                    "leftValue": "={{ $json.field226649 }}",
                    "rightValue": ""
                  }
                ]
              },
              "renameOutput": true
            },
            {
              "outputKey": "Update Contact",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "02050eb5-ed15-4dfb-a548-eca7a0b2d37f",
                    "operator": {
                      "type": "string",
                      "operation": "notEmpty",
                      "singleValue": true
                    },
                    "leftValue": "={{ $json.field226649 }}",
                    "rightValue": "Unsubscribed"
                  }
                ]
              },
              "renameOutput": true
            }
          ]
        },
        "options": {}
      },
      "typeVersion": 3.3
    },
    {
      "id": "7f1bf99e-2bda-4b2a-96f3-bf2a15bed04f",
      "name": "Check for last name in KlickTipp",
      "type": "n8n-nodes-base.filter",
      "position": [
        752,
        1664
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "f648741c-961c-4eff-a6d8-a3722005d341",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              },
              "leftValue": "={{ $json.fieldLastName }}",
              "rightValue": ""
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "82ece207-d2e8-46d4-a53c-d119a58ac58c",
      "name": "Check for Zoho contact ID",
      "type": "n8n-nodes-base.filter",
      "position": [
        752,
        1936
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "f648741c-961c-4eff-a6d8-a3722005d341",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              },
              "leftValue": "={{ $json.field226649 }}",
              "rightValue": ""
            },
            {
              "id": "723654ac-4fb0-4367-983f-530537191471",
              "operator": {
                "type": "string",
                "operation": "notEmpty",
                "singleValue": true
              },
              "leftValue": "={{ $json.fieldLastName }}",
              "rightValue": ""
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "427d54ec-ec29-41a4-9efd-8a07a787a74f",
      "name": "Update a contact in Zoho",
      "type": "n8n-nodes-base.zohoCrm",
      "position": [
        1040,
        1936
      ],
      "parameters": {
        "resource": "contact",
        "contactId": "={{ $json.field226649 }}",
        "operation": "update",
        "updateFields": {
          "Fax": "={{ $json.fieldFax }}",
          "Email": "={{ $json.email }}",
          "Phone": "={{ $json.fieldPhone }}",
          "Mobile": "={{ $json.fieldMobilePhone }}",
          "Last_Name": "={{ $json.fieldLastName }}",
          "First_Name": "={{ $json.fieldFirstName }}",
          "Home_Phone": "={{ $json.fieldPrivatePhone }}",
          "Date_of_Birth": "={{ new Date($json.fieldBirthday * 1000).toLocaleDateString('en-CA') }}",
          "Mailing_Address": {
            "address_fields": {
              "Mailing_Zip": "={{ $json.fieldZip }}",
              "Mailing_City": "={{ $json.fieldCity }}",
              "Mailing_State": "={{ $json.fieldState }}",
              "Mailing_Street": "={{ $json.fieldStreet1 }}",
              "Mailing_Country": "={{ $json.fieldCountry }}"
            }
          }
        }
      },
      "credentials": {
        "zohoOAuth2Api": {
          "id": "cfk0Qy68UBfaj66u",
          "name": "(Oleksandr 2) Zoho account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "22b5ffeb-fcaf-4f32-9f1a-84b5f9f6e52e",
      "name": "1. Get contact data.",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        112,
        144
      ],
      "parameters": {
        "color": 7,
        "width": 256,
        "height": 2032,
        "content": "## 1. Get contact data."
      },
      "typeVersion": 1
    },
    {
      "id": "4a8c6090-81e1-4ba4-b5d0-d910eb6b9431",
      "name": "3. Filter contacts.",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        656,
        144
      ],
      "parameters": {
        "color": 7,
        "width": 272,
        "height": 2032,
        "content": "## 3. Filter contacts."
      },
      "typeVersion": 1
    },
    {
      "id": "a29fd0f9-96fb-461c-99f5-5cc9ef92af96",
      "name": "2. Route by subscription.",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        384,
        144
      ],
      "parameters": {
        "color": 7,
        "width": 256,
        "height": 2032,
        "content": "## 2. Route by subscription."
      },
      "typeVersion": 1
    },
    {
      "id": "e4243e32-a811-423f-9056-1e0eda2231f3",
      "name": "4. Transfer contact data.",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        944,
        144
      ],
      "parameters": {
        "color": 7,
        "width": 288,
        "height": 2032,
        "content": "## 4. Transfer contact data."
      },
      "typeVersion": 1
    },
    {
      "id": "7e79cfbc-006d-4ca2-aa65-1877184e3946",
      "name": "5. Save contact ID",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1248,
        144
      ],
      "parameters": {
        "color": 7,
        "width": 272,
        "height": 2032,
        "content": "## 5. Save contact ID"
      },
      "typeVersion": 1
    },
    {
      "id": "26d71490-ce22-4070-8506-88fba2845cf6",
      "name": "7. Segmentation.",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1808,
        144
      ],
      "parameters": {
        "color": 7,
        "width": 560,
        "height": 2032,
        "content": "## 7. Segmentation."
      },
      "typeVersion": 1
    },
    {
      "id": "2ca873ff-eacf-4492-855e-947f43174c34",
      "name": "Add Zoho CRM Contact ID to KlickTipp Contact",
      "type": "n8n-nodes-klicktipp.klicktipp",
      "position": [
        1344,
        1664
      ],
      "parameters": {
        "fields": {
          "dataFields": [
            {
              "fieldId": "field226649",
              "fieldValue": "={{ $json.id }}"
            }
          ]
        },
        "resource": "subscriber",
        "operation": "update",
        "lookupEmail": "={{ $('Contact Tagged in KlickTipp').item.json.email }}"
      },
      "credentials": {
        "klickTippApi": {
          "id": "K9JyBdCM4SZc1cXl",
          "name": "DEMO KlickTipp account"
        }
      },
      "typeVersion": 3
    },
    {
      "id": "63337b1d-d227-4ec2-a42f-7823ee9b9c55",
      "name": "Documentation",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -640,
        144
      ],
      "parameters": {
        "width": 727,
        "height": 1340,
        "content": "Community Node Disclaimer: This workflow uses KlickTipp community nodes.\n\n## Introduction\nThis workflow creates a complete two-way synchronization between **KlickTipp** and **Zoho CRM**.  \nWhenever a contact is created or updated in either system, the workflow mirrors these changes across both platforms — ensuring your CRM and email marketing database always stay aligned.\n\nPerfect for teams who want automatic, real-time syncing of customer profiles, subscription states, and segmentation data, without manual updates or CSV imports.\n\n## How it works\n### Zoho CRM → KlickTipp:\nTriggered via Zoho CRM workflow webhooks:\n- **Contact registered via Form** → Fetches full Zoho contact → creates in KlickTipp → saves KlickTipp Contact ID back into Zoho → Tags contacts.\n- **Contact Created/Updated** → Fetches full Zoho contact → routes by subscription → creates, updates, or unsubscribes in KlickTipp → saves KlickTipp Contact ID back into Zoho → Tags contacts.\n- **Contact Deleted** → Removes the corresponding contact in KlickTipp.\n\n### KlickTipp → Zoho CRM:\nTriggered by incoming KlickTipp webhooks or specific tags:\n- Creates or updates contacts in Zoho CRM using KlickTipp data → saves Zoho CRM Contact ID inside KlickTipp → Tages Zoho CRM Contacts.\n\n## Setup Instructions\n1. **KlickTipp Preparation**\n   - Create **custom fields** for:\n     - `Zoho | Contact ID`\n   - Create **tags**:\n     - `Zoho | Send contact`\n     - `Zoho | Contact created`\n     - `Zoho | Contact created via Form`\n     - `Zoho | Online store`\n     - `Zoho | ABC`\n     - Any additional segmentation tags.\n   - Add **webhook**:\n     - **Activation tag:** `Zoho | Send contact`\n     - **Activation URL:** webhook URL from triggers\n\n2. **Zoho CRM Preparation**\n   - Create workflow rules for:\n     - **Contact created via form** → webhook\n     - **Contact created or updated** → webhook\n     - **Contact deleted** → webhook\n   - Create **custom fields** in Zoho CRM:\n     - `KlickTipp ID`\n\n3. **Credential Configuration**\n     - Connect your Zoho CRM account using a **Client ID** and **Client Secret**  from the Zoho API console.\n     - Authenticate your KlickTipp connection with **username/password** credentials (API access required).\n\n## Customization\n- Expand mapping nodes to include more Zoho/KlickTipp fields.\n- Add more segmentation branches in the \"Check relevant Segment\" rule or use other fields for segmentation."
      },
      "typeVersion": 1
    },
    {
      "id": "230f8c0c-ed45-4b90-83f2-57120dd3df1b",
      "name": "Tag contact for first transactional mail",
      "type": "n8n-nodes-klicktipp.klicktipp",
      "position": [
        2176,
        592
      ],
      "parameters": {
        "email": "={{ $('Create Contact with SOI').item.json.email }}",
        "tagId": [
          "13879733"
        ],
        "resource": "contact-tagging"
      },
      "credentials": {
        "klickTippApi": {
          "id": "K9JyBdCM4SZc1cXl",
          "name": "DEMO KlickTipp account"
        }
      },
      "typeVersion": 3
    },
    {
      "id": "fe1d8090-6592-4df3-87d7-455159305e59",
      "name": "6. Get full contact.",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1536,
        144
      ],
      "parameters": {
        "color": 7,
        "width": 256,
        "height": 2032,
        "content": "## 6. Get full contact."
      },
      "typeVersion": 1
    },
    {
      "id": "62e1811d-660a-4fad-ac57-630a2186aa57",
      "name": "Create Contact with DOI",
      "type": "n8n-nodes-klicktipp.klicktipp",
      "position": [
        1040,
        304
      ],
      "parameters": {
        "email": "={{ $json.body.email }}",
        "tagId": "13939731",
        "fields": {
          "dataFields": [
            {
              "fieldId": "field226649",
              "fieldValue": "={{ $json.body.id }}"
            },
            {
              "fieldId": "fieldFirstName",
              "fieldValue": "={{ $json.body.firstName }}"
            },
            {
              "fieldId": "fieldLastName",
              "fieldValue": "={{ $json.body.lastName }}"
            },
            {
              "fieldId": "fieldPhone",
              "fieldValue": "={{ $json.body.phone }}"
            },
            {
              "fieldId": "fieldMobilePhone",
              "fieldValue": "={{ $json.body.mobile }}"
            },
            {
              "fieldId": "fieldPrivatePhone",
              "fieldValue": "={{ $json.body.homePhone }}"
            },
            {
              "fieldId": "fieldFax",
              "fieldValue": "={{ $json.body.fax }}"
            },
            {
              "fieldId": "fieldBirthday",
              "fieldValue": "={{ $json.body.dateOfBirth }}"
            },
            {
              "fieldId": "fieldCountry",
              "fieldValue": "={{ $json.body.mailingCountry }}"
            },
            {
              "fieldId": "fieldState",
              "fieldValue": "={{ $json.body.mailingState }}"
            },
            {
              "fieldId": "fieldCity",
              "fieldValue": "={{ $json.body.mailingCity }}"
            },
            {
              "fieldId": "fieldStreet1",
              "fieldValue": "={{ $json.body.mailingStreet }}"
            },
            {
              "fieldId": "fieldZip",
              "fieldValue": "={{ $json.body.mailingZip }}"
            }
          ]
        },
        "listId": "358895",
        "resource": "subscriber",
        "operation": "subscribe"
      },
      "credentials": {
        "klickTippApi": {
          "id": "K9JyBdCM4SZc1cXl",
          "name": "DEMO KlickTipp account"
        }
      },
      "typeVersion": 3
    },
    {
      "id": "1076a65b-3156-435b-b162-4fb88e6f83f3",
      "name": "Check for email address2",
      "type": "n8n-nodes-base.filter",
      "position": [
        752,
        304
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "f648741c-961c-4eff-a6d8-a3722005d341",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              },
              "leftValue": "={{ $json.body.email }}",
              "rightValue": ""
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "f6db605b-a6b3-4298-abfc-a917b372e911",
      "name": "Tag Contact in Zoho CRM",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        2176,
        1696
      ],
      "parameters": {
        "url": "https://www.zohoapis.eu/crm/v3/Contacts/actions/add_tags",
        "method": "POST",
        "options": {},
        "jsonBody": "={\n    \"ids\": [\n        \"{{ $json.field226649 }}\"\n    ],\n    \"tags\": [\n        {\n            \"name\": \"Online Store\"\n        }\n    ]\n} ",
        "sendBody": true,
        "specifyBody": "json",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "zohoOAuth2Api"
      },
      "credentials": {
        "zohoOAuth2Api": {
          "id": "cfk0Qy68UBfaj66u",
          "name": "(Oleksandr 2) Zoho account"
        }
      },
      "typeVersion": 4.2
    },
    {
      "id": "648175c5-b545-47a9-a1f7-25e9ade6dec0",
      "name": "Create a contact in Zoho",
      "type": "n8n-nodes-base.zohoCrm",
      "position": [
        1040,
        1664
      ],
      "parameters": {
        "lastName": "={{ $json.fieldLastName }}",
        "resource": "contact",
        "additionalFields": {
          "Fax": "={{ $json.fieldFax }}",
          "Email": "={{ $json.email }}",
          "Phone": "={{ $json.fieldPhone }}",
          "Mobile": "={{ $json.fieldMobilePhone }}",
          "Full_Name": "={{ $json.fullname }}",
          "First_Name": "={{ $json.fieldFirstName }}",
          "Home_Phone": "={{ $json.fieldPrivatePhone }}",
          "customFields": {
            "customFields": [
              {
                "value": "={{ $json.id }}",
                "fieldId": "KlickTipp_ID"
              }
            ]
          },
          "Date_of_Birth": "={{ new Date($json.fieldBirthday * 1000).toLocaleDateString('en-CA') }}",
          "Mailing_Address": {
            "address_fields": {
              "Mailing_Zip": "={{ $json.fieldZip }}",
              "Mailing_City": "={{ $json.fieldCity }}",
              "Mailing_State": "={{ $json.fieldState }}",
              "Mailing_Street": "={{ $json.fieldStreet1 }}",
              "Mailing_Country": "={{ $json.fieldCountry }}"
            }
          }
        }
      },
      "credentials": {
        "zohoOAuth2Api": {
          "id": "cfk0Qy68UBfaj66u",
          "name": "(Oleksandr 2) Zoho account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "534bdbbe-0543-4146-8e9a-d70393e66a96",
      "name": "Get contact data for tagging1",
      "type": "n8n-nodes-base.zohoCrm",
      "position": [
        1616,
        880
      ],
      "parameters": {
        "resource": "contact",
        "contactId": "={{ $('Contact created or updated in Zoho CRM').item.json.body.id }}",
        "operation": "get"
      },
      "credentials": {
        "zohoOAuth2Api": {
          "id": "cfk0Qy68UBfaj66u",
          "name": "(Oleksandr 2) Zoho account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "7f490bbc-273f-4294-9cf2-cad99040eae5",
      "name": "Get contact data for tagging",
      "type": "n8n-nodes-klicktipp.klicktipp",
      "position": [
        1616,
        1792
      ],
      "parameters": {
        "resource": "subscriber",
        "operation": "get",
        "lookupEmail": "={{ $('Contact Tagged in KlickTipp').item.json.email }}"
      },
      "credentials": {
        "klickTippApi": {
          "id": "K9JyBdCM4SZc1cXl",
          "name": "DEMO KlickTipp account"
        }
      },
      "typeVersion": 3
    },
    {
      "id": "1a08de93-67e5-440c-a6cb-de0dd632b104",
      "name": "Check relevant Segment 1",
      "type": "n8n-nodes-base.switch",
      "position": [
        1888,
        1792
      ],
      "parameters": {
        "rules": {
          "values": [
            {
              "outputKey": "Online store",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "2cb613b1-eb67-4563-b3a5-8d3b6802fc51",
                    "operator": {
                      "type": "array",
                      "operation": "contains",
                      "rightType": "any"
                    },
                    "leftValue": "={{ $json.tags }}",
                    "rightValue": "13879589"
                  }
                ]
              },
              "renameOutput": true
            },
            {
              "outputKey": "ABC",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "aa5f45b4-6f69-40de-980f-4952e4d15e84",
                    "operator": {
                      "type": "array",
                      "operation": "contains",
                      "rightType": "any"
                    },
                    "leftValue": "={{ $json.tags }}",
                    "rightValue": "13879590"
                  }
                ]
              },
              "renameOutput": true
            }
          ]
        },
        "options": {
          "allMatchingOutputs": true
        }
      },
      "typeVersion": 3.3
    },
    {
      "id": "6bb26f8b-7987-4c5e-b840-951bb42828cf",
      "name": "Tag Contact in Zoho CRM1",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        2176,
        1904
      ],
      "parameters": {
        "url": "https://www.zohoapis.eu/crm/v3/Contacts/actions/add_tags",
        "method": "POST",
        "options": {},
        "jsonBody": "={\n    \"ids\": [\n        \"{{ $json.field226649 }}\"\n    ],\n    \"tags\": [\n        {\n            \"name\": \"ABC\"\n        }\n    ]\n} ",
        "sendBody": true,
        "specifyBody": "json",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "zohoOAuth2Api"
      },
      "credentials": {
        "zohoOAuth2Api": {
          "id": "cfk0Qy68UBfaj66u",
          "name": "(Oleksandr 2) Zoho account"
        }
      },
      "typeVersion": 4.2
    },
    {
      "id": "0f3c7a23-9dcd-47e3-a3c2-20af4d8b82c3",
      "name": "Tag contact in KlickTipp",
      "type": "n8n-nodes-klicktipp.klicktipp",
      "position": [
        2176,
        800
      ],
      "parameters": {
        "email": "={{ $json.email }}",
        "tagId": [
          "13879589"
        ],
        "resource": "contact-tagging"
      },
      "credentials": {
        "klickTippApi": {
          "id": "K9JyBdCM4SZc1cXl",
          "name": "DEMO KlickTipp account"
        }
      },
      "typeVersion": 3
    },
    {
      "id": "e7a3a98d-f020-4a65-be29-41de59bdc19a",
      "name": "Tag contact in KlickTipp1",
      "type": "n8n-nodes-klicktipp.klicktipp",
      "position": [
        2176,
        976
      ],
      "parameters": {
        "email": "={{ $json.email }}",
        "tagId": [
          "13879590"
        ],
        "resource": "contact-tagging"
      },
      "credentials": {
        "klickTippApi": {
          "id": "K9JyBdCM4SZc1cXl",
          "name": "DEMO KlickTipp account"
        }
      },
      "typeVersion": 3
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "timezone": "Europe/Berlin",
    "callerPolicy": "workflowsFromSameOwner",
    "availableInMCP": false,
    "executionOrder": "v1"
  },
  "versionId": "37a1248d-735e-42a2-a1e5-109e3edb9a82",
  "connections": {
    "Update contact": {
      "main": [
        [
          {
            "node": "Get contact data for tagging1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check Subscription": {
      "main": [
        [
          {
            "node": "Check for email address",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Check for email address1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Check for KlickTipp ID1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check for KlickTipp ID": {
      "main": [
        [
          {
            "node": "Delete contact in KlickTipp",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check for KlickTipp ID1": {
      "main": [
        [
          {
            "node": "Update contact",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check for email address": {
      "main": [
        [
          {
            "node": "Create Contact with SOI",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check relevant Segment ": {
      "main": [
        [
          {
            "node": "Tag contact in KlickTipp",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Tag contact in KlickTipp1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create Contact with DOI": {
      "main": [
        [
          {
            "node": "Add KlickTipp Contact ID2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create Contact with SOI": {
      "main": [
        [
          {
            "node": "Add KlickTipp Contact ID",
            "type": "main",
            "index": 0
          },
          {
            "node": "Get contact data for tagging1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add KlickTipp Contact ID": {
      "main": [
        [
          {
            "node": "Tag contact for first transactional mail",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check for email address1": {
      "main": [
        [
          {
            "node": "Unsubscribe contact",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check for email address2": {
      "main": [
        [
          {
            "node": "Create Contact with DOI",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check relevant Segment 1": {
      "main": [
        [
          {
            "node": "Tag Contact in Zoho CRM",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Tag Contact in Zoho CRM1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create a contact in Zoho": {
      "main": [
        [
          {
            "node": "Add Zoho CRM Contact ID to KlickTipp Contact",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update a contact in Zoho": {
      "main": [
        [
          {
            "node": "Get contact data for tagging",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add KlickTipp Contact ID2": {
      "main": [
        []
      ]
    },
    "Check for Zoho contact ID": {
      "main": [
        [
          {
            "node": "Update a contact in Zoho",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check Subscription in Zoho": {
      "main": [
        [
          {
            "node": "Check for last name in KlickTipp",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Check for Zoho contact ID",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Contact Tagged in KlickTipp": {
      "main": [
        [
          {
            "node": "Check Subscription in Zoho",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Contact deleted in Zoho CRM": {
      "main": [
        [
          {
            "node": "Check for KlickTipp ID",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get contact data for tagging": {
      "main": [
        [
          {
            "node": "Check relevant Segment 1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get contact data for tagging1": {
      "main": [
        [
          {
            "node": "Check relevant Segment ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check for last name in KlickTipp": {
      "main": [
        [
          {
            "node": "Create a contact in Zoho",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Contact created or updated in Zoho CRM": {
      "main": [
        [
          {
            "node": "Check Subscription",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Contact registered via Form in Zoho CRM": {
      "main": [
        [
          {
            "node": "Check for email address2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Zoho CRM Contact ID to KlickTipp Contact": {
      "main": [
        [
          {
            "node": "Get contact data for tagging",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}