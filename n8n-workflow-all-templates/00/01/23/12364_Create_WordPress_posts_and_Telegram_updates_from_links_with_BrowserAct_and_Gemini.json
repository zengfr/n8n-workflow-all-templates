{
  "id": "uoGILeTpRLjA6PqX",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Create WordPress posts and Telegram updates from links with BrowserAct and Gemini",
    "wechat": "youandme10086",
    "id": 12364,
    "update_time": "2026-02-13"
  },
  "name": "Auto-generate Wordpress posts and social media updates With BrowserAct",
  "tags": [],
  "nodes": [
    {
      "id": "b4354abe-0b88-4a5f-ac40-830082a476c6",
      "name": "Generate an image",
      "type": "@n8n/n8n-nodes-langchain.googleGemini",
      "position": [
        1712,
        464
      ],
      "parameters": {
        "prompt": "={{ $json.output.Prompt }} ",
        "modelId": {
          "__rl": true,
          "mode": "list",
          "value": "models/gemini-3-pro-image-preview",
          "cachedResultName": "models/gemini-3-pro-image-preview (Nano Banana Pro)"
        },
        "options": {
          "binaryPropertyOutput": "data"
        },
        "resource": "image"
      },
      "credentials": {
        "googlePalmApi": {
          "id": "9pXYiybR74j5zn4d",
          "name": "Google Gemini(PaLM) Api account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "a2b9eea1-0ef1-4fec-826c-e9f2000afcd1",
      "name": "Validate user Input",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        -288,
        304
      ],
      "parameters": {
        "text": "={{ $json.message.text }}",
        "options": {
          "systemMessage": "You are an input classification engine. Your sole purpose is to analyze user text and output a JSON object based on specific criteria. Do not generate conversational text; only output the raw JSON.\n\nRules for Classification (evaluated in order of priority):\n\n1. ARTICLE & LINK PROCESSING (Priority 1):\n   If the user asks to generate, summarize, or read an article, blog post, or specific content (e.g., \"Summarize this page,\" \"Write an article based on this link,\" \"Analyze this\").\n   - CRITICAL CHECK: Does the input contain a valid URL or web link?\n     - IF YES (Link is present):\n       - Set \"Type\" to \"Article_Request\".\n       - Extract the URL as \"Link\".\n       - Output format: {\"Type\": \"Article_Request\", \"Link\": \"extracted_link\"}\n     \n     - IF NO (Link is missing):\n       - Treat this strictly as \"NoData\".\n       - Output format: {\"Type\": \"NoData\", \"Link\": \"Null\"}\n\n2. REGULAR CHAT (Priority 2):\n   If the user input is a greeting, small talk, or general conversational filler (e.g., \"Hello,\" \"How are you?\", \"Tell me a joke\") without asking for link processing.\n   - Output format: {\"Type\": \"Chat\", \"Link\": \"Null\"}\n\n3. INSUFFICIENT DATA (Priority 3):\n   If the user input is gibberish, vague, or if it matched the \"Article\" intent but lacked a link (as per Rule 1).\n   - Output format: {\"Type\": \"NoData\", \"Link\": \"Null\"}\n\nOutput Constraint:\nReturn ONLY the raw JSON object. Do not wrap it in markdown code blocks. Do not add explanations."
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 3
    },
    {
      "id": "914a9e2d-7435-41f0-bf2f-c2080a9651e4",
      "name": "Images Analayze",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        1072,
        464
      ],
      "parameters": {
        "text": "=[\n  {\n    \"type\": \"text\",\n    \"text\": \"Analyze this image in extreme detail.\"\n  },\n  {\n    \"type\": \"image_url\",\n    \"image_urls\": {\n      \"urls\": \"{{ $json.output.images }}\",\n      \"detail\": \"high\"\n    }\n  }\n]",
        "options": {
          "systemMessage": "You are an advanced image analysis AI specialized in deconstructing YouTube thumbnails. Your sole task is to generate an exhaustive, forensic-level description of the provided thumbnail image. You must analyze and describe absolutely every visual element present without omission.\n\nMethodically scan the image and provide a detailed account covering:\n\nBackground: The complete setting, location, environment, scenery, lighting, and weather.\n\nForeground & Subjects: Every person, character, or main object. Detail their appearance, clothing, facial expressions, poses, actions, and exact spatial positions relative to the frame.\n\nText: Transcribe absolutely all visible text exactly as it appears (including capitalization and punctuation). For every text element, specify its exact content, font style (e.g., bold, capitalized, handwritten), color, any effects (like outlines or shadows), and its precise location on the image.\n\nGraphics & Effects: Describe any logos, icons, brand marks, arrows, circles, emojis, overlays, borders, or visual effects (like explosions, blurs, or high contrast filters).\n\nComposition: The overall color palette, dominant tones, and the general mood or vibe the thumbnail conveys.\n\nCRITICAL OUTPUT CONSTRAINT: Your final output must consist only of the raw descriptive text stream. Do not include any introductions, explanations, section headers, formatting tags, metadata, or conversational fillers. Send only the complete description."
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 3
    },
    {
      "id": "497eb6a7-b4b0-4713-bab0-a937f2f55fb5",
      "name": "Generate Web Structure",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        2240,
        192
      ],
      "parameters": {
        "text": "=Web_Article : {{ $('Analyze Input & Generate Article').first().json.output.web_article.title }}\n{{ $('Analyze Input & Generate Article').first().json.output.web_article.content }}\nimage link: {{ $('Upload Image To Wordpress').first().json.link }}\n\n",
        "options": {
          "systemMessage": "Role: You are an expert Web Editor and SEO Specialist. Your goal is to transform raw article text into a high-converting, SEO-optimized, and HTML-formatted WordPress blog post.\n\nInput Data: You will receive a JSON object:\n\nweb_article: Contains title and content.\n\nimages: A list of strings, where each string is a public URL of an image.\n\nTask 1: Content Refinement & SEO\n\nTone: Professional, authoritative, and engaging.\n\nReadability: Break text into paragraphs of 2-3 sentences.\n\nSubheadings: Use <h2> for main sections and <h3> for subsections. Ensure they contain keywords naturally.\n\nFormatting: Use <strong> for key terms, <ul>/<li> for lists, and <blockquote> for impactful statements.\n\nTask 2: Image URL Integration (Strict Rules)\n\nSource: Use the URLs from the images list exactly as provided.\n\nPlacement: > 1. Insert the first URL from the list as an <img> tag immediately after the first paragraph. 2. Distribute all remaining URLs from the list evenly between subsequent sections.\n\nHTML Syntax: <img src=\"URL_HERE\" alt=\"Contextual SEO Alt Text\" style=\"width:100%; height:auto;\" />\n\nAlt Text: Write descriptive, SEO-friendly alt text based on the section where the image is placed.\n\nTask 3: Output Requirements\n\nReturn ONLY a raw JSON object.\n\nNo markdown code blocks (no ```json).\n\nStructure: { \"wordpress_title\": \"Refined Catchy SEO Title\", \"wordpress_body_html\": \"<p>Intro...</p><img src='url1' alt='...' /><h2>Section</h2><p>Content...</p>\" }"
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 3
    },
    {
      "id": "b1e4cfb2-e436-45b2-9c24-ce51dde3368e",
      "name": "Generate Telegram Post",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        2944,
        192
      ],
      "parameters": {
        "text": "=Web_Article : {{ $('Analyze Input & Generate Article').first().json.output.telegram_post }},\nLink:{{ $('Publish Post via WordPress').first().json.link }}",
        "options": {
          "systemMessage": "Role: You are a Social Media Manager specializing in Telegram growth. Your goal is to write a high-impact, engaging caption for an image post that drives clicks to the full article.\n\nInput Data: You will receive a JSON object containing:\n\ntelegram_post: A draft summary of the content.\n\narticle_link: The URL to the full web article.\n\nimages: A list of image URLs (context only, to know visuals are present).\n\nProcess:\n\nRefine Copy: Rewrite the telegram_post draft to be punchy and exciting. Use emojis to break up the text üß™‚ö°Ô∏è.\n\nApply Telegram HTML:\n\nUse <b>Headline</b> for the title.\n\nUse <i>text</i> for emphasis if needed.\n\nUse <a href=\"URL\">Read More</a> for the link.\n\nStrictly avoid unsupported tags (like <p>, <br>, <img>, <div>). Use newlines (\\n) for spacing.\n\nInclude Link: Ensure the article_link is embedded clearly, preferably as a \"Read Full Study\" or \"Source\" link at the bottom.\n\nConstraints:\n\nCRITICAL: The total length must be under 1024 characters (Telegram's limit for media captions).\n\nEnsure the tone is informative yet accessible.\n\nOutput Format: Return a single raw JSON object (no markdown code blocks) with the following structure:\n\n{\n  \"telegram_caption\": \"<b>Headline</b>\\n\\nEngaging summary text with emojis.\\n\\n<a href='LINK'>Read Full Article ‚ûú</a>\"\n}"
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 3
    },
    {
      "id": "eb3c6bb8-dc2a-409f-8ea2-c001073caa6f",
      "name": "OpenRouter",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "position": [
        2240,
        384
      ],
      "parameters": {
        "model": "google/gemini-2.5-pro",
        "options": {}
      },
      "credentials": {
        "openRouterApi": {
          "id": "x6ohV3n8b2Kjebtm",
          "name": "OpenRouter account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "d95ebec0-e04c-456b-879d-6b0d81305fe8",
      "name": "Structured Output",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        2368,
        368
      ],
      "parameters": {
        "autoFix": true,
        "jsonSchemaExample": "{\n  \"wordpress_title\": \"The Refined Title\",\n  \"wordpress_body_html\": \"<p>First paragraph...</p><img src='GEMINI_OUTPUT_STRING_HERE' alt='Descriptive Alt Text' /><p>Second paragraph...</p>...\"\n}"
      },
      "typeVersion": 1.3
    },
    {
      "id": "a455726d-3529-477a-8a20-9ca73fecd24a",
      "name": "OpenRouter1",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "position": [
        2944,
        432
      ],
      "parameters": {
        "model": "google/gemini-2.5-pro",
        "options": {}
      },
      "credentials": {
        "openRouterApi": {
          "id": "x6ohV3n8b2Kjebtm",
          "name": "OpenRouter account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "8fdc658c-0d6a-4009-8f55-452cf34d0479",
      "name": "Analyze image",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        1056,
        688
      ],
      "parameters": {
        "options": {},
        "modelName": "models/gemini-2.5-pro"
      },
      "credentials": {
        "googlePalmApi": {
          "id": "9pXYiybR74j5zn4d",
          "name": "Google Gemini(PaLM) Api account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "4e4d43b3-31a9-4251-bd7b-c331c732e556",
      "name": "Generate Prompt",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        1424,
        688
      ],
      "parameters": {
        "options": {},
        "modelName": "models/gemini-2.5-pro"
      },
      "credentials": {
        "googlePalmApi": {
          "id": "9pXYiybR74j5zn4d",
          "name": "Google Gemini(PaLM) Api account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "94eaef75-a648-43b3-ab92-fbe7751e08ce",
      "name": "Structured Output1",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        1168,
        672
      ],
      "parameters": {
        "autoFix": true,
        "jsonSchemaExample": "[{    \n  \"output\": \n\"the ai output\"  \n}]"
      },
      "typeVersion": 1.3
    },
    {
      "id": "6199eb21-830f-404a-a007-77a73177b8c4",
      "name": "Structured Output2",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        1552,
        672
      ],
      "parameters": {
        "autoFix": true,
        "jsonSchemaExample": " {\"Prompt\": \"Prompt\"}"
      },
      "typeVersion": 1.3
    },
    {
      "id": "1772b4f4-971f-4ac5-a0f8-ae0d02c76893",
      "name": "Structured Output3",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        3040,
        432
      ],
      "parameters": {
        "autoFix": true,
        "jsonSchemaExample": "{\n  \"telegram_caption\": \"<b>Headline</b>\\n\\nEngaging summary text with emojis.\\n\\n<a href='LINK'>Read Full Article ‚ûú</a>\"\n}"
      },
      "typeVersion": 1.3
    },
    {
      "id": "60c767e2-bf31-495e-8461-0f3cb1559750",
      "name": "Generate Script",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        656,
        416
      ],
      "parameters": {
        "options": {},
        "modelName": "models/gemini-2.5-pro"
      },
      "credentials": {
        "googlePalmApi": {
          "id": "9pXYiybR74j5zn4d",
          "name": "Google Gemini(PaLM) Api account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "827ac349-4b26-4b19-8187-33eb79ddb6de",
      "name": "Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        320,
        736
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "9pXYiybR74j5zn4d",
          "name": "Google Gemini(PaLM) Api account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "ff47d8c1-7c62-4849-96cf-b37411baaefd",
      "name": "Validate inputs",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        -304,
        528
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "9pXYiybR74j5zn4d",
          "name": "Google Gemini(PaLM) Api account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "8de3faa5-e852-41d8-a28c-14c24c967a1a",
      "name": "Upload Image To Wordpress",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        1936,
        464
      ],
      "parameters": {
        "url": "https://(\"YourWordpressAdress.com\")/wp-json/wp/v2/media",
        "method": "POST",
        "options": {
          "allowUnauthorizedCerts": true
        },
        "sendBody": true,
        "contentType": "binaryData",
        "sendHeaders": true,
        "authentication": "predefinedCredentialType",
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Disposition",
              "value": "=attachment; filename=\"upload_{{ $now.toMillis() }}.png\""
            },
            {
              "name": "Content-Type",
              "value": "={{ $json.mimeType }}"
            }
          ]
        },
        "inputDataFieldName": "data",
        "nodeCredentialType": "wordpressApi"
      },
      "credentials": {
        "wordpressApi": {
          "id": "D4e7ajESr5RoIsa4",
          "name": "Wordpress account"
        }
      },
      "typeVersion": 4.3,
      "alwaysOutputData": false
    },
    {
      "id": "b837d733-667f-4672-ab4d-b3fb661ef4e0",
      "name": "User Sends Message to Bot",
      "type": "n8n-nodes-base.telegramTrigger",
      "position": [
        -480,
        304
      ],
      "webhookId": "a98e8455-ba5a-447e-b928-733483d34db4",
      "parameters": {
        "updates": [
          "message"
        ],
        "additionalFields": {}
      },
      "credentials": {
        "telegramApi": {
          "id": "gJnGTVzNOeiM3LHZ",
          "name": "Telegram account"
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "c4e4b274-7f1f-4621-af0e-a4798f4127ff",
      "name": "Check For Input Type",
      "type": "n8n-nodes-base.switch",
      "position": [
        64,
        288
      ],
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "version": 3,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "9e003f66-d011-459a-a313-b603c0e14551",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "leftValue": "={{ $json.output.Type }}",
                    "rightValue": "Article_Request"
                  }
                ]
              }
            },
            {
              "conditions": {
                "options": {
                  "version": 3,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "2ebb24ec-bd32-4e96-a022-93d066fda17f",
                    "operator": {
                      "name": "filter.operator.equals",
                      "type": "string",
                      "operation": "equals"
                    },
                    "leftValue": "={{ $json.output.Type }}",
                    "rightValue": "Chat"
                  }
                ]
              }
            },
            {
              "conditions": {
                "options": {
                  "version": 3,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "24d355dd-efec-4946-96fe-3d82f3ee4d71",
                    "operator": {
                      "name": "filter.operator.equals",
                      "type": "string",
                      "operation": "equals"
                    },
                    "leftValue": "={{ $json.output.Type }}",
                    "rightValue": "NoData"
                  }
                ]
              }
            }
          ]
        },
        "options": {}
      },
      "typeVersion": 3.4
    },
    {
      "id": "57447047-58a8-4f8d-8f35-65abf3971cc7",
      "name": "Process Initialization Alert",
      "type": "n8n-nodes-base.telegram",
      "position": [
        384,
        112
      ],
      "webhookId": "23e1fb3a-33d8-40fa-aa49-08b320348b0a",
      "parameters": {
        "text": "=Ok, I will do it please give me a moment.",
        "chatId": "={{ $('User Sends Message to Bot').item.json.message.chat.id }}",
        "additionalFields": {
          "parse_mode": "HTML",
          "appendAttribution": false
        }
      },
      "credentials": {
        "telegramApi": {
          "id": "gJnGTVzNOeiM3LHZ",
          "name": "Telegram account"
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "9673f294-7810-4047-a628-cba72bfb7bf6",
      "name": "Extract Data from Target Site",
      "type": "n8n-nodes-browseract.browserAct",
      "position": [
        384,
        272
      ],
      "parameters": {
        "type": "WORKFLOW",
        "timeout": 7200,
        "workflowId": "69150243121694958",
        "workflowConfig": {
          "value": {
            "input-Target_Link": "={{ $json.output.Link}}"
          },
          "schema": [
            {
              "id": "input-Target_Link",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "description": "If left blank, the default value defined in BrowserAct will be used.",
              "displayName": "Target_Link",
              "defaultMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "input-Target_Link"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "open_incognito_mode": false
      },
      "credentials": {
        "browserActApi": {
          "id": "G1U5ih38TKU5wcI5",
          "name": "BrowserAct account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "d003e69e-bc2a-47e1-8ca6-7668a155c5b2",
      "name": "Generate Image Prompt",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        1424,
        464
      ],
      "parameters": {
        "text": "=Image refrence description : {{ $json.output }},\nMain web Article :  {{ $('Analyze Input & Generate Article').item.json.output.web_article }}",
        "options": {
          "systemMessage": "Role: You are a Visionary Concept Artist and Prompt Engineer specialized in generating prompts for the \"Nano Banana Pro\" model. Your goal is to create a single, highly detailed image generation prompt that translates complex scientific breakthroughs into stunning visual art.\n\nInput Data:\n\nArticle Content: Text describing a scientific breakthrough (primary source for the visual subject).\n\nReference Image Description: Text describing an existing image (secondary source for lighting/color palette only).\n\nProcess:\n\nAnalyze the Science: Extract the core mechanism from the article (e.g., \"electron tunneling,\" \"twisted layers,\" \"diode asymmetry\").\n\nCreative Visualization: detailedly explain the scene you want to generate. Visualize the microscopic scientific concept as a massive, tangible structure.\n\nExample: Instead of a small chip, visualize a \"monolithic glowing gate where energy flows like liquid plasma.\"\n\nIntegrate Atmosphere: Borrow the mood (lighting, colors, bokeh) from the Reference Image Description, but ignore specific subjects (like people) or text overlays found in the reference.\n\nFormat for Nano Banana Pro: Combine your detailed visual explanation with high-quality style tags.\n\nConstraints:\n\nNO Text: Explicitly instruct the prompt to avoid rendering text or letters.\n\nthe image needs to be in landscape 16:9 aspect ratio.\n\nNO Markdown: Do not use ```json or ```.\n\nOutput Structure: Return only a raw JSON object with a single key: \"Prompt\".\n\nOutput Format:\n\n\n{\n  \"Prompt\": \"(Masterpiece, best quality, ultra-detailed), [Detailed visual explanation of the scientific concept as a 3D environment], [Lighting & Color Palette from reference], [Technical tags: Unreal Engine 5, Octane Render, 8k, ray tracing, volumetric lighting, sharp focus]\"\n}"
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 3
    },
    {
      "id": "6fb99475-19f4-4012-a958-be4f4a51f52e",
      "name": "Synchronize Parallel Executions",
      "type": "n8n-nodes-base.merge",
      "position": [
        2096,
        192
      ],
      "parameters": {
        "mode": "chooseBranch"
      },
      "typeVersion": 3.2
    },
    {
      "id": "af41ea63-b875-4423-90b4-8c567a49c6bb",
      "name": "Synchronize Paths",
      "type": "n8n-nodes-base.merge",
      "position": [
        2784,
        192
      ],
      "parameters": {
        "mode": "chooseBranch"
      },
      "typeVersion": 3.2
    },
    {
      "id": "8f594f59-1cae-448b-a995-066f5d9e84f8",
      "name": "Waiting for Required Inputs",
      "type": "n8n-nodes-base.merge",
      "position": [
        3344,
        288
      ],
      "parameters": {},
      "typeVersion": 3.2
    },
    {
      "id": "fb42538e-3d84-4ca7-a785-0ef5ad38f58e",
      "name": "Answer the User",
      "type": "n8n-nodes-base.telegram",
      "position": [
        672,
        592
      ],
      "webhookId": "23e1fb3a-33d8-40fa-aa49-08b320348b0a",
      "parameters": {
        "text": "={{ $json.output }}",
        "chatId": "={{ $('User Sends Message to Bot').item.json.message.chat.id }}",
        "additionalFields": {
          "parse_mode": "HTML",
          "appendAttribution": false
        }
      },
      "credentials": {
        "telegramApi": {
          "id": "gJnGTVzNOeiM3LHZ",
          "name": "Telegram account"
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "8e0cb123-cdda-45e0-aee8-ae88f50a84b7",
      "name": "Send a photo And caption",
      "type": "n8n-nodes-base.telegram",
      "position": [
        3520,
        288
      ],
      "webhookId": "d63fd190-450d-4b11-b814-9a459d58e02e",
      "parameters": {
        "file": "={{ $('Upload Image To Wordpress').first().json.media_details.sizes.large.source_url }}",
        "chatId": "parameters.chatId==@Channel ID (Use Channel ID or Chat ID)",
        "operation": "sendPhoto",
        "additionalFields": {
          "caption": "={{ $('Generate Telegram Post').first().json.output.telegram_caption }}",
          "parse_mode": "HTML"
        }
      },
      "credentials": {
        "telegramApi": {
          "id": "gJnGTVzNOeiM3LHZ",
          "name": "Telegram account"
        }
      },
      "executeOnce": true,
      "typeVersion": 1.2
    },
    {
      "id": "bec183c2-c1a0-4d65-a976-8510bc654d32",
      "name": "Publish Post via WordPress",
      "type": "n8n-nodes-base.wordpress",
      "position": [
        2592,
        208
      ],
      "parameters": {
        "title": "={{ $json.output.wordpress_title }} ",
        "additionalFields": {
          "content": "={{ $json.output.wordpress_body_html }} "
        }
      },
      "credentials": {
        "wordpressApi": {
          "id": "D4e7ajESr5RoIsa4",
          "name": "Wordpress account"
        }
      },
      "typeVersion": 1,
      "alwaysOutputData": true
    },
    {
      "id": "59dd54fa-b397-4a08-9544-a587020194f8",
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        -144,
        528
      ],
      "parameters": {
        "autoFix": true,
        "jsonSchemaExample": "{\"Type\": \"Article_Request\", \"Link\": \"extracted_link\"}"
      },
      "typeVersion": 1.3
    },
    {
      "id": "48e31482-3c3f-47ca-94a6-e57d16106cfb",
      "name": "Conversational Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        320,
        592
      ],
      "parameters": {
        "text": "=INput type : {{ $json.output.Type }} | User Input : {{ $('User Sends Message to Bot').item.json.message.text }}",
        "options": {
          "systemMessage": "if the input type is Nodata ask the user to provide the Link to the article or story.\n\nif the input type is chat, analyze the user input and generate single response\n\nsend the result out as a raw text.\navoid using any tags or notations like ```text ```"
        },
        "promptType": "define"
      },
      "typeVersion": 3
    },
    {
      "id": "3529bdb7-b76d-4d74-8a80-b562dab8693e",
      "name": "Structured Output4",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        752,
        400
      ],
      "parameters": {
        "autoFix": true,
        "jsonSchemaExample": "{\n  \"web_article\": {\n    \"title\": \"Final Cleaned Title\",\n    \"content\": \"Full combined text of the article...\"\n  },\n  \"telegram_post\": \"<b>Title</b>\\n\\nSummary text here...\",\n  \"images\": [\n    \"https://example.com/image1.jpg\"\n  ]\n}"
      },
      "typeVersion": 1.3
    },
    {
      "id": "bf94b0c5-fc25-46e9-8c6f-07e28c73eb96",
      "name": "Analyze Input & Generate Article",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        672,
        176
      ],
      "parameters": {
        "text": "={{ $json.output.string }}",
        "options": {
          "systemMessage": "Role: You are an intelligent Content Processor and Editor. Your task is to ingest a raw JSON array of article segments, filter out noise, and restructure the content into a specific JSON format for publishing.\n\nInput: A JSON array containing objects with title, header, body_text, paragraph, and image_links.\n\nProcessing Steps:\n\nFilter & Clean:\n\nRemove Duplicates: Identify and ignore duplicate text entries (e.g., if the summary appears twice) or duplicate images.\n\nRemove Irrelevant Data: Discard segments that contain only metadata, citations (like \"More information\" or DOI links), or empty placeholders unless they are critical for the narrative.\n\nMerge: Combine the remaining valid body_text fields into a logical flow to form a full article.\n\nGenerate Output 1: Web Article (web_article)\n\nTitle: Select the most descriptive and accurate title from the input.\n\nContent: A cohesive, multi-paragraph article derived from the cleaned body text. Ensure it reads smoothly like a standard news article.\n\nGenerate Output 2: Telegram Post (telegram_post)\n\nSummary: Create a concise, engaging summary of the article suitable for a social media update.\n\nFormatting: Use only Telegram-supported HTML tags:\n\n<b>text</b> for bolding headlines or key points.\n\n<i>text</i> for emphasis.\n\n<a href=\"URL\">text</a> for hyperlinks (if applicable).\n\nConstraints: Do not use unsupported tags (like <br>, <p>, <img>). Keep the length within Telegram's character limits (under 4096 characters, but aim for <1000 for readability).\n\nGenerate Output 3: Images (images)\n\nExtract all unique, valid image URLs found in the input. Return them as a list.\n\nOutput Format: You must return a single raw JSON object containing three keys: web_article, telegram_post, and images.\n\nCRITICAL FORMATTING RULES:\n\nDO NOT use Markdown formatting (i.e., do not use ```json or ```).\n\nDO NOT include any introductory or concluding text.\n\nONLY return the raw JSON string.\n\nExample Output Structure:\n\n{\n  \"web_article\": {\n    \"title\": \"Final Cleaned Title\",\n    \"content\": \"Full combined text of the article...\"\n  },\n  \"telegram_post\": \"<b>Title</b>\\n\\nSummary text here...\",\n  \"images\": [\n    \"https://example.com/image1.jpg\"\n  ]\n}"
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 3
    },
    {
      "id": "6b5edf62-21c3-4d15-8e6c-40c73355efc2",
      "name": "Documentation",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -928,
        80
      ],
      "parameters": {
        "width": 400,
        "height": 476,
        "content": "## ‚ö° Workflow Overview & Setup\n\n**Summary:** A full-stack publishing engine that scrapes articles, uses AI to write SEO-optimized blog posts, generates custom artwork, and broadcasts updates to Telegram.\n\n### Requirements\n* **Credentials:** BrowserAct, WordPress, Telegram, OpenRouter, Google Gemini.\n* **Mandatory:** BrowserAct API (Template: **Telegram and WordPress Post Architect**)\n\n### How to Use\n1. **Credentials:** Connect your WordPress Admin, Telegram Bot, and AI accounts.\n2. **BrowserAct Template:** Ensure you have the **Telegram and WordPress Post Architect** template saved in your BrowserAct account.\n3. **Setup:** Send an article link to your Telegram bot to trigger the dual-publishing pipeline.\n\n### Need Help?\n[How to Find Your BrowserAct API Key & Workflow ID](https://docs.browseract.com)\n[How to Connect n8n to BrowserAct](https://docs.browseract.com)\n[How to Use & Customize BrowserAct Templates](https://docs.browseract.com)"
      },
      "typeVersion": 1
    },
    {
      "id": "4e8e37b6-546d-40d3-b4a4-de24aefbd1fd",
      "name": "Step 1 Explanation",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -496,
        128
      ],
      "parameters": {
        "color": 7,
        "width": 700,
        "height": 108,
        "content": "### üö¶ Step 1: Intelligent Routing\n\nThe workflow acts as a chat bot first. It analyzes user intent to distinguish between casual conversation and specific article processing requests. If a valid URL is detected, it triggers the heavy-lifting extraction process."
      },
      "typeVersion": 1
    },
    {
      "id": "7399b387-642d-450a-b321-34203aa519f8",
      "name": "Step 2b Explanation",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        304,
        -16
      ],
      "parameters": {
        "color": 7,
        "width": 768,
        "height": 112,
        "content": "### ‚úçÔ∏è Step 2: Content Engineering\n\nRunning in parallel with the image generation, this branch cleans the raw scraped text. It rewrites the article for SEO, formats it into valid HTML headers/paragraphs, and prepares a catchy social media caption."
      },
      "typeVersion": 1
    },
    {
      "id": "3b0cd0ce-79e7-4fee-9eeb-9facdab861ce",
      "name": "Step 3 Explanation",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1040,
        816
      ],
      "parameters": {
        "color": 7,
        "width": 1036,
        "height": 124,
        "content": "### üñºÔ∏è Step 3: Visual Synthesis& Upload\n\nAnalyzes scraped visuals to prompt Gemini for a unique, copyright-free feature image. Once text and images are ready, it uploads to WordPress and sends the Image ID to the post node."
      },
      "typeVersion": 1
    },
    {
      "id": "5f201625-8441-4cd3-81bd-a245daae0051",
      "name": "Step 4 Explanation",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2096,
        48
      ],
      "parameters": {
        "color": 7,
        "width": 1548,
        "height": 112,
        "content": "### üì¢ Step 4: Dual-Channel Publishing\n\nOnce the WordPress blog post is live, the workflow retrieves the public link. It then combines the new blog link, the generated image, and the AI-written caption to send a final broadcast to the Telegram channel."
      },
      "typeVersion": 1
    },
    {
      "id": "b834f11d-353c-4d04-8dc5-05b1ff6d0c86",
      "name": "Step 4 Explanation1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        288,
        896
      ],
      "parameters": {
        "color": 7,
        "width": 596,
        "height": 120,
        "content": "### üí¨ Step 2-2: Conversational Fallback\n\nIf no link is present in the user's message, this branch engages the user in natural conversation or prompts them to provide a URL for processing."
      },
      "typeVersion": 1
    },
    {
      "id": "aa74defc-434c-437e-925f-8808c5cc06fc",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1856,
        352
      ],
      "parameters": {
        "color": 3,
        "width": 272,
        "height": 272,
        "content": "\nACTION REQUIRED: Replace the Google search URL with your live site domain.\n\nFind: > (\"YourWordPressAddress.com\")\n\nReplace with: > your-actual-site.com"
      },
      "typeVersion": 1
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "2c333a66-74ca-42a9-b3e5-c1ea49b922d8",
  "connections": {
    "Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Conversational Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter": {
      "ai_languageModel": [
        [
          {
            "node": "Generate Web Structure",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "Structured Output",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter1": {
      "ai_languageModel": [
        [
          {
            "node": "Generate Telegram Post",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "Structured Output3",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Analyze image": {
      "ai_languageModel": [
        [
          {
            "node": "Images Analayze",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "Structured Output1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Generate Prompt": {
      "ai_languageModel": [
        [
          {
            "node": "Generate Image Prompt",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "Structured Output2",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Generate Script": {
      "ai_languageModel": [
        [
          {
            "node": "Analyze Input & Generate Article",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "Structured Output4",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Images Analayze": {
      "main": [
        [
          {
            "node": "Generate Image Prompt",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Validate inputs": {
      "ai_languageModel": [
        [
          {
            "node": "Validate user Input",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "Structured Output Parser",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Generate an image": {
      "main": [
        [
          {
            "node": "Upload Image To Wordpress",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output": {
      "ai_outputParser": [
        [
          {
            "node": "Generate Web Structure",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Synchronize Paths": {
      "main": [
        [
          {
            "node": "Generate Telegram Post",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output1": {
      "ai_outputParser": [
        [
          {
            "node": "Images Analayze",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output2": {
      "ai_outputParser": [
        [
          {
            "node": "Generate Image Prompt",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output3": {
      "ai_outputParser": [
        [
          {
            "node": "Generate Telegram Post",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output4": {
      "ai_outputParser": [
        [
          {
            "node": "Analyze Input & Generate Article",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Validate user Input": {
      "main": [
        [
          {
            "node": "Check For Input Type",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check For Input Type": {
      "main": [
        [
          {
            "node": "Process Initialization Alert",
            "type": "main",
            "index": 0
          },
          {
            "node": "Extract Data from Target Site",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Conversational Agent",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Conversational Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Conversational Agent": {
      "main": [
        [
          {
            "node": "Answer the User",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Image Prompt": {
      "main": [
        [
          {
            "node": "Generate an image",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Telegram Post": {
      "main": [
        [
          {
            "node": "Waiting for Required Inputs",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Web Structure": {
      "main": [
        [
          {
            "node": "Publish Post via WordPress",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "Validate user Input",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Upload Image To Wordpress": {
      "main": [
        [
          {
            "node": "Waiting for Required Inputs",
            "type": "main",
            "index": 1
          },
          {
            "node": "Synchronize Parallel Executions",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "User Sends Message to Bot": {
      "main": [
        [
          {
            "node": "Validate user Input",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Publish Post via WordPress": {
      "main": [
        [
          {
            "node": "Synchronize Paths",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Waiting for Required Inputs": {
      "main": [
        [
          {
            "node": "Send a photo And caption",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract Data from Target Site": {
      "main": [
        [
          {
            "node": "Analyze Input & Generate Article",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Synchronize Parallel Executions": {
      "main": [
        [
          {
            "node": "Generate Web Structure",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Analyze Input & Generate Article": {
      "main": [
        [
          {
            "node": "Images Analayze",
            "type": "main",
            "index": 0
          },
          {
            "node": "Synchronize Paths",
            "type": "main",
            "index": 0
          },
          {
            "node": "Synchronize Parallel Executions",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}