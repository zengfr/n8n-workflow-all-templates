{
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Generate Japanese Twitter posts with GPT-4, quality control, and Notion",
    "wechat": "youandme10086",
    "id": 13003,
    "update_time": "2026-02-13"
  },
  "nodes": [
    {
      "id": "753b0708-0a28-4031-bfb1-d9adc567a0ab",
      "name": "Sticky Note - Content Generation",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1504,
        -1088
      ],
      "parameters": {
        "color": 7,
        "width": 400,
        "height": 400,
        "content": "## üìÖ Daily Content Generation Flow\n\nTriggers **Monday-Friday at 9:00 AM JST**\n\n**This section**:\n1. Gets Japanese cultural context (seasons, holidays, business events)\n2. Analyzes your past 30 days of posts for brand voice\n3. Generates 3 Twitter post options with GPT-4\n4. Considers current events and cultural appropriateness"
      },
      "typeVersion": 1
    },
    {
      "id": "caf02274-68f6-4ce7-aa56-f79af9bea8eb",
      "name": "Sticky Note - Quality Scoring",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -832,
        -1152
      ],
      "parameters": {
        "color": 7,
        "width": 380,
        "height": 484,
        "content": "## üéØ AI Quality Scoring System\n\n**Evaluates content on 100-point scale**:\n- Engagement prediction (30 pts)\n- SEO/discoverability (20 pts)\n- Brand voice alignment (20 pts)\n- Readability (15 pts)\n- CTA clarity (15 pts)\n\nContent scoring **below 70 points** triggers auto-improvement (up to 3 attempts)"
      },
      "typeVersion": 1
    },
    {
      "id": "e4561ad5-a3be-4aef-a080-6204a9b9f81e",
      "name": "Sticky Note - Improvement",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -416,
        -1152
      ],
      "parameters": {
        "color": 7,
        "width": 360,
        "height": 396,
        "content": "## üîÑ Self-Improvement Loop\n\nIf content scores **< 70 points** and **< 3 improvement attempts**:\n\n1. GPT-4 rewrites based on specific feedback\n2. Re-evaluates with quality scoring\n3. Repeats up to 3 times\n\nAfter 3 attempts or score ‚â•70, proceeds to risk analysis"
      },
      "typeVersion": 1
    },
    {
      "id": "5729b69f-86d8-47b5-99fd-1c526ae9c4bb",
      "name": "Sticky Note - Risk Analysis",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -32,
        -1280
      ],
      "parameters": {
        "color": 7,
        "width": 360,
        "height": 552,
        "content": "## ‚ö†Ô∏è Risk & Sentiment Analysis\n\n**Detects**:\n- Political/religious references\n- Gender/discriminatory language\n- Inappropriate disaster/accident mentions\n- Misleading advertising\n- Competitor attacks\n- Cultural taboos\n- Timing issues (mourning periods, etc.)\n\n**Risk levels**: low / medium / high"
      },
      "typeVersion": 1
    },
    {
      "id": "aabaf71e-f6eb-4058-a84e-69a970e5fe00",
      "name": "Sticky Note - Routing",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        448,
        -960
      ],
      "parameters": {
        "color": 7,
        "width": 340,
        "height": 504,
        "content": "## üö¶ Smart Routing Decision\n\n**Auto-approve** (posts immediately):\n- Quality score ‚â• 70\n- Risk level = low\n\n**Requires approval**:\n- Quality score < 70 OR\n- Risk level = medium\n\n**Auto-reject**:\n- Risk level = high\n\n(Rejected content is saved to Notion for review)"
      },
      "typeVersion": 1
    },
    {
      "id": "410eb215-935f-4c82-b5f0-1bd1e8580c57",
      "name": "Sticky Note - Auto Approve",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        880,
        -880
      ],
      "parameters": {
        "color": 7,
        "width": 320,
        "height": 244,
        "content": "## ‚úÖ Auto-Approved Path\n\n1. Saves to Notion (status: published)\n2. Posts to Twitter automatically\n3. No human intervention needed\n\nFor **high-confidence, low-risk content**"
      },
      "typeVersion": 1
    },
    {
      "id": "f93e3471-ae8d-4c2c-bd98-5014c105c57f",
      "name": "Sticky Note - Approval Path",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        880,
        -288
      ],
      "parameters": {
        "color": 7,
        "width": 340,
        "height": 324,
        "content": "## üë§ Human Approval Path\n\n1. Saves to Notion (status: pending)\n2. Sends email to approval team with:\n   - Content preview\n   - Quality scores\n   - Risk assessment\n   - Improvement history\n3. Awaits approval via webhook\n\n**Use the approval webhook** to approve/reject/edit"
      },
      "typeVersion": 1
    },
    {
      "id": "ec996c7f-8057-496c-aef8-0e2615b096f0",
      "name": "Sticky Note - Webhook",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1504,
        -320
      ],
      "parameters": {
        "color": 7,
        "width": 360,
        "height": 636,
        "content": "## üîó Approval Webhook\n\n**Endpoint**: `/approval-webhook`\n\n**Query parameters**:\n- `action`: approve / reject / edit\n- `id`: content ID from Notion\n\n**Body** (for edits):\n```json\n{\n  \"editedContent\": \"Modified text\",\n  \"approvedBy\": \"user@email.com\"\n}\n```\n\nApproved content gets posted to Twitter"
      },
      "typeVersion": 1
    },
    {
      "id": "bd65c75e-d488-4c39-8467-d21c4f3824bc",
      "name": "Sticky Note - Analytics",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1504,
        336
      ],
      "parameters": {
        "color": 7,
        "width": 380,
        "height": 512,
        "content": "## üìä Weekly Analytics Report\n\n**Triggers**: Every Monday at 10:00 AM\n\n1. Fetches past week's posts from Notion\n2. GPT-4 analyzes performance data\n3. Generates insights report including:\n   - Performance summary\n   - Top 3 best posts\n   - Posts needing improvement\n   - Discovered trends/patterns\n   - Actionable recommendations\n4. Emails report to team\n\n**Helps optimize** future content strategy"
      },
      "typeVersion": 1
    },
    {
      "id": "d6008133-2353-4db5-b7c1-e31c09be68ae",
      "name": "Sticky Note - Brand Voice",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1072,
        -624
      ],
      "parameters": {
        "color": 7,
        "width": 360,
        "height": 420,
        "content": "## üé® Brand Voice Learning\n\nAnalyzes your **past 30 days** of posts:\n- Average post length\n- Emoji usage patterns\n- Common hashtags\n- Question-based posts frequency\n- Tone and phrasing\n\nGPT-4 creates a **brand voice profile** to ensure new content matches your established style"
      },
      "typeVersion": 1
    },
    {
      "id": "006b450d-05ee-4bad-8b93-7f712ca365f7",
      "name": "Schedule Daily Content Generation",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        -1456,
        -608
      ],
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "cronExpression",
              "expression": "0 9 * * 1-5"
            }
          ]
        }
      },
      "typeVersion": 1.1
    },
    {
      "id": "4d9a56a3-0b26-4ea9-9967-1050459bc6c2",
      "name": "Generate Content with GPT-4",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -1232,
        -800
      ],
      "parameters": {
        "url": "https://api.openai.com/v1/chat/completions",
        "options": {},
        "sendBody": true,
        "sendHeaders": true,
        "authentication": "genericCredentialType",
        "bodyParameters": {
          "parameters": [
            {
              "name": "model",
              "value": "gpt-4"
            },
            {
              "name": "messages",
              "value": "={{ [{\"role\": \"system\", \"content\": \"„ÅÇ„Å™„Åü„ÅØÊó•Êú¨Â∏ÇÂ†¥„Å´ÁâπÂåñ„Åó„Åü„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Éû„Éº„Ç±„ÉÜ„Ç£„É≥„Ç∞„ÅÆÂ∞ÇÈñÄÂÆ∂„Åß„Åô„ÄÇÊó•Êú¨„ÅÆÊñáÂåñ„ÄÅÂ≠£ÁØÄ„ÄÅ„Éì„Ç∏„Éç„ÇπÁøíÊÖ£„ÇíÊ∑±„ÅèÁêÜËß£„Åó„ÄÅÈÅ©Âàá„Å™Êï¨Ë™û„Å®Ë¶™„Åó„Åø„ÇÑ„Åô„ÅÑÊñá‰Ωì„Åß„ÇΩ„Éº„Ç∑„É£„É´„É°„Éá„Ç£„Ç¢ÊäïÁ®ø„Çí‰ΩúÊàê„Åó„Åæ„Åô„ÄÇ\"}, {\"role\": \"user\", \"content\": \"‰ªäÊó•„ÅØ\" + $now.format('yyyyÂπ¥MMÊúàddÊó•(ddd)') + \"„Åß„Åô„ÄÇ‰ª•‰∏ã„ÅÆÊù°‰ª∂„ÅßTwitterÊäïÁ®ø„Çí3„Å§‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ:\\n\\n1. ÁèæÂú®„ÅÆÂ≠£ÁØÄ„ÇÑÊó•Êú¨„ÅÆÊñáÂåñÁöÑ„Ç§„Éô„É≥„Éà„ÇíËÄÉÊÖÆ\\n2. „Éì„Ç∏„Éç„Çπ„Éë„Éº„ÇΩ„É≥Âêë„Åë„ÅÆÊúâÁõä„Å™ÂÜÖÂÆπ\\n3. ÁµµÊñáÂ≠ó„Çí2-3ÂÄã‰ΩøÁî®\\n4. 200ÊñáÂ≠ó‰ª•ÂÜÖ\\n5. „Ç®„É≥„Ç≤„Éº„Ç∏„É°„É≥„Éà„Çí‰øÉ„ÅôCTA„ÇíÂê´„ÇÄ\\n\\nÂêÑÊäïÁ®ø„ÇíJSONÈÖçÂàó„ÅßËøî„Åó„Å¶„Åè„Å†„Åï„ÅÑ: [{\\\"content\\\": \\\"ÊäïÁ®øÊñá\\\", \\\"hashtags\\\": [\\\"„Çø„Ç∞1\\\", \\\"„Çø„Ç∞2\\\"]}]\"}] }}"
            },
            {
              "name": "temperature",
              "value": "0.7"
            },
            {
              "name": "max_tokens",
              "value": "1000"
            }
          ]
        },
        "genericAuthType": "httpHeaderAuth",
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        }
      },
      "typeVersion": 4.1
    },
    {
      "id": "bb8094a2-98eb-4e12-aa2c-a3f01a04fec8",
      "name": "Parse Generated Content",
      "type": "n8n-nodes-base.code",
      "position": [
        -1008,
        -800
      ],
      "parameters": {
        "jsCode": "// Parse GPT-4 response and extract generated content\nconst response = $input.item.json;\nconst content = JSON.parse(response.choices[0].message.content);\n\nconst results = [];\n\nfor (let i = 0; i < content.length; i++) {\n  const post = content[i];\n  results.push({\n    json: {\n      content: post.content,\n      hashtags: post.hashtags,\n      generatedAt: new Date().toISOString(),\n      platform: 'twitter',\n      status: 'pending_quality_check',\n      version: i + 1\n    }\n  });\n}\n\nreturn results;"
      },
      "typeVersion": 2
    },
    {
      "id": "47c6f1df-ceab-4b18-b22f-4959d4be5760",
      "name": "AI Quality Scoring",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -784,
        -800
      ],
      "parameters": {
        "url": "https://api.openai.com/v1/chat/completions",
        "options": {},
        "sendBody": true,
        "sendHeaders": true,
        "authentication": "genericCredentialType",
        "bodyParameters": {
          "parameters": [
            {
              "name": "model",
              "value": "gpt-4"
            },
            {
              "name": "messages",
              "value": "={{ [{\"role\": \"system\", \"content\": \"„ÅÇ„Å™„Åü„ÅØ„Ç≥„É≥„ÉÜ„É≥„ÉÑÂìÅË≥™Ë©ï‰æ°„ÅÆÂ∞ÇÈñÄÂÆ∂„Åß„Åô„ÄÇ‰ª•‰∏ã„ÅÆÂü∫Ê∫ñ„ÅßÊäïÁ®ø„Çí100ÁÇπÊ∫ÄÁÇπ„ÅßÊé°ÁÇπ„Åó„Å¶„Åè„Å†„Åï„ÅÑ:\\n\\n1. „Ç®„É≥„Ç≤„Éº„Ç∏„É°„É≥„Éà‰∫àÊ∏¨ (30ÁÇπ): „ÅÑ„ÅÑ„Å≠„Éª„É™„ÉÑ„Ç§„Éº„Éà„Éª„Ç≥„É°„É≥„Éà„ÇíÁç≤Âæó„Åó„ÇÑ„Åô„ÅÑ„Åã\\n2. SEO/Áô∫Ë¶ãÊÄß (20ÁÇπ): „Éè„ÉÉ„Ç∑„É•„Çø„Ç∞„Å®Ê§úÁ¥¢„Åï„Çå„ÇÑ„Åô„ÅÑ„Ç≠„Éº„ÉØ„Éº„Éâ\\n3. „Éñ„É©„É≥„Éâ„Éú„Ç§„ÇπÈÅ©Âêà (20ÁÇπ): „Éó„É≠„Éï„Çß„ÉÉ„Ç∑„Éß„Éä„É´„ÅßË¶™„Åó„Åø„ÇÑ„Åô„ÅÑ„Éà„Éº„É≥\\n4. Ë™≠„Åø„ÇÑ„Åô„Åï (15ÁÇπ): ÊñáÊ≥ï„ÄÅÂè•Ë™≠ÁÇπ„ÄÅÊîπË°å„ÅÆÈÅ©Âàá„Åï\\n5. CTAÊòéÁ¢∫„Åï (15ÁÇπ): Ë°åÂãïÂñöËµ∑„ÅåÊòéÁ¢∫„Åã\\n\\nJSONÂΩ¢Âºè„ÅßËøîÁ≠î: {\\\"total_score\\\": 85, \\\"engagement_score\\\": 25, \\\"seo_score\\\": 18, \\\"brand_voice_score\\\": 18, \\\"readability_score\\\": 13, \\\"cta_score\\\": 11, \\\"feedback\\\": \\\"ÊîπÂñÑÁÇπ„ÅÆË™¨Êòé\\\", \\\"risk_level\\\": \\\"low/medium/high\\\", \\\"risk_reason\\\": \\\"„É™„Çπ„ÇØ„Åå„ÅÇ„ÇãÂ†¥Âêà„ÅÆÁêÜÁî±\\\"}\"}, {\"role\": \"user\", \"content\": \"‰ª•‰∏ã„ÅÆÊäïÁ®ø„ÇíË©ï‰æ°„Åó„Å¶„Åè„Å†„Åï„ÅÑ:\\n\\n\" + $json.content + \"\\n\\n„Éè„ÉÉ„Ç∑„É•„Çø„Ç∞: \" + $json.hashtags.join(', ')}] }}"
            },
            {
              "name": "temperature",
              "value": "0.3"
            }
          ]
        },
        "genericAuthType": "httpHeaderAuth",
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        }
      },
      "typeVersion": 4.1
    },
    {
      "id": "a65792c4-475e-41db-a1bd-9e83a621a983",
      "name": "Parse Quality Scores",
      "type": "n8n-nodes-base.code",
      "position": [
        -560,
        -864
      ],
      "parameters": {
        "jsCode": "// Parse quality scoring results\nconst scoringResponse = $input.item.json;\nconst scores = JSON.parse(scoringResponse.choices[0].message.content);\n\n// Merge with original content\nconst originalData = $('Parse Generated Content').item.json;\n\nreturn {\n  json: {\n    ...originalData,\n    qualityScore: scores.total_score,\n    engagementScore: scores.engagement_score,\n    seoScore: scores.seo_score,\n    brandVoiceScore: scores.brand_voice_score,\n    readabilityScore: scores.readability_score,\n    ctaScore: scores.cta_score,\n    feedback: scores.feedback,\n    riskLevel: scores.risk_level,\n    riskReason: scores.risk_reason || 'None',\n    needsImprovement: scores.total_score < 70,\n    improvementAttempts: 0\n  }\n};"
      },
      "typeVersion": 2
    },
    {
      "id": "ea9f9825-4276-4f12-a417-f06f757360ed",
      "name": "Check if Improvement Needed",
      "type": "n8n-nodes-base.if",
      "position": [
        -336,
        -864
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "needs-improvement",
              "operator": {
                "type": "boolean",
                "operation": "equals"
              },
              "leftValue": "={{ $json.needsImprovement }}",
              "rightValue": true
            },
            {
              "id": "improvement-attempts",
              "operator": {
                "type": "number",
                "operation": "lt"
              },
              "leftValue": "={{ $json.improvementAttempts }}",
              "rightValue": "3"
            }
          ]
        }
      },
      "typeVersion": 2
    },
    {
      "id": "74c37691-36e4-4222-b281-f2ea2dd613a1",
      "name": "Auto-Improve Content",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        64,
        -960
      ],
      "parameters": {
        "url": "https://api.openai.com/v1/chat/completions",
        "options": {},
        "sendBody": true,
        "sendHeaders": true,
        "authentication": "genericCredentialType",
        "bodyParameters": {
          "parameters": [
            {
              "name": "model",
              "value": "gpt-4"
            },
            {
              "name": "messages",
              "value": "={{ [{\"role\": \"system\", \"content\": \"„ÅÇ„Å™„Åü„ÅØ„Ç≥„É≥„ÉÜ„É≥„ÉÑÊîπÂñÑ„ÅÆÂ∞ÇÈñÄÂÆ∂„Åß„Åô„ÄÇ„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØ„Å´Âü∫„Å•„ÅÑ„Å¶ÊäïÁ®ø„ÇíÊîπÂñÑ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\"}, {\"role\": \"user\", \"content\": \"‰ª•‰∏ã„ÅÆÊäïÁ®ø„ÇíÊîπÂñÑ„Åó„Å¶„Åè„Å†„Åï„ÅÑ:\\n\\nÂÖÉ„ÅÆÊäïÁ®ø:\\n\" + $json.content + \"\\n\\nÂìÅË≥™„Çπ„Ç≥„Ç¢: \" + $json.qualityScore + \"/100\\n\\nÊîπÂñÑ„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØ:\\n\" + $json.feedback + \"\\n\\n„É™„Çπ„ÇØ„É¨„Éô„É´: \" + $json.riskLevel + \"\\n\" + ($json.riskReason !== 'None' ? \"„É™„Çπ„ÇØÁêÜÁî±: \" + $json.riskReason : '') + \"\\n\\nÊîπÂñÑÁâà„ÇíJSONÂΩ¢Âºè„ÅßËøî„Åó„Å¶„Åè„Å†„Åï„ÅÑ: {\\\"content\\\": \\\"ÊîπÂñÑ„Åï„Çå„ÅüÊäïÁ®øÊñá\\\", \\\"hashtags\\\": [\\\"„Çø„Ç∞1\\\", \\\"„Çø„Ç∞2\\\"]}\"}] }}"
            },
            {
              "name": "temperature",
              "value": "0.7"
            }
          ]
        },
        "genericAuthType": "httpHeaderAuth",
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        }
      },
      "typeVersion": 4.1
    },
    {
      "id": "833cc233-23d4-4d79-bc30-4e8f62d4f38c",
      "name": "Parse Improved Content",
      "type": "n8n-nodes-base.code",
      "position": [
        288,
        -864
      ],
      "parameters": {
        "jsCode": "// Parse improved content\nconst improveResponse = $input.item.json;\nconst improved = JSON.parse(improveResponse.choices[0].message.content);\n\n// Get original data\nconst originalData = $('Parse Quality Scores').item.json;\n\nreturn {\n  json: {\n    content: improved.content,\n    hashtags: improved.hashtags,\n    generatedAt: new Date().toISOString(),\n    platform: originalData.platform,\n    status: 'pending_quality_check',\n    version: originalData.version,\n    improvementAttempts: originalData.improvementAttempts + 1,\n    previousScore: originalData.qualityScore,\n    previousFeedback: originalData.feedback\n  }\n};"
      },
      "typeVersion": 2
    },
    {
      "id": "07ea81b3-eea8-40b5-93bf-a102bbc9d6b2",
      "name": "Sentiment & Risk Analysis",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        64,
        -784
      ],
      "parameters": {
        "url": "https://api.openai.com/v1/chat/completions",
        "options": {},
        "sendBody": true,
        "sendHeaders": true,
        "authentication": "genericCredentialType",
        "bodyParameters": {
          "parameters": [
            {
              "name": "model",
              "value": "gpt-4"
            },
            {
              "name": "messages",
              "value": "={{ [{\"role\": \"system\", \"content\": \"„ÅÇ„Å™„Åü„ÅØÊó•Êú¨Â∏ÇÂ†¥„Å´ÁâπÂåñ„Åó„ÅüÊÑüÊÉÖÂàÜÊûê„Å®„É™„Çπ„ÇØÊ§úÂá∫„ÅÆÂ∞ÇÈñÄÂÆ∂„Åß„Åô„ÄÇ‰ª•‰∏ã„ÅÆË¶≥ÁÇπ„ÅßÂàÜÊûê„Åó„Å¶„Åè„Å†„Åï„ÅÑ:\\n\\n„ÄêÁÇé‰∏ä„É™„Çπ„ÇØË¶ÅÂõ†„Äë\\n1. ÊîøÊ≤ª„ÉªÂÆóÊïô„Å∏„ÅÆË®ÄÂèä\\n2. „Ç∏„Çß„É≥„ÉÄ„Éº„ÉªÂ∑ÆÂà•ÁöÑË°®Áèæ\\n3. ÁÅΩÂÆ≥„Éª‰∫ãÊïÖ„Å∏„ÅÆ‰∏çÈÅ©Âàá„Å™Ë®ÄÂèä\\n4. Ë™áÂ§ßÂ∫ÉÂëä„ÉªË™§Ëß£„ÇíÊãõ„ÅèË°®Áèæ\\n5. Á´∂Âêà„Å∏„ÅÆÊîªÊíÉÁöÑË®ÄÂèä\\n\\n„ÄêÊó•Êú¨ÊñáÂåñÁöÑÈÖçÊÖÆ„Äë\\n1. ‰∏çÈÅ©Âàá„Å™ÊôÇÊúü„ÅÆÊäïÁ®øÔºàÂñ™‰∏≠„ÄÅÁÅΩÂÆ≥Áõ¥ÂæåÁ≠âÔºâ\\n2. Êï¨Ë™û„ÅÆË™§Áî®\\n3. ÊñáÂåñÁöÑ„Çø„Éñ„Éº\\n\\nJSONÂΩ¢Âºè„ÅßËøîÁ≠î: {\\\"sentiment\\\": \\\"positive/neutral/negative\\\", \\\"risk_level\\\": \\\"low/medium/high\\\", \\\"risk_factors\\\": [\\\"Ë¶ÅÂõ†1\\\", \\\"Ë¶ÅÂõ†2\\\"], \\\"recommendations\\\": \\\"Êé®Â•®‰∫ãÈ†Ö\\\", \\\"cultural_appropriateness\\\": \\\"appropriate/needs_review/inappropriate\\\"}\"}, {\"role\": \"user\", \"content\": \"‰ª•‰∏ã„ÅÆÊäïÁ®ø„ÇíÂàÜÊûê„Åó„Å¶„Åè„Å†„Åï„ÅÑ:\\n\\n\" + $json.content}] }}"
            },
            {
              "name": "temperature",
              "value": "0.2"
            }
          ]
        },
        "genericAuthType": "httpHeaderAuth",
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        }
      },
      "typeVersion": 4.1
    },
    {
      "id": "e31fb9b0-6bf9-4e05-91c3-ffbef666d5e6",
      "name": "Merge Risk Analysis",
      "type": "n8n-nodes-base.code",
      "position": [
        464,
        -448
      ],
      "parameters": {
        "jsCode": "// Parse sentiment and risk analysis\nconst analysisResponse = $input.item.json;\nconst analysis = JSON.parse(analysisResponse.choices[0].message.content);\n\n// Get content data\nconst contentData = $('Parse Quality Scores').item.json;\n\nreturn {\n  json: {\n    ...contentData,\n    sentiment: analysis.sentiment,\n    riskLevel: analysis.risk_level,\n    riskFactors: analysis.risk_factors,\n    recommendations: analysis.recommendations,\n    culturalAppropriateness: analysis.cultural_appropriateness,\n    finalRiskAssessment: analysis.risk_level === 'high' ? 'auto_reject' : (analysis.risk_level === 'medium' || contentData.qualityScore < 70) ? 'requires_approval' : 'auto_approve'\n  }\n};"
      },
      "typeVersion": 2
    },
    {
      "id": "451a01cd-63ee-4f36-9363-083d0ee3e6f6",
      "name": "Decision Routing",
      "type": "n8n-nodes-base.if",
      "position": [
        672,
        -608
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "auto-approve",
              "operator": {
                "type": "string",
                "operation": "equals"
              },
              "leftValue": "={{ $json.finalRiskAssessment }}",
              "rightValue": "auto_approve"
            }
          ]
        }
      },
      "typeVersion": 2
    },
    {
      "id": "ebb2b91a-1574-408a-ab8c-5148c985b575",
      "name": "Save to Notion (Auto-Approved)",
      "type": "n8n-nodes-base.notion",
      "position": [
        912,
        -608
      ],
      "parameters": {
        "pageId": {
          "__rl": true,
          "mode": "url",
          "value": ""
        },
        "options": {}
      },
      "typeVersion": 2.1
    },
    {
      "id": "58147eae-9a9d-4a61-9153-611e3e958631",
      "name": "Save to Notion (Pending Approval)",
      "type": "n8n-nodes-base.notion",
      "position": [
        912,
        -416
      ],
      "parameters": {
        "pageId": {
          "__rl": true,
          "mode": "url",
          "value": ""
        },
        "options": {}
      },
      "typeVersion": 2.1
    },
    {
      "id": "9013da0d-41b9-422c-91f9-926afbc6c497",
      "name": "Send Approval Email",
      "type": "n8n-nodes-base.emailSend",
      "position": [
        1232,
        -416
      ],
      "webhookId": "77e96129-c787-417b-9c48-cde1bcd684ad",
      "parameters": {
        "options": {},
        "subject": "„ÄêË¶ÅÊâøË™ç„ÄëAI„Ç≥„É≥„ÉÜ„É≥„ÉÑ - ÂìÅË≥™„Çπ„Ç≥„Ç¢: {{ $json.qualityScore }}ÁÇπ | „É™„Çπ„ÇØ: {{ $json.riskLevel }}",
        "toEmail": "user@example.com",
        "fromEmail": "user@example.com"
      },
      "typeVersion": 2.1
    },
    {
      "id": "4acc6a07-9613-4703-9232-bc3f3858fd8d",
      "name": "Post to Twitter (Auto-Approved)",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        1232,
        -608
      ],
      "parameters": {
        "url": "https://api.twitter.com/2/tweets",
        "options": {},
        "sendBody": true,
        "authentication": "genericCredentialType",
        "bodyParameters": {
          "parameters": [
            {
              "name": "text",
              "value": "={{ $json.content + ' ' + $json.hashtags.map(tag => '#' + tag).join(' ') }}"
            }
          ]
        },
        "genericAuthType": "oAuth2Api"
      },
      "typeVersion": 4.1
    },
    {
      "id": "f599a7ef-39fb-46c7-8b1a-bcb7a589702e",
      "name": "Get Japanese Cultural Context",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -1232,
        -608
      ],
      "parameters": {
        "url": "https://api.openai.com/v1/chat/completions",
        "options": {},
        "sendBody": true,
        "sendHeaders": true,
        "authentication": "genericCredentialType",
        "bodyParameters": {
          "parameters": [
            {
              "name": "model",
              "value": "gpt-4"
            },
            {
              "name": "messages",
              "value": "={{ [{\"role\": \"system\", \"content\": \"„ÅÇ„Å™„Åü„ÅØÊó•Êú¨„ÅÆÂ≠£ÁØÄ„ÉªÊñáÂåñ„Ç§„Éô„É≥„Éà„ÅÆÂ∞ÇÈñÄÂÆ∂„Åß„Åô„ÄÇÁèæÂú®„ÅÆÊó•‰ªò„Å´Âü∫„Å•„ÅÑ„Å¶„ÄÅ„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Å´ÂèçÊò†„Åô„Åπ„ÅçÊñáÂåñÁöÑ„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà„ÇíÊèê‰æõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\"}, {\"role\": \"user\", \"content\": \"‰ªäÊó•„ÅØ\" + $now.format('yyyyÂπ¥MMÊúàddÊó•(ddd)') + \"„Åß„Åô„ÄÇ‰ª•‰∏ã„ÇíÊïô„Åà„Å¶„Åè„Å†„Åï„ÅÑ:\\n\\n1. ÁèæÂú®„ÅÆÂ≠£ÁØÄ„Å®ÁâπÂæ¥\\n2. ËøëÊó•‰∏≠„ÅÆÊó•Êú¨„ÅÆÁ•ùÊó•„ÉªË®òÂøµÊó•\\n3. „Éì„Ç∏„Éç„Çπ„Ç∑„Éº„É≥„ÅßÊÑèË≠ò„Åô„Åπ„Åç„Ç§„Éô„É≥„ÉàÔºàÊ±∫ÁÆóÊúü„ÄÅ„Éú„Éº„Éä„ÇπÊôÇÊúüÁ≠âÔºâ\\n4. SNSÊäïÁ®ø„Åß‰Ωø„ÅÜ„Åπ„ÅçÂ≠£ÁØÄ„ÅÆË°®Áèæ„ÇÑ„Ç≠„Éº„ÉØ„Éº„Éâ\\n5. ÈÅø„Åë„Çã„Åπ„Åç„Éà„Éî„ÉÉ„ÇØÔºàÂñ™‰∏≠ÊúüÈñì„ÄÅÁÅΩÂÆ≥Ë®òÂøµÊó•Á≠âÔºâ\\n\\nJSONÂΩ¢Âºè„ÅßËøîÁ≠î„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\"}] }}"
            },
            {
              "name": "temperature",
              "value": "0.5"
            }
          ]
        },
        "genericAuthType": "httpHeaderAuth",
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        }
      },
      "typeVersion": 4.1
    },
    {
      "id": "5f6ec1cb-e46b-4091-9b7c-3eeaa9600128",
      "name": "Get Past 30 Days Posts",
      "type": "n8n-nodes-base.notion",
      "position": [
        -928,
        -320
      ],
      "parameters": {
        "operation": "getAll"
      },
      "typeVersion": 2.1
    },
    {
      "id": "7ad8ffaf-34f6-4550-a64f-327a1daa461b",
      "name": "Analyze Brand Voice",
      "type": "n8n-nodes-base.code",
      "position": [
        -640,
        -320
      ],
      "parameters": {
        "jsCode": "// Analyze past posts to create brand voice profile\nconst posts = $input.all();\n\nif (posts.length === 0) {\n  return {\n    json: {\n      brandVoiceProfile: \"„Éá„Éï„Ç©„É´„Éà„Éó„É≠„Éï„Ç°„Ç§„É´: „Ç´„Ç∏„É•„Ç¢„É´„ÅßË¶™„Åó„Åø„ÇÑ„Åô„Åè„ÄÅ„Éì„Ç∏„Éç„Çπ„Éë„Éº„ÇΩ„É≥Âêë„Åë„ÅÆÊúâÁõä„Å™ÊÉÖÂ†±„ÇíÊèê‰æõ\",\n      analyzedPosts: 0\n    }\n  };\n}\n\nconst contents = posts.map(p => p.json.Content || p.json.content).filter(c => c);\n\nconst analysisData = {\n  totalPosts: contents.length,\n  averageLength: Math.round(contents.reduce((sum, c) => sum + c.length, 0) / contents.length),\n  hashtagUsage: posts.flatMap(p => p.json.Hashtags || p.json.hashtags || []),\n  emojiCount: contents.reduce((sum, c) => sum + (c.match(/[\\u{1F300}-\\u{1F9FF}]/gu) || []).length, 0),\n  questionPosts: contents.filter(c => c.includes('?') || c.includes('?')).length\n};\n\nreturn {\n  json: {\n    brandVoiceAnalysis: analysisData,\n    analyzedPosts: contents.length,\n    topHashtags: [...new Set(analysisData.hashtagUsage)].slice(0, 10)\n  }\n};"
      },
      "typeVersion": 2
    },
    {
      "id": "d437b5ec-fb0e-46e1-badb-bf1f7a5bf22b",
      "name": "Create Brand Voice Profile",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -368,
        -320
      ],
      "parameters": {
        "url": "https://api.openai.com/v1/chat/completions",
        "options": {},
        "sendBody": true,
        "sendHeaders": true,
        "authentication": "genericCredentialType",
        "bodyParameters": {
          "parameters": [
            {
              "name": "model",
              "value": "gpt-4"
            },
            {
              "name": "messages",
              "value": "={{ [{\"role\": \"system\", \"content\": \"ÈÅéÂéª„ÅÆÊäïÁ®ø„Éá„Éº„Çø„Åã„Çâ„ÄÅ„Éñ„É©„É≥„Éâ„Éú„Ç§„Çπ„Éó„É≠„Éï„Ç°„Ç§„É´„Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\"}, {\"role\": \"user\", \"content\": \"‰ª•‰∏ã„ÅÆ„Éá„Éº„Çø„Å´Âü∫„Å•„ÅÑ„Å¶„ÄÅ„Éñ„É©„É≥„Éâ„Éú„Ç§„Çπ„Éó„É≠„Éï„Ç°„Ç§„É´„Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ:\\n\\nÂàÜÊûêÊäïÁ®øÊï∞: \" + $json.analyzedPosts + \"\\nÂπ≥ÂùáÊñáÂ≠óÊï∞: \" + $json.brandVoiceAnalysis.averageLength + \"\\nÁµµÊñáÂ≠ó‰ΩøÁî®Êï∞: \" + $json.brandVoiceAnalysis.emojiCount + \"\\nË≥™ÂïèÂΩ¢ÂºèÊäïÁ®ø: \" + $json.brandVoiceAnalysis.questionPosts + \"\\n„Çà„Åè‰Ωø„ÅÜ„Éè„ÉÉ„Ç∑„É•„Çø„Ç∞: \" + $json.topHashtags.join(', ') + \"\\n\\nJSONÂΩ¢Âºè„Åß‰ª•‰∏ã„ÇíËøî„Åó„Å¶„Åè„Å†„Åï„ÅÑ:\\n{\\\"tone\\\": \\\"Êñá‰Ωì„ÅÆÁâπÂæ¥\\\", \\\"emoji_usage\\\": \\\"ÁµµÊñáÂ≠ó‰ΩøÁî®„Ç¨„Ç§„Éâ„É©„Ç§„É≥\\\", \\\"average_length\\\": \\\"Êé®Â•®ÊñáÂ≠óÊï∞\\\", \\\"key_phrases\\\": [\\\"„Çà„Åè‰Ωø„ÅÜ„Éï„É¨„Éº„Ç∫\\\"], \\\"cta_style\\\": \\\"CTA(Ë°åÂãïÂñöËµ∑)„ÅÆ„Çπ„Çø„Ç§„É´\\\"}\"}] }}"
            }
          ]
        },
        "genericAuthType": "httpHeaderAuth",
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        }
      },
      "typeVersion": 4.1
    },
    {
      "id": "8fdc27ce-4ee6-4b4e-9a06-38db4f5b6d7f",
      "name": "Webhook - Approval Dashboard",
      "type": "n8n-nodes-base.webhook",
      "position": [
        -1456,
        128
      ],
      "webhookId": "approval-webhook",
      "parameters": {
        "path": "approval-webhook",
        "options": {}
      },
      "typeVersion": 1.1
    },
    {
      "id": "b5e26e78-ec91-4c1f-b892-fa3c15b2d4ed",
      "name": "Process Approval Action",
      "type": "n8n-nodes-base.code",
      "position": [
        -1248,
        128
      ],
      "parameters": {
        "jsCode": "// Handle approval webhook\nconst action = $input.item.json.query.action; // approve, reject, edit\nconst contentId = $input.item.json.query.id;\nconst editedContent = $input.item.json.body?.editedContent;\n\nreturn {\n  json: {\n    action: action,\n    contentId: contentId,\n    editedContent: editedContent,\n    approvedBy: $input.item.json.body?.approvedBy || 'Unknown',\n    timestamp: new Date().toISOString()\n  }\n};"
      },
      "typeVersion": 2
    },
    {
      "id": "0b302fff-97a9-48ba-9123-decbb8d3b370",
      "name": "Check Approval Action",
      "type": "n8n-nodes-base.if",
      "position": [
        -1008,
        128
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "is-approved",
              "operator": {
                "type": "string",
                "operation": "equals"
              },
              "leftValue": "={{ $json.action }}",
              "rightValue": "approve"
            }
          ]
        }
      },
      "typeVersion": 2
    },
    {
      "id": "90bb9902-6237-4b2d-b132-d26515ca1921",
      "name": "Update Notion - Approved",
      "type": "n8n-nodes-base.notion",
      "position": [
        -784,
        32
      ],
      "parameters": {
        "operation": "update"
      },
      "typeVersion": 2.1
    },
    {
      "id": "b2c8f814-39e4-4233-b35f-b65f0dcc1429",
      "name": "Update Notion - Rejected",
      "type": "n8n-nodes-base.notion",
      "position": [
        -784,
        224
      ],
      "parameters": {
        "operation": "update"
      },
      "typeVersion": 2.1
    },
    {
      "id": "ba5bc1a8-dbd9-49b5-add9-a7bf257c6622",
      "name": "Weekly Performance Report Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        -1456,
        720
      ],
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "cronExpression",
              "expression": "0 10 * * 1"
            }
          ]
        }
      },
      "typeVersion": 1.1
    },
    {
      "id": "c45a573c-7956-4c4f-8fbe-372e8d0fba17",
      "name": "Get Past Week Posts",
      "type": "n8n-nodes-base.notion",
      "position": [
        -1248,
        720
      ],
      "parameters": {
        "operation": "getAll"
      },
      "typeVersion": 2.1
    },
    {
      "id": "ae72df4a-5b2f-41bd-a58e-decaa7d0429c",
      "name": "Generate Weekly Analytics Report",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -1008,
        720
      ],
      "parameters": {
        "url": "https://api.openai.com/v1/chat/completions",
        "options": {},
        "sendBody": true,
        "sendHeaders": true,
        "authentication": "genericCredentialType",
        "bodyParameters": {
          "parameters": [
            {
              "name": "model",
              "value": "gpt-4"
            },
            {
              "name": "messages",
              "value": "={{ [{\"role\": \"system\", \"content\": \"„ÅÇ„Å™„Åü„ÅØ„Éá„Éº„Çø„Ç¢„Éä„É™„Çπ„Éà„Åß„Åô„ÄÇÈÅéÂéª1ÈÄ±Èñì„ÅÆ„ÇΩ„Éº„Ç∑„É£„É´„É°„Éá„Ç£„Ç¢„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„ÇíÂàÜÊûê„Åó„ÄÅÊîπÂñÑÊèêÊ°à„ÇíË°å„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\"}, {\"role\": \"user\", \"content\": \"‰ª•‰∏ã„ÅÆ„Éá„Éº„Çø„ÇíÂàÜÊûê„Åó„Å¶„Åè„Å†„Åï„ÅÑ:\\n\\n\" + JSON.stringify($input.all().map(item => ({content: item.json.Content, qualityScore: item.json['Quality Score'], engagement: item.json.Engagement || 0, platform: item.json.Platform}))) + \"\\n\\n‰ª•‰∏ã„ÅÆÂΩ¢Âºè„Åß„É¨„Éù„Éº„Éà„Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ:\\n1. Á∑èÂêà„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„Çµ„Éû„É™„Éº\\n2. „Éô„Çπ„Éà„Éë„Éï„Ç©„Éº„Éû„É≥„ÇπÊäïÁ®øÔºàTOP3Ôºâ\\n3. ÊîπÂñÑ„ÅåÂøÖË¶Å„Å™ÊäïÁ®ø\\n4. Áô∫Ë¶ã„Åï„Çå„Åü„Éà„É¨„É≥„Éâ„Éª„Éë„Çø„Éº„É≥\\n5. Ê¨°ÈÄ±„Å∏„ÅÆÂÖ∑‰ΩìÁöÑ„Å™ÊîπÂñÑÊèêÊ°à\\n\\nMarkdownÂΩ¢Âºè„ÅßËøî„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\"}] }}"
            },
            {
              "name": "temperature",
              "value": "0.7"
            }
          ]
        },
        "genericAuthType": "httpHeaderAuth",
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        }
      },
      "typeVersion": 4.1
    },
    {
      "id": "b8903692-a75a-40d4-8bd1-d07cacf51efc",
      "name": "Send Weekly Report Email",
      "type": "n8n-nodes-base.emailSend",
      "position": [
        -784,
        720
      ],
      "webhookId": "006ff7d7-8f9e-433c-a4db-824abad52bf2",
      "parameters": {
        "options": {},
        "subject": "üìä ÈÄ±Ê¨°„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„É¨„Éù„Éº„Éà - {{ $now.format('yyyyÂπ¥MMÊúàddÊó•') }}",
        "toEmail": "user@example.com",
        "fromEmail": "user@example.com"
      },
      "typeVersion": 2.1
    },
    {
      "id": "e4135011-c917-41db-90c7-7904781cc800",
      "name": "Sticky Note - Main Overview",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2176,
        -1136
      ],
      "parameters": {
        "width": 560,
        "height": 2164,
        "content": "## AI-Powered Japanese Social Media Content Generator with Quality Control\n\n### üéØ Who's it for\n\nMarketing teams and social media managers in Japan who want to automate content creation while maintaining high quality standards and cultural appropriateness. Perfect for businesses that need consistent Japanese-language social media presence with built-in compliance checks.\n\n### üìù What it does\n\nThis workflow creates an intelligent content generation system that:\n\n- Generates culturally-aware Japanese Twitter posts using GPT-4\n- Automatically scores content quality across 5 dimensions (engagement, SEO, brand voice, readability, CTA)\n- Performs sentiment analysis and risk detection for controversial topics\n- Routes content intelligently: auto-posts high-quality/low-risk content, flags medium-risk content for approval, and rejects high-risk content\n- Includes an auto-improvement loop that refines content up to 3 times if quality scores are below 70\n- Provides weekly performance analytics and recommendations\n\n### üîß How it works\n\n**Daily Content Generation Flow:**\n1. Schedule trigger runs weekday mornings at 9 AM\n2. Fetches Japanese cultural context (seasons, holidays, business events)\n3. Analyzes brand voice from past 30 days of posts\n4. Generates 3 Twitter post variations with GPT-4\n5. Each post is scored on quality metrics (100-point scale)\n6. Low-scoring content enters auto-improvement loop\n7. Risk analysis checks for controversy, cultural sensitivity, and sentiment\n8. Decision routing: auto-approve and post OR send for manual approval OR reject\n\n**Approval Workflow:**\n- Pending posts trigger approval emails\n- Webhook receives approval/rejection/edit actions\n- Approved posts are published to Twitter and archived in Notion\n\n**Weekly Analytics:**\n- Monday morning trigger analyzes past week's performance\n- GPT-4 generates insights report with best practices\n- Email sent to team with recommendations\n\n### ‚öôÔ∏è Requirements\n\n**APIs & Credentials:**\n- OpenAI API (GPT-4 access)\n- Twitter API v2 with OAuth 2.0\n- Notion API (database for content storage)\n- Email sending service (SMTP or SendGrid)\n\n**Setup:**\n1. Create a Notion database with columns: Content, Hashtags, Quality Score, Risk Level, Status, Engagement\n2. Configure OpenAI API credentials with HTTP Header Auth\n3. Set up Twitter OAuth 2.0 credentials\n4. Configure email service for approval notifications\n\n### üé® How to customize\n\n**Adjust Quality Thresholds:**\n- Modify the quality scoring criteria in \"AI Quality Scoring\" node\n- Change auto-approval threshold (currently 70+ points)\n\n**Content Generation:**\n- Edit GPT-4 prompts in \"Generate Content with GPT-4\" node to match your brand tone\n- Adjust temperature settings for more/less creative content\n- Modify the number of posts generated per run\n\n**Risk Detection:**\n- Customize risk factors in \"Sentiment & Risk Analysis\" node\n- Add industry-specific compliance checks\n\n**Brand Voice Learning:**\n- Adjust the lookback period in \"Get Past 30 Days Posts\" (currently 30 days)\n- Modify brand voice analysis logic in \"Analyze Brand Voice\" node\n\n**Scheduling:**\n- Change cron expressions for daily content generation and weekly reports\n- Add additional triggers for special campaigns\n\n### ‚ö†Ô∏è Important Notes\n\n- This workflow uses Japanese language prompts - modify system prompts if using for other languages\n- Ensure compliance with Twitter's API rate limits and automation policies\n- Review auto-posted content regularly to validate AI quality assessments\n- The workflow stores all generated content in Notion for audit trails"
      },
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "Decision Routing": {
      "main": [
        [
          {
            "node": "Save to Notion (Auto-Approved)",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Save to Notion (Pending Approval)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Quality Scoring": {
      "main": [
        [
          {
            "node": "Parse Quality Scores",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Analyze Brand Voice": {
      "main": [
        [
          {
            "node": "Create Brand Voice Profile",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Past Week Posts": {
      "main": [
        [
          {
            "node": "Generate Weekly Analytics Report",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge Risk Analysis": {
      "main": [
        [
          {
            "node": "Decision Routing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Auto-Improve Content": {
      "main": [
        [
          {
            "node": "Parse Improved Content",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse Quality Scores": {
      "main": [
        [
          {
            "node": "Check if Improvement Needed",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check Approval Action": {
      "main": [
        [
          {
            "node": "Update Notion - Approved",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Update Notion - Rejected",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Past 30 Days Posts": {
      "main": [
        [
          {
            "node": "Analyze Brand Voice",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse Improved Content": {
      "main": [
        [
          {
            "node": "AI Quality Scoring",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse Generated Content": {
      "main": [
        [
          {
            "node": "AI Quality Scoring",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Process Approval Action": {
      "main": [
        [
          {
            "node": "Check Approval Action",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Sentiment & Risk Analysis": {
      "main": [
        [
          {
            "node": "Merge Risk Analysis",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check if Improvement Needed": {
      "main": [
        [
          {
            "node": "Auto-Improve Content",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Sentiment & Risk Analysis",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Content with GPT-4": {
      "main": [
        [
          {
            "node": "Parse Generated Content",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook - Approval Dashboard": {
      "main": [
        [
          {
            "node": "Process Approval Action",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Save to Notion (Auto-Approved)": {
      "main": [
        [
          {
            "node": "Post to Twitter (Auto-Approved)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Weekly Analytics Report": {
      "main": [
        [
          {
            "node": "Send Weekly Report Email",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Save to Notion (Pending Approval)": {
      "main": [
        [
          {
            "node": "Send Approval Email",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Daily Content Generation": {
      "main": [
        [
          {
            "node": "Generate Content with GPT-4",
            "type": "main",
            "index": 0
          },
          {
            "node": "Get Japanese Cultural Context",
            "type": "main",
            "index": 0
          },
          {
            "node": "Get Past 30 Days Posts",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Weekly Performance Report Trigger": {
      "main": [
        [
          {
            "node": "Get Past Week Posts",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}