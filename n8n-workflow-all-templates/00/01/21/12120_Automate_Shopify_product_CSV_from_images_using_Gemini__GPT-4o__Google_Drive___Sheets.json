{
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Automate Shopify product CSV from images using Gemini, GPT-4o, Google Drive & Sheets",
    "wechat": "youandme10086",
    "id": 12120,
    "update_time": "2026-02-13"
  },
  "nodes": [
    {
      "id": "626bd9e9-b5d4-465a-ac1e-56327a4f18f1",
      "name": "When clicking ‘Execute workflow’",
      "type": "n8n-nodes-base.manualTrigger",
      "position": [
        -2400,
        2992
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "bf72617c-28f8-46e7-9581-5938cd3ebfad",
      "name": "HTTP Request",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -1728,
        3008
      ],
      "parameters": {
        "url": "https://1qzkpy-1s.myshopify.com/admin/api/2025-10/graphql.json",
        "method": "POST",
        "options": {},
        "jsonBody": "={\n  \"query\": \"mutation stagedUploadsCreate($input: [StagedUploadInput!]!) { stagedUploadsCreate(input: $input) { stagedTargets { url resourceUrl parameters { name value } } userErrors { field message } } }\",\n  \"variables\": {\n    \"input\": [\n      {\n        \"filename\": \"{{ $json.file_name }}\",\n        \"mimeType\": \"image/jpeg\",\n        \"httpMethod\": \"POST\",\n        \"resource\": \"PRODUCT_IMAGE\"\n      }\n    ]\n  }\n}",
        "sendBody": true,
        "sendHeaders": true,
        "specifyBody": "json",
        "headerParameters": {
          "parameters": [
            {
              "name": "X-Shopify-Access-Token",
              "value": "enter access token"
            }
          ]
        }
      },
      "typeVersion": 4.3
    },
    {
      "id": "969ce0f7-f6f8-482d-acf5-c8d6a4ccd137",
      "name": "HTTP Request1",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -1280,
        3008
      ],
      "parameters": {
        "url": "https://shopify-staged-uploads.storage.googleapis.com",
        "method": "POST",
        "options": {},
        "sendBody": true,
        "contentType": "multipart-form-data",
        "bodyParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "={{ $('HTTP Request').item.json.data.stagedUploadsCreate.stagedTargets[0].parameters[0].value }}"
            },
            {
              "name": "success_action_status",
              "value": "={{ $('HTTP Request').item.json.data.stagedUploadsCreate.stagedTargets[0].parameters[1].value }}"
            },
            {
              "name": "acl",
              "value": "={{ $('HTTP Request').item.json.data.stagedUploadsCreate.stagedTargets[0].parameters[2].value }}"
            },
            {
              "name": "key",
              "value": "={{ $('HTTP Request').item.json.data.stagedUploadsCreate.stagedTargets[0].parameters[3].value }}"
            },
            {
              "name": "x-goog-date",
              "value": "={{ $('HTTP Request').item.json.data.stagedUploadsCreate.stagedTargets[0].parameters[4].value }}"
            },
            {
              "name": "x-goog-credential",
              "value": "={{ $('HTTP Request').item.json.data.stagedUploadsCreate.stagedTargets[0].parameters[5].value }}"
            },
            {
              "name": "x-goog-algorithm",
              "value": "={{ $('HTTP Request').item.json.data.stagedUploadsCreate.stagedTargets[0].parameters[6].value }}"
            },
            {
              "name": "x-goog-signature",
              "value": "={{ $('HTTP Request').item.json.data.stagedUploadsCreate.stagedTargets[0].parameters[7].value }}"
            },
            {
              "name": "policy",
              "value": "={{ $('HTTP Request').item.json.data.stagedUploadsCreate.stagedTargets[0].parameters[8].value }}"
            },
            {
              "name": "file",
              "parameterType": "formBinaryData",
              "inputDataFieldName": "data"
            }
          ]
        }
      },
      "typeVersion": 4.3
    },
    {
      "id": "4c7ac81b-0cc2-4af9-aaf9-1734a0acd142",
      "name": "Download file",
      "type": "n8n-nodes-base.googleDrive",
      "position": [
        -1504,
        3008
      ],
      "parameters": {
        "fileId": {
          "__rl": true,
          "mode": "id",
          "value": "={{ $('Loop Over Items').item.json.file_id }}"
        },
        "options": {},
        "operation": "download"
      },
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "credential-id",
          "name": "googleDriveOAuth2Api Credential"
        }
      },
      "typeVersion": 3
    },
    {
      "id": "d19a0bc9-6193-4860-a70d-e7cde6901b29",
      "name": "HTTP Request2",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -1056,
        3008
      ],
      "parameters": {
        "url": "https://1qzkpy-1s.myshopify.com/admin/api/2025-10/graphql.json",
        "method": "POST",
        "options": {},
        "jsonBody": "={\n  \"query\": \"mutation fileCreate($files: [FileCreateInput!]!) { fileCreate(files: $files) { files { id fileStatus alt createdAt ... on MediaImage { image { width height } } } userErrors { field message } } }\",\n  \"variables\": {\n    \"files\": [\n      {\n        \"alt\": \"{{ $('Loop Over Items').item.json.product_name }}\",\n        \"contentType\": \"IMAGE\",\n        \"originalSource\": \"{{ $json.data.match(/<Location>(.*?)<\\/Location>/)[1] }}\"\n      }\n    ]\n  }\n}",
        "sendBody": true,
        "sendHeaders": true,
        "specifyBody": "json",
        "headerParameters": {
          "parameters": [
            {
              "name": "X-Shopify-Access-Token",
              "value": "enter access token"
            }
          ]
        }
      },
      "typeVersion": 4.3
    },
    {
      "id": "e9b74336-9cf3-465d-a4ce-5b20ce798a03",
      "name": "HTTP Request3",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -1264,
        3232
      ],
      "parameters": {
        "url": "https://1qzkpy-1s.myshopify.com/admin/api/2025-10/graphql.json",
        "method": "POST",
        "options": {},
        "sendBody": true,
        "sendHeaders": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "query",
              "value": "=query { node(id: \"{{ $json.data.fileCreate.files[0].id }}\") { ... on File { fileStatus preview { image { url } } } } }"
            }
          ]
        },
        "headerParameters": {
          "parameters": [
            {
              "name": "X-Shopify-Access-Token",
              "value": "enter access token"
            }
          ]
        }
      },
      "typeVersion": 4.3
    },
    {
      "id": "cd3ce895-347a-44aa-b366-20a947a805e6",
      "name": "Analyze an image",
      "type": "@n8n/n8n-nodes-langchain.googleGemini",
      "position": [
        -1408,
        2016
      ],
      "parameters": {
        "text": "=Extract all the available jewelry details and ingnore other distraction appart from it.",
        "modelId": {
          "__rl": true,
          "mode": "list",
          "value": "models/gemini-2.5-flash",
          "cachedResultName": "models/gemini-2.5-flash"
        },
        "options": {},
        "resource": "image",
        "simplify": false,
        "inputType": "binary",
        "operation": "analyze"
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "executeOnce": true,
      "retryOnFail": true,
      "typeVersion": 1,
      "waitBetweenTries": 5000
    },
    {
      "id": "39accf1f-b143-4535-b1f5-adb59b9e8cd9",
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        -2400,
        2000
      ],
      "parameters": {
        "rule": {
          "interval": [
            {}
          ]
        }
      },
      "typeVersion": 1.3
    },
    {
      "id": "5a21f3f2-f416-43fc-9a18-dbd1a7df1099",
      "name": "Loop Over Items1",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        -1872,
        2000
      ],
      "parameters": {
        "options": {}
      },
      "typeVersion": 3
    },
    {
      "id": "faaec801-9062-46cf-ae64-e91e1c57c8f4",
      "name": "Download file1",
      "type": "n8n-nodes-base.googleDrive",
      "position": [
        -1632,
        2016
      ],
      "parameters": {
        "fileId": {
          "__rl": true,
          "mode": "id",
          "value": "={{ $json.file_id }}"
        },
        "options": {},
        "operation": "download"
      },
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "credential-id",
          "name": "googleDriveOAuth2Api Credential"
        }
      },
      "typeVersion": 3
    },
    {
      "id": "09dc8b4c-a550-4f70-ae8b-bc912b0d5ffe",
      "name": "Update row in sheet",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -992,
        2016
      ],
      "parameters": {
        "columns": {
          "value": {
            "file_id": "={{ $('Download file1').item.json.file_id }}",
            "image_date": "={{ $json.candidates[0].content.parts[0].text }}",
            "work_status": "image analyzed"
          },
          "schema": [
            {
              "id": "file_id",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "file_id",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "file_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "file_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "vendor_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "vendor_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "color_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "color_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "combine_color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "combine_color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku+color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku+color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "variant_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "variant_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_date",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "image_date",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_url",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "product_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "product_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "category",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Product Category",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Product Category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "tags",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "tags",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_description",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "ai_description",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_ideal_for",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "ai_ideal_for",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "work_status",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "work_status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "type": "number",
              "display": true,
              "removed": true,
              "readOnly": true,
              "required": false,
              "displayName": "row_number",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "file_id"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "update",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 495979200,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit#gid=495979200",
          "cachedResultName": "data_preparation"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit?usp=drivesdk",
          "cachedResultName": "Jewel_E_Market"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "credential-id",
          "name": "googleSheetsOAuth2Api Credential"
        }
      },
      "typeVersion": 4.7
    },
    {
      "id": "79c06eb4-435e-4dae-8bdf-6b394923cf4f",
      "name": "pending_image_to analyze",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -2144,
        2000
      ],
      "parameters": {
        "options": {},
        "filtersUI": {
          "values": [
            {
              "lookupValue": "gathered data",
              "lookupColumn": "work_status"
            }
          ]
        },
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 495979200,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit#gid=495979200",
          "cachedResultName": "data_preparation"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit?usp=drivesdk",
          "cachedResultName": "Jewel_E_Market"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "credential-id",
          "name": "googleSheetsOAuth2Api Credential"
        }
      },
      "executeOnce": true,
      "typeVersion": 4.7
    },
    {
      "id": "692e4a81-6bd3-487c-81d6-92c7ed14a2c6",
      "name": "Get row(s) in sheet",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -416,
        1280
      ],
      "parameters": {
        "options": {},
        "filtersUI": {
          "values": [
            {
              "lookupValue": "categorized",
              "lookupColumn": "work_status"
            },
            {
              "lookupColumn": "product_name"
            }
          ]
        },
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 495979200,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit#gid=495979200",
          "cachedResultName": "data_preparation"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit?usp=drivesdk",
          "cachedResultName": "Jewel_E_Market"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "credential-id",
          "name": "googleSheetsOAuth2Api Credential"
        }
      },
      "executeOnce": true,
      "typeVersion": 4.7
    },
    {
      "id": "4a0cf7cc-3fe8-4fb5-a8e0-579e29d15756",
      "name": "Schedule Trigger1",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        -640,
        1280
      ],
      "parameters": {
        "rule": {
          "interval": [
            {}
          ]
        }
      },
      "typeVersion": 1.3
    },
    {
      "id": "27b4f23a-499d-4bcc-9b41-668ac2e2f89d",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2464,
        1888
      ],
      "parameters": {
        "width": 1632,
        "height": 352,
        "content": "# Step-2 | Analyze image and update the data to sheet"
      },
      "typeVersion": 1
    },
    {
      "id": "945ba400-a0a2-4f3e-bdfd-50b64cdca481",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2464,
        2896
      ],
      "parameters": {
        "color": 4,
        "width": 1632,
        "height": 528,
        "content": "# Step-5 | Upload image to shopify asset and update the image link to sheet"
      },
      "typeVersion": 1
    },
    {
      "id": "b2e5a989-75e4-4f5c-82a4-7939d571fbe1",
      "name": "Loop Over Items2",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        -160,
        1280
      ],
      "parameters": {
        "options": {}
      },
      "typeVersion": 3
    },
    {
      "id": "354c3bd4-2220-4e50-864c-528cfa71fa53",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -816,
        976
      ],
      "parameters": {
        "width": 1632,
        "height": 2928,
        "content": "# Step-4 | Retreving category, generating content, Tags"
      },
      "typeVersion": 1
    },
    {
      "id": "8ad79bf5-addd-4f65-9116-9fe57a294829",
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        -1952,
        2992
      ],
      "parameters": {
        "options": {}
      },
      "typeVersion": 3
    },
    {
      "id": "872dedea-70d6-4dd5-b086-3ede0829eae3",
      "name": "Update row in sheet2",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -1040,
        3232
      ],
      "parameters": {
        "columns": {
          "value": {
            "file_id": "={{ $('Loop Over Items').item.json.file_id }}",
            "image_url": "={{ $json.data.node.preview.image.url }}",
            "work_status": "finalized"
          },
          "schema": [
            {
              "id": "file_id",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "file_id",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "file_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "file_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "vendor_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "vendor_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "color_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "color_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "combine_color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "combine_color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku+color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku+color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "variant_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "variant_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_date",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_date",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_url",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "image_url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "product_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "product_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "category",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Product Category",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Product Category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "tags",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "tags",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_description",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "ai_description",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_ideal_for",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "ai_ideal_for",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "work_status",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "work_status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "type": "number",
              "display": true,
              "removed": true,
              "readOnly": true,
              "required": false,
              "displayName": "row_number",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "file_id"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "update",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 495979200,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit#gid=495979200",
          "cachedResultName": "data_preparation"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit?usp=drivesdk",
          "cachedResultName": "Jewel_E_Market"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "credential-id",
          "name": "googleSheetsOAuth2Api Credential"
        }
      },
      "typeVersion": 4.7
    },
    {
      "id": "28ed7e4e-912f-4aff-a776-ec86650dfc7a",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2464,
        3440
      ],
      "parameters": {
        "color": 4,
        "width": 1632,
        "height": 464,
        "content": "# Step-6 | Prepare final CSV to upload"
      },
      "typeVersion": 1
    },
    {
      "id": "e7c5be1b-4830-471b-88b7-b96c54dbaa9e",
      "name": "Schedule Trigger2",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        -2336,
        3648
      ],
      "parameters": {
        "rule": {
          "interval": [
            {}
          ]
        }
      },
      "typeVersion": 1.3
    },
    {
      "id": "2d10957e-76a2-40d9-9a15-48f5db26b35d",
      "name": "get finalized data",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -2096,
        3648
      ],
      "parameters": {
        "options": {},
        "filtersUI": {
          "values": [
            {
              "lookupValue": "ddrr",
              "lookupColumn": "work_status"
            }
          ]
        },
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 495979200,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit#gid=495979200",
          "cachedResultName": "data_preparation"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit?usp=drivesdk",
          "cachedResultName": "Jewel_E_Market"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "credential-id",
          "name": "googleSheetsOAuth2Api Credential"
        }
      },
      "executeOnce": true,
      "typeVersion": 4.7
    },
    {
      "id": "3e6d17de-057e-40fe-83f3-fb3b892726bf",
      "name": "structuring columns",
      "type": "n8n-nodes-base.code",
      "position": [
        -1600,
        3664
      ],
      "parameters": {
        "jsCode": "const data = $input.first().json;\n\n// --- PRODUCT CATEGORY & TYPE MAPPING ---\nconst categoryMap = {\n  \"Necklace\": {\n    gCat: \"Apparel & Accessories > Jewelry > Necklaces\",\n    type: \"Necklaces\",\n    tags: [\"Jewellery\", \"All Jewellery\", \"necklaces\", \"Categories_Necklaces\"]\n  },\n  \"Earrings\": {\n    gCat: \"Apparel & Accessories > Jewelry > Earrings\",\n    type: \"Earrings\",\n    tags: [\"Jewellery\", \"All Jewellery\", \"Earrings\", \"Categories_Earrings\"]\n  },\n  \"Bangles\": {\n    gCat: \"Apparel & Accessories > Jewelry > Bracelets\",\n    type: \"Bangles\",\n    tags: [\"Jewellery\", \"All Jewellery\",\"bangles All\",\"AD bangles\",\"Bangle Sets\"]\n  },\n  \"Rings\": {\n    gCat: \"Apparel & Accessories > Jewelry > Rings\",\n    type: \"Rings\",\n    tags: [\"Jewellery\", \"All Jewellery\", \"Rings\", \"Categories_Rings\"]\n  },\n  \"Combo\": {\n    gCat: \"Apparel & Accessories > Jewelry > Jewelry Sets\",\n    type: \"Combo\",\n    tags: [\"Jewellery\", \"All Jewellery\",\"combo\",\"Categories_Combo\"]\n  },\n  \"Pendant\": {\n    gCat: \"Apparel & Accessories > Jewelry\",\n    type: \"Pendants\",\n    tags: [\"Jewellery\", \"All Jewellery\",\"pendants\",\"Categories_Pendants\"]\n  }\n};\n\n// fallback if category not mapped\nconst cat = categoryMap[data.category] || {\n  gCat: \"\",\n  type: data.category,\n  tags: [\"Jewellery\",\"All Jewellery\"]\n};\n\n// -----------------------------------------------------------\n// SMART TAG ENRICHMENT (Partial Keyword Matching from product_name & input tags)\n// -----------------------------------------------------------\nconst keywordTags = [\n  [\"kund\", \"Kundan Sets\"],\n  [\"haram\", \"Haram\"],\n  [\"thread\", \"Thread Necklace\"],\n  [\"temple\", \"Temple Necklaces\"],\n  [\"stud\", \"Studs\"],\n  [\"jhum\", \"Jhumkis\"],\n  [\"dangle\", \"Dangler\"],\n  [\"chand\", \"chandbali\"],\n  [\"ad\", \"AD Necklaces\"],\n];\n\nlet autoTags = [];\n\nconst sourceText = `${data.product_name} ${data.tags}`.toLowerCase();\nkeywordTags.forEach(([key, tag]) => {\n  if (sourceText.includes(key)) autoTags.push(tag);\n});\n\n// -----------------------------------------------------------\n// FINAL FIELD BUILDING\n// -----------------------------------------------------------\nconst title = `${data.vendor_name} ${data.product_name}`.trim();\nconst handle = `${data.vendor_name} ${data.product_name} ${data.sku}`.trim();\n\nreturn {\n  handle,\n  title,\n  vendor: data.vendor_name,\n  product_category: cat.gCat,\n  type: cat.type,\n  tags: [data.vendor_name, data.tags, ...cat.tags, ...autoTags].join(\", \"),\n  color: data.combine_color,\n  image_alt_text: title,\n  seo_title: title,\n};\n"
      },
      "typeVersion": 2
    },
    {
      "id": "df3804c7-9adf-4cf2-baf5-274f8576fa48",
      "name": "structuring body content",
      "type": "n8n-nodes-base.code",
      "position": [
        -1376,
        3664
      ],
      "parameters": {
        "jsCode": "const d = $('get finalized data').first().json;\n\nconst html =\n`<h1>${d.product_name}</h1>\n<p>${d.ai_description}</p>\n<p><strong>Ideal For:</strong> ${d.ai_ideal_for}</p>\n<h3>Specifications</h3>\n<table>\n<tr><td><strong>Item Type</strong></td><td>Fashion Jewellery</td></tr>\n<tr><td><strong>Brand Name</strong></td><td>${d.vendor_name}</td></tr>\n<tr><td><strong>Color</strong></td><td>${d.combine_color}</td></tr>\n</table>`.replace(/\\n/g,\"\"); // removes all line breaks\n\nreturn {\n  body_html: html\n};\n"
      },
      "typeVersion": 2
    },
    {
      "id": "62904784-289d-4cbb-948e-74cc98bd2e81",
      "name": "Append row in sheet",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -1104,
        3664
      ],
      "parameters": {
        "columns": {
          "value": {
            "Tags": "={{ $('structuring columns').item.json.tags }}",
            "Type": "={{ $('structuring columns').item.json.type }}",
            "Title": "={{ $('Loop Over Items3').item.json.product_name }}",
            "Handle": "={{ $('structuring columns').item.json.handle }}",
            "Status": "active",
            "Vendor": "={{ $('Loop Over Items3').item.json.vendor_name }}",
            "Gift Card": "FALSE",
            "Image Src": "={{ $('Loop Over Items3').item.json.image_url }}",
            "Published": "TRUE",
            "SEO Title": "={{ $('structuring columns').item.json.title }}",
            "Body (HTML)": "={{ $json.body_html }}",
            "Variant SKU": "={{ $('Loop Over Items3').item.json['sku+color'] }}",
            "Option1 Name": "Color",
            "Option1 Value": "={{ $('structuring columns').item.json.color }}",
            "Variant Image": "={{ $('Loop Over Items3').item.json.image_url }}",
            "Image Alt Text": "={{ $('structuring columns').item.json.title }}",
            "Image Position": "1",
            "SEO Description": "={{ $('Loop Over Items3').item.json.ai_ideal_for }}",
            "Variant Taxable": "TRUE",
            "Product Category": "={{ $('Loop Over Items3').item.json['Product Category'] }}",
            "Variant Inventory Qty": "20",
            "Variant Inventory Policy": "deny",
            "Variant Inventory Tracker": "shopify",
            "Variant Requires Shipping": "TRUE",
            "Google Shopping / Condition": "New",
            "Variant Fulfillment Service": "manual",
            "Google Shopping / Google Product Category": "={{ $('Loop Over Items3').item.json['Product Category'] }}"
          },
          "schema": [
            {
              "id": "Handle",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Handle",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Title",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Title",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Body (HTML)",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Body (HTML)",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Vendor",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Vendor",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Product Category",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Product Category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Type",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Type",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Tags",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Tags",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Published",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Published",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Option1 Name",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Option1 Name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Option1 Value",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Option1 Value",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Option2 Name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Option2 Name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Option2 Value",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Option2 Value",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Option3 Name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Option3 Name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Option3 Value",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Option3 Value",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Variant SKU",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Variant SKU",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Variant Grams",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Variant Grams",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Variant Inventory Tracker",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Variant Inventory Tracker",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Variant Inventory Qty",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Variant Inventory Qty",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Variant Inventory Policy",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Variant Inventory Policy",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Variant Fulfillment Service",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Variant Fulfillment Service",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Variant Price",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Variant Price",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Variant Compare At Price",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Variant Compare At Price",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Variant Requires Shipping",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Variant Requires Shipping",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Variant Taxable",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Variant Taxable",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Variant Barcode",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Variant Barcode",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Image Src",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Image Src",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Image Position",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Image Position",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Image Alt Text",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Image Alt Text",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Gift Card",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Gift Card",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "SEO Title",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "SEO Title",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "SEO Description",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "SEO Description",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Google Shopping / Google Product Category",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Google Shopping / Google Product Category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Google Shopping / Gender",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Google Shopping / Gender",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Google Shopping / Age Group",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Google Shopping / Age Group",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Google Shopping / MPN",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Google Shopping / MPN",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Google Shopping / AdWords Grouping",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Google Shopping / AdWords Grouping",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Google Shopping / AdWords Labels",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Google Shopping / AdWords Labels",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Google Shopping / Condition",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Google Shopping / Condition",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Google Shopping / Custom Product",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Google Shopping / Custom Product",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Google Shopping / Custom Label 0",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Google Shopping / Custom Label 0",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Google Shopping / Custom Label 1",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Google Shopping / Custom Label 1",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Google Shopping / Custom Label 2",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Google Shopping / Custom Label 2",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Google Shopping / Custom Label 3",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Google Shopping / Custom Label 3",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Google Shopping / Custom Label 4",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Google Shopping / Custom Label 4",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Variant Image",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Variant Image",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Variant Weight Unit",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Variant Weight Unit",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Variant Tax Code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Variant Tax Code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Cost per item",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Cost per item",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Price / International",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Price / International",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Compare At Price / International",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Compare At Price / International",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Status",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "append",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 151166037,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit#gid=151166037",
          "cachedResultName": "final_product_data"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit?usp=drivesdk",
          "cachedResultName": "Jewel_E_Market"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "credential-id",
          "name": "googleSheetsOAuth2Api Credential"
        }
      },
      "typeVersion": 4.7
    },
    {
      "id": "a31726de-4d7b-4360-8fae-6a397c068ef0",
      "name": "Loop Over Items3",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        -1888,
        3648
      ],
      "parameters": {
        "options": {}
      },
      "typeVersion": 3
    },
    {
      "id": "70b8126a-c1f5-4f95-afd0-3a59e30d955b",
      "name": "nothing",
      "type": "n8n-nodes-base.noOp",
      "position": [
        -1888,
        3488
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "82931bcf-acc6-4ae1-b6df-bc79197e96d2",
      "name": "query_folder_name1",
      "type": "n8n-nodes-base.set",
      "position": [
        -2240,
        1648
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "79cdb340-08a0-4f71-a7c9-a4ae973ad878",
              "name": "folder_name",
              "type": "string",
              "value": "={{ $json.folder_name }}"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "df9ba080-298f-42b2-9ac8-5d0fc285bb97",
      "name": "Search_folders1",
      "type": "n8n-nodes-base.googleDrive",
      "position": [
        -2064,
        1648
      ],
      "parameters": {
        "filter": {
          "folderId": {
            "__rl": true,
            "mode": "list",
            "value": "10L-y-wwmfpHBegSts3fc2RyTuIkX53GA",
            "cachedResultUrl": "https://drive.google.com/drive/folders/10L-y-wwmfpHBegSts3fc2RyTuIkX53GA",
            "cachedResultName": "pending"
          },
          "whatToSearch": "folders"
        },
        "options": {},
        "resource": "fileFolder",
        "returnAll": true,
        "queryString": "={{ $json.folder_name }}"
      },
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "credential-id",
          "name": "googleDriveOAuth2Api Credential"
        }
      },
      "typeVersion": 3,
      "alwaysOutputData": true
    },
    {
      "id": "e7b3d5ca-3b4c-485a-a2a1-9637cccb4120",
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2464,
        1520
      ],
      "parameters": {
        "width": 1632,
        "height": 352,
        "content": "# Step-1 | Update image data from drive to sheet"
      },
      "typeVersion": 1
    },
    {
      "id": "47899720-b62e-4da1-8044-19513fba01ae",
      "name": "image_within_folder1",
      "type": "n8n-nodes-base.googleDrive",
      "position": [
        -1888,
        1648
      ],
      "parameters": {
        "filter": {
          "folderId": {
            "__rl": true,
            "mode": "id",
            "value": "={{ $json.id }}"
          },
          "whatToSearch": "files"
        },
        "options": {},
        "resource": "fileFolder",
        "returnAll": true,
        "queryString": "="
      },
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "credential-id",
          "name": "googleDriveOAuth2Api Credential"
        }
      },
      "typeVersion": 3,
      "alwaysOutputData": true
    },
    {
      "id": "a366a00d-c718-44ab-a371-49db7ed59402",
      "name": "looping1",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        -1200,
        1648
      ],
      "parameters": {
        "options": {}
      },
      "typeVersion": 3
    },
    {
      "id": "37d6bb84-e384-4e2f-8639-291b60229be2",
      "name": "add_image_data2",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -992,
        1664
      ],
      "parameters": {
        "columns": {
          "value": {
            "sku": "={{ $json.sku }}",
            "file_id": "={{ $json.fileId }}",
            "file_name": "={{ $json.fileName }}",
            "sku+color": "={{ $json.sku }}{{ $('sku_structuring1').item.json.colorCodes[0] }}",
            "color_code": "={{ $json.colorCodes[0] }}",
            "vendor_name": "={{ $('Search_folders1').item.json.name }}",
            "work_status": "gathered data",
            "variant_code": "={{ $json.variant_no }}",
            "combine_color": "={{ $json.colorCombined }}"
          },
          "schema": [
            {
              "id": "file_id",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "file_id",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "file_name",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "file_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "vendor_name",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "vendor_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "sku",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "color_code",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "color_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "combine_color",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "combine_color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku+color",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "sku+color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "variant_code",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "variant_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_date",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_date",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_url",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "product_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "product_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "category",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Product Category",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Product Category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "tags",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "tags",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_description",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "ai_description",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_ideal_for",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "ai_ideal_for",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "work_status",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "work_status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "unique_ID"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "append",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 495979200,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit#gid=495979200",
          "cachedResultName": "data_preparation"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit?usp=drivesdk",
          "cachedResultName": "Jewel_E_Market"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "credential-id",
          "name": "googleSheetsOAuth2Api Credential"
        }
      },
      "executeOnce": false,
      "typeVersion": 4.7
    },
    {
      "id": "8267cedd-5204-4fb8-a123-ea95adc2ddb2",
      "name": "sku_sort",
      "type": "n8n-nodes-base.sort",
      "position": [
        -1552,
        1648
      ],
      "parameters": {
        "options": {},
        "sortFieldsUi": {
          "sortField": [
            {
              "fieldName": "sku"
            }
          ]
        }
      },
      "typeVersion": 1
    },
    {
      "id": "d05c8155-e47b-4f47-94e5-339a94188fac",
      "name": "variant_numbering1",
      "type": "n8n-nodes-base.code",
      "position": [
        -1392,
        1648
      ],
      "parameters": {
        "jsCode": "let lastSku = null;\nlet variantNo = 0;\n\nreturn items.map(item => {\n  const currentSku = item.json.sku;\n\n  // if SKU changes, reset counter\n  if (currentSku !== lastSku) {\n    variantNo = 1;\n    lastSku = currentSku;\n  } else {\n    variantNo += 1;\n  }\n\n  return {\n    json: {\n      ...item.json,\n      variant_no: variantNo\n    }\n  };\n});\n"
      },
      "typeVersion": 2
    },
    {
      "id": "b451be8c-71f2-4994-b154-4d59fb216309",
      "name": "sku_structuring1",
      "type": "n8n-nodes-base.code",
      "position": [
        -1712,
        1648
      ],
      "parameters": {
        "jsCode": "const inputItems = $input.all();\n\n// ---- UPDATED COLOR MAP (SHORT FORM → FULL NAME) ----\nconst colorMap = {\n  t2: \"2 tone\",\n  t3: \"3 Tone\",\n  be: \"Beige\",\n  bl: \"Black\",\n  blu: \"Blue\",\n  gbl: \"Blue & Green\",\n  br: \"Brown\",\n  cha: \"Champagne\",\n  cr: \"Cream\",\n  dbl: \"Dark Blue\",\n  dgr: \"Dark Green\",\n  dpe: \"Dark Peach\",\n  dp: \"Dark Pink\",\n  dpg: \"Dark Pink & Green\",\n  dpu: \"Dark Purple\",\n  dy: \"Dark Yellow\",\n  gl: \"Gold\",\n  gr: \"Green\",\n  pgr: \"Green & Pink\",\n  rgr: \"Green & Red\",\n  gy: \"Grey\",\n  lc: \"Lct\",\n  lcw: \"Lct & White\",\n  lbl: \"Light Blue\",\n  lg: \"Light Green\",\n  lpe: \"Light Peach\",\n  lpi: \"Light Pink\",\n  lp: \"Light Purple\",\n  ly: \"Light Yellow\",\n  mr: \"Maroon\",\n  mgr: \"Maroon & Green\",\n  mi: \"Mint\",\n  mb: \"Mint Blue\",\n  mg: \"Mint Green\",\n  ml: \"Multi\",\n  nbl: \"Navy Blue\",\n  or: \"Orange\",\n  pe: \"Peach\",\n  pk: \"Pink\",\n  blp: \"Pink & Blue\",\n  whp: \"Pink & White\",\n  pu: \"Purple\",\n  pg: \"Purple & Green\",\n  grr: \"Rama Green\",\n  rd: \"Red\",\n  rg: \"Rose Gold\",\n  ru: \"Ruby\",\n  sl: \"Silver\",\n  sbl: \"Sky Blue\",\n  wh: \"White\",\n  ye: \"Yellow\",\n  yg: \"Yellow & Green\",\n  yp: \"Yellow & Pink\",\n  yr: \"Yellow & Red\",\n  ox: \"Oxidised\",\n  ow: \"Off White\",\n  mh: \"Mehndi\",\n  mx: \"Mix Color\",\n  gru: \"Green & Ruby\",\n  wi: \"Wine\",\n  rb: \"Rainbow\",\n  co: \"Copper\",\n  lv: \"Lavender\",\n};\n\n// ---- PROCESS EACH ITEM ----\nconst results = inputItems.map((item) => {\n  const fileId = item.json.id;\n  const fileName = item.json.name || \"\";\n\n  const base = fileName.replace(/\\.[^/.]+$/, \"\");\n\n  // Extract color part (letters and hyphens at end)\n  const match = base.match(/[A-Za-z-]+$/);\n  const colorPart = match ? match[0] : \"\";\n\n  // Split into codes\n  const colorCodes = colorPart\n    .split(\"-\")\n    .filter((c) => c.trim().length > 0);\n\n  // Convert codes → full names\n  const colors = colorCodes.map((code) => {\n    const normalized = code.toLowerCase();\n    return colorMap[normalized] || code.toUpperCase();\n  });\n\n  // Combined color text\n  let colorCombined = \"\";\n  if (colors.length === 1) {\n    colorCombined = colors[0];\n  } else if (colors.length > 1) {\n    colorCombined = `${colors.join(\" and \")} Mix`;\n  }\n\n  // Extract SKU (everything before first letter)\n  const skuMatch = base.match(/^[^A-Za-z]+/);\n  const sku = skuMatch ? skuMatch[0] : \"\";\n\n  return {\n    json: {\n      fileId,\n      fileName,\n      sku,\n      colorCodes,\n      colors,\n      colorCombined,\n    },\n  };\n});\n\nreturn results;\n"
      },
      "typeVersion": 2
    },
    {
      "id": "3230f276-d65a-4df8-a658-8dad477e7fe1",
      "name": "START",
      "type": "n8n-nodes-base.formTrigger",
      "position": [
        -2432,
        1648
      ],
      "webhookId": "7b46c688-91ee-43c3-9483-405cb1432179",
      "parameters": {
        "options": {},
        "formTitle": "Upload the folder/file details",
        "formFields": {
          "values": [
            {
              "fieldLabel": "folder_name",
              "placeholder": "Enter the folder name",
              "requiredField": true
            }
          ]
        },
        "formDescription": "According to your given data will fetch the data to process further."
      },
      "typeVersion": 2.3
    },
    {
      "id": "8ce6ba70-1204-4928-be8e-cb9ba631ad32",
      "name": "Get row(s) in sheet2",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -2144,
        2352
      ],
      "parameters": {
        "options": {},
        "filtersUI": {
          "values": [
            {
              "lookupValue": "image analyzed",
              "lookupColumn": "work_status"
            }
          ]
        },
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 495979200,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit#gid=495979200",
          "cachedResultName": "data_preparation"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit?usp=drivesdk",
          "cachedResultName": "Jewel_E_Market"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "credential-id",
          "name": "googleSheetsOAuth2Api Credential"
        }
      },
      "executeOnce": true,
      "typeVersion": 4.7
    },
    {
      "id": "760920a6-b04d-41c3-a314-39b6bffed78c",
      "name": "Schedule Trigger4",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        -2400,
        2352
      ],
      "parameters": {
        "rule": {
          "interval": [
            {}
          ]
        }
      },
      "typeVersion": 1.3
    },
    {
      "id": "1483492a-1065-4d0f-8219-9f6822a3d179",
      "name": "Loop Over Items4",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        -1872,
        2352
      ],
      "parameters": {
        "options": {}
      },
      "typeVersion": 3
    },
    {
      "id": "c9d28d5e-29a7-4234-ad54-e451af0517b6",
      "name": "Update row in sheet3",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -992,
        2368
      ],
      "parameters": {
        "columns": {
          "value": {
            "file_id": "={{ $('Loop Over Items4').item.json.file_id }}",
            "category": "={{ $json.output.p_category }}",
            "work_status": "categorized"
          },
          "schema": [
            {
              "id": "file_id",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "file_id",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "file_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "file_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "vendor_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "vendor_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "color_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "color_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "combine_color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "combine_color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku+color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku+color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "variant_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "variant_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_date",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_date",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_url",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "product_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "product_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "category",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Product Category",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Product Category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "tags",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "tags",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_description",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "ai_description",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_ideal_for",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "ai_ideal_for",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "work_status",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "work_status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "type": "number",
              "display": true,
              "removed": true,
              "readOnly": true,
              "required": false,
              "displayName": "row_number",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "file_id"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "update",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 495979200,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit#gid=495979200",
          "cachedResultName": "data_preparation"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit?usp=drivesdk",
          "cachedResultName": "Jewel_E_Market"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "credential-id",
          "name": "googleSheetsOAuth2Api Credential"
        }
      },
      "typeVersion": 4.7
    },
    {
      "id": "b0500451-e32f-4e43-b886-e269bb6ae20c",
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2464,
        2256
      ],
      "parameters": {
        "width": 1632,
        "height": 624,
        "content": "# Step-3 | Retreving main category"
      },
      "typeVersion": 1
    },
    {
      "id": "8fbe8f12-3645-4d51-9a3e-ac3858f62865",
      "name": "AI Agent2",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        -1552,
        2368
      ],
      "parameters": {
        "text": "=# Input\nImage Data : {{ $json.image_date }}",
        "options": {
          "systemMessage": "=You are a jewelry categorization expert.\n\nClassify the product strictly using the image analysis description only.\nDo NOT assume bridal usage unless explicit bridal indicators are present.\nDo NOT add explanations outside the output JSON.\n\n--------------------------------------------------\nCATEGORY PRIORITY ORDER (MANDATORY)\nCheck categories in this exact order and stop at the first valid match:\n\n1. Bridal\n2. Men's Jewellery\n3. Chain\n4. Necklace\n5. Rings\n6. Earrings\n7. Bangles\n8. Hair Accessories\n9. Pendants\n10. Jewellery Accessories\n11. Bindi\n12. Rakhi\n13. Brooch\n14. Combo\n\n--------------------------------------------------\nCATEGORY DEFINITIONS\n\nBridal (Highest Priority)\nAssign ONLY IF at least one condition is true:\n- Product includes 3 or more of:\n  Necklace, Earrings, Maang Tikka, Nose Ring, Bangles, Hand Harness, Kamarband\n- OR explicitly labeled “Bridal” or “Wedding Set”\n- OR shown on a bride model\n- OR includes bridal-exclusive items (e.g. Chuda)\n\nIMPORTANT:\n- Necklace + Earrings alone DOES NOT qualify as Bridal\n- Festive, traditional, or wedding-appropriate ≠ Bridal\n\nMen’s Jewellery\n- Designed exclusively for men\n- Overrides all other categories\n\nNecklace\n- Neck-worn jewellery\n- Decorative, statement, or non-minimal\n- Matching earrings do NOT make it Combo\n\nChain\n- Simple, thin, plain neck chain\n- Minimal design\n- With or without small pendant\n\nRings\n- Finger-worn jewellery\n- Single or pair\n\nEarrings\n- Matching pair worn on ears\n- Must be the ONLY main item to qualify\n\nBangles\n- Wrist-worn jewellery\n- Single or multiple pieces\n- Bangles + unrelated items → Combo\n\nHair Accessories\n- Designed to be worn in hair\n- Excludes forehead items\n\nPendants\n- Solo pendant or pendant-dominant piece\n- Thin chain allowed\n\nJewellery Accessories\n- Items not fitting core categories\n- Includes: Hand Harness, Nose Ring, Maang Tikka, Payal,\n  Kamarband, Saree Pin, Mask Chain, single Bracelet\n\nBindi\n- Decorative forehead bindi only\n\nRakhi\n- Raksha Bandhan rakhi only\n\nBrooch\n- Decorative pin for clothing, saree, or hair\n\nCombo (LAST RESORT)\n- Multiple non-matching jewellery items or types\n- 2+ different necklaces → Combo\n- Bangles + unrelated earrings → Combo\n- Necklace + matching earrings → Necklace (NOT Combo)\n\n--------------------------------------------------\nGUARDRAILS (MANDATORY)\n- Wedding-appropriate ≠ Bridal\n- Heavy design ≠ Bridal\n- Prefer Necklace over Combo when earrings match\n- Earrings must NOT override Necklace\n- Use Combo only if no single dominant category fits\n\n--------------------------------------------------\nOUTPUT FORMAT (JSON ONLY)\n\n{\n  \"p_category\": \"\",\n  \"p_reason\": \"\",\n  \"p_confidence\": \"0%\",\n\n  \"s_category\": \"\",\n  \"s_reason\": \"\",\n  \"s_confidence\": \"0%\",\n\n  \"t_category\": \"\",\n  \"t_reason\": \"\",\n  \"t_confidence\": \"0%\"\n}\n\n--------------------------------------------------\nCONFIDENCE RULES\n- p_confidence: strongest match and highest priority\n- s_confidence: valid alternative, lower priority\n- t_confidence: weak or edge possibility\n- Use numeric percentage only (0–100%)\n- Do NOT repeat the same category more than once"
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "executeOnce": true,
      "typeVersion": 3
    },
    {
      "id": "5c6c470f-8ee9-403d-bfa0-a64f4fea091f",
      "name": "Simple Memory2",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        -1728,
        2576
      ],
      "parameters": {
        "sessionKey": "={{$now.minute}}",
        "sessionIdType": "customKey"
      },
      "typeVersion": 1.3
    },
    {
      "id": "350a66ae-a694-4856-b340-7ab46335098c",
      "name": "Auto-fixing Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserAutofixing",
      "position": [
        -1584,
        2576
      ],
      "parameters": {
        "options": {}
      },
      "typeVersion": 1
    },
    {
      "id": "601f6472-5c6e-4390-9b1a-1b9c146d651f",
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        -1440,
        2736
      ],
      "parameters": {
        "schemaType": "manual",
        "inputSchema": "{\n  \"p_category\": \"\",\n  \"p_reason\": \"\",\n  \"p_confidence\": \"0%\",\n\n  \"s_category\": \"\",\n  \"s_reason\": \"\",\n  \"s_confidence\": \"0%\",\n\n  \"t_category\": \"\",\n  \"t_reason\": \"\",\n  \"t_confidence\": \"0%\"\n}"
      },
      "typeVersion": 1.3
    },
    {
      "id": "17434891-1591-420e-90e5-5e33a65da2c8",
      "name": "Google Gemini Chat Model2",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        -1840,
        2576
      ],
      "parameters": {
        "options": {},
        "modelName": "models/gemini-3-flash-preview"
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "79fb26ea-3866-4f1c-a9f0-2b7add245639",
      "name": "Wait",
      "type": "n8n-nodes-base.wait",
      "position": [
        -1200,
        2016
      ],
      "webhookId": "53932d48-59a3-407e-9479-cdc3d372809d",
      "parameters": {
        "amount": 16
      },
      "typeVersion": 1.1
    },
    {
      "id": "165c3f8b-92e8-4714-8bc6-ad2406975d57",
      "name": "Wait1",
      "type": "n8n-nodes-base.wait",
      "position": [
        -1200,
        2368
      ],
      "webhookId": "0b2a2df0-2740-4707-9d83-39481aeb618a",
      "parameters": {
        "amount": 2
      },
      "typeVersion": 1.1
    },
    {
      "id": "0235fb7e-e3e4-4674-936e-720042c0b2f2",
      "name": "Switch",
      "type": "n8n-nodes-base.switch",
      "position": [
        608,
        928
      ],
      "parameters": {
        "rules": {
          "values": [
            {
              "outputKey": "Necklace",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "0c7e5fb4-44e8-460f-8c41-26b7301edc7c",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "leftValue": "={{ $json.category }}",
                    "rightValue": "Necklace"
                  }
                ]
              },
              "renameOutput": true
            },
            {
              "outputKey": "Earrings",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "8b24e2a9-601a-4cc6-b8bb-0a3eaf635b6e",
                    "operator": {
                      "name": "filter.operator.equals",
                      "type": "string",
                      "operation": "equals"
                    },
                    "leftValue": "={{ $json.category }}",
                    "rightValue": "Earrings"
                  }
                ]
              },
              "renameOutput": true
            },
            {
              "outputKey": "Bangles",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "95ab6d13-8bb6-47a6-ae0f-6b055cd326f8",
                    "operator": {
                      "name": "filter.operator.equals",
                      "type": "string",
                      "operation": "equals"
                    },
                    "leftValue": "={{ $json.category }}",
                    "rightValue": "Bangles"
                  }
                ]
              },
              "renameOutput": true
            },
            {
              "outputKey": "Rings",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "9956d5c3-c1b7-40e4-97ea-b8bdbb737d25",
                    "operator": {
                      "name": "filter.operator.equals",
                      "type": "string",
                      "operation": "equals"
                    },
                    "leftValue": "={{ $json.category }}",
                    "rightValue": "Rings"
                  }
                ]
              },
              "renameOutput": true
            },
            {
              "outputKey": "Combo",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "d47515c8-3a37-4af2-9988-964d728630e7",
                    "operator": {
                      "name": "filter.operator.equals",
                      "type": "string",
                      "operation": "equals"
                    },
                    "leftValue": "={{ $json.category }}",
                    "rightValue": "Combo"
                  }
                ]
              },
              "renameOutput": true
            },
            {
              "outputKey": "Hair accessories",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "3cc79560-8e3f-4203-8bac-aa76f32a1a83",
                    "operator": {
                      "name": "filter.operator.equals",
                      "type": "string",
                      "operation": "equals"
                    },
                    "leftValue": "={{ $json.category }}",
                    "rightValue": "Hair Accessories"
                  }
                ]
              },
              "renameOutput": true
            },
            {
              "outputKey": "Jewellery Accessories",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "71ad1319-6905-4e0a-b8fe-79639acbd7bc",
                    "operator": {
                      "name": "filter.operator.equals",
                      "type": "string",
                      "operation": "equals"
                    },
                    "leftValue": "={{ $json.category }}",
                    "rightValue": "Jewellery Accessories"
                  }
                ]
              },
              "renameOutput": true
            },
            {
              "outputKey": "Pandents",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "612ae53f-d3a8-47fe-a9ef-69116fab48d2",
                    "operator": {
                      "name": "filter.operator.equals",
                      "type": "string",
                      "operation": "equals"
                    },
                    "leftValue": "={{ $json.category }}",
                    "rightValue": "Pandents"
                  }
                ]
              },
              "renameOutput": true
            },
            {
              "outputKey": "Bindi",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "4102c00d-3fe7-4372-9293-bba545b6ae6d",
                    "operator": {
                      "name": "filter.operator.equals",
                      "type": "string",
                      "operation": "equals"
                    },
                    "leftValue": "={{ $json.category }}",
                    "rightValue": "Bindi"
                  }
                ]
              },
              "renameOutput": true
            },
            {
              "outputKey": "Rakhi",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "6c3658f6-fa13-462e-bffa-6b561d525208",
                    "operator": {
                      "name": "filter.operator.equals",
                      "type": "string",
                      "operation": "equals"
                    },
                    "leftValue": "={{ $json.category }}",
                    "rightValue": "Rakhi"
                  }
                ]
              },
              "renameOutput": true
            },
            {
              "outputKey": "Brooch",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "d41bc8dc-3510-40ce-9418-e25a202bdd41",
                    "operator": {
                      "name": "filter.operator.equals",
                      "type": "string",
                      "operation": "equals"
                    },
                    "leftValue": "={{ $json.category }}",
                    "rightValue": "Brooch"
                  }
                ]
              },
              "renameOutput": true
            },
            {
              "outputKey": "Bridal",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "ca3a040e-2e0e-4aac-863f-30d4cc425710",
                    "operator": {
                      "name": "filter.operator.equals",
                      "type": "string",
                      "operation": "equals"
                    },
                    "leftValue": "={{ $json.category }}",
                    "rightValue": "Bridal"
                  }
                ]
              },
              "renameOutput": true
            },
            {
              "outputKey": "Chain",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "d31048e9-23a9-4f8a-80ab-2ce797acce6b",
                    "operator": {
                      "name": "filter.operator.equals",
                      "type": "string",
                      "operation": "equals"
                    },
                    "leftValue": "={{ $json.category }}",
                    "rightValue": "Chain"
                  }
                ]
              },
              "renameOutput": true
            }
          ]
        },
        "options": {}
      },
      "typeVersion": 3.3
    },
    {
      "id": "6273f5cd-957e-4df9-a668-7ce5955b7e2f",
      "name": "Gemini",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        16,
        2912
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "ebfc608f-35ac-4a88-b7f2-5cb2e7374599",
      "name": "Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        112,
        2912
      ],
      "parameters": {
        "sessionKey": "={{$now.minute}}",
        "sessionIdType": "customKey"
      },
      "typeVersion": 1.3
    },
    {
      "id": "714618f6-634e-4375-8787-b055d540e8d9",
      "name": "Structured",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        208,
        2912
      ],
      "parameters": {
        "autoFix": true,
        "schemaType": "manual",
        "inputSchema": "{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Materials\": null,\n    \"Gemstone_Type\": null,\n    \"Metal_Quality\": null,\n    \"Setting_Type\": null,\n    \"Earring_Style\": null,\n    \"Back_Finding\": null,\n    \"Collection\": \"Traditional Heritage\",\n    \"Occasion\": \"Wedding & Bridal\",\n    \"Weight_Feel\": \"Heavy Statement\",\n    \"Primary_Stone_Shape\": null\n  }\n}"
      },
      "typeVersion": 1.3
    },
    {
      "id": "b9453ff7-0c5c-49e6-9f34-78572a9a911a",
      "name": "Bridal item",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        16,
        2752
      ],
      "parameters": {
        "text": "=# Input\nImage Data : {{ $json.image_date }}",
        "options": {
          "systemMessage": "=# Dedicated Bridal Jewelry Content Agent\n\n**Role:** Specialist Shopify Content Writer for Bridal Jewelry.\n**Task:** Transform image analysis into a premium JSON block strictly for the Bridal collection.\n\n---\n\n### 1. Bridal Categorization & Tagging Rules\nThis agent is dedicated to the **Bridal Jewellery** menu. All outputs must follow these tagging rules:\n\n* **Primary Tags (Mandatory):** `Jewellery`, `All Jewellery`, `bridal`, `Categories_Bridal`, `Bridal Sets`.\n* **Item Type Tags:**\n    * If a necklace is present: Add `necklaces`, `Categories_Necklaces`.\n    * If tight-fitting: Add `traditional chokers`.\n    * If long/Rani Haar: Add `Haram`.\n    * If Kundan/Jadau stones: Add `Kundan Sets`.\n    * If Temple motifs (Deities/Peacocks): Add `Temple Necklaces`.\n* **Set Components:**\n    * If it includes a forehead piece: Add `Maang Tikka Earrings`.\n    * If it is a multi-piece set: Add `combo`, `Categories_Combo`.\n\n---\n\n### 2. Writing & Technical Instructions\n* **Product Name:** Premium, royal name (e.g., \"Heritage Kundan Bridal Ensemble\").\n* **Description:** (Max 600 chars). Emotional, regal, and heritage-focused. **STRICT: Do not mention colors.** Focus on the \"Bridal Glow,\" craftsmanship, and the \"Once-in-a-lifetime\" appeal.\n* **Ideal For:** One sentence styling advice (e.g., \"Designed for the modern bride to pair with heavy silk lehengas or traditional Banarasi sarees.\").\n* **Technical Specs:** Extract values from the data. Use `null` if the detail is not found.\n\n---\n\n### 3. Output Structure (JSON)\n\n{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Materials\": null,\n    \"Gemstone_Type\": null,\n    \"Metal_Quality\": null,\n    \"Setting_Type\": null,\n    \"Earring_Style\": null,\n    \"Back_Finding\": null,\n    \"Collection\": \"Traditional Heritage\",\n    \"Occasion\": \"Wedding & Bridal\",\n    \"Weight_Feel\": \"Heavy Statement\",\n    \"Primary_Stone_Shape\": null\n  }\n}\n\n---\n\n### 4. Technical Mapping Values\n- **Gemstone_Type:** Kundan, Polki, Pearl, or Beads.\n- **Metal_Quality:** 18K Gold Plated, Antique Gold, or Premium Gold Tone.\n- **Setting_Type:** Jadau, Bezel, or Hand-set.\n- **Earring_Style:** Jhumka, Dangler, or Chandbali.\n- **Primary_Stone_Shape:** Round, Drop, or Square."
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 3
    },
    {
      "id": "3fac7864-f640-4f38-b3de-ec76bdbe6342",
      "name": "Gemini 2.5flash",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        368,
        2912
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "b9d21e61-b3a5-4181-9cea-1190b1b27a5a",
      "name": "text to HTML",
      "type": "n8n-nodes-base.code",
      "position": [
        336,
        2752
      ],
      "parameters": {
        "jsCode": "const input = $input.first().json.output;\n\n// 1. Convert technical specs to HTML table rows (filtering nulls)\nconst tableRows = Object.entries(input.technical_specs || {})\n  .filter(([_, value]) => value !== null && value !== \"\")\n  .map(\n    ([key, value]) =>\n      \"<tr>\" +\n      \"<td><strong>\" +\n      key.replace(/_/g, \" \") +\n      \"</strong></td>\" +\n      \"<td>\" +\n      value +\n      \"</td>\" +\n      \"</tr>\"\n  )\n  .join(\"\");\n\n// 2. Format description with <br><br> after sentences (no newlines)\nconst formattedDescription = input.description\n  .replace(/\\.\\s+/g, \".<br><br>\")\n  .trim();\n\n// 3. Build Shopify-safe HTML (single-line output)\nconst html_content =\n  \"<h2>\" +\n  input.product_name +\n  \"</h2>\" +\n  \"<p>\" +\n  formattedDescription +\n  \"</p>\" +\n  \"<p><strong>Ideal For:</strong> \" +\n  input.ideal_for +\n  \"</p>\" +\n  \"<h3>Product Specifications</h3>\" +\n  \"<table border='1' cellpadding='8' cellspacing='0' style='border-collapse:collapse;width:100%;'>\" +\n  \"<tbody>\" +\n  tableRows +\n  \"</tbody>\" +\n  \"</table>\";\n\n// 4. Return all original fields + enhanced HTML\nreturn {\n  ...input,\n  html_content: html_content\n};"
      },
      "typeVersion": 2
    },
    {
      "id": "5cacba26-17b4-4d7e-970c-0bf001d589de",
      "name": "update bridal data",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        560,
        2752
      ],
      "parameters": {
        "columns": {
          "value": {
            "tags": "={{ $json.final_tags }}",
            "file_id": "={{ $('Switch').item.json.file_id }}",
            "work_status": "content generated",
            "ai_ideal_for": "={{ $json.ideal_for }}",
            "product_name": "={{ $('Get row(s) in sheet').item.json.vendor_name }} {{ $json.product_name }}",
            "ai_description": "={{ $json.html_content }}",
            "Product Category": "Apparel & Accessories > Jewelry > Jewelry Sets"
          },
          "schema": [
            {
              "id": "file_id",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "file_id",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "file_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "file_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "vendor_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "vendor_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "color_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "color_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "combine_color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "combine_color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku+color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku+color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "variant_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "variant_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_date",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_date",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_url",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "product_name",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "product_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "category",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Product Category",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Product Category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "tags",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "tags",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_description",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_description",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_ideal_for",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_ideal_for",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "work_status",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "work_status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "type": "number",
              "display": true,
              "removed": true,
              "readOnly": true,
              "required": false,
              "displayName": "row_number",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "file_id"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "update",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 495979200,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit#gid=495979200",
          "cachedResultName": "data_preparation"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit?usp=drivesdk",
          "cachedResultName": "Jewel_E_Market"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "credential-id",
          "name": "googleSheetsOAuth2Api Credential"
        }
      },
      "typeVersion": 4.7
    },
    {
      "id": "79a0ef1a-607c-4080-9ab5-25840909b1eb",
      "name": "Gemini1",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        32,
        3232
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "fcb2881e-f44f-45c3-919c-d1f5bbff7354",
      "name": "Memory1",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        128,
        3232
      ],
      "parameters": {
        "sessionKey": "={{$now.minute}}",
        "sessionIdType": "customKey"
      },
      "typeVersion": 1.3
    },
    {
      "id": "9a46e12a-e4a7-469a-aea8-bd2bb272f117",
      "name": "Structured1",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        224,
        3232
      ],
      "parameters": {
        "autoFix": true,
        "schemaType": "manual",
        "inputSchema": "{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Materials\": null,\n    \"Chain_Style\": null,\n    \"Metal_Quality\": null,\n    \"Setting_Type\": null,\n    \"Length\": null,\n    \"Clasp_Type\": \"Lobster Claw Clasp\",\n    \"Collection\": \"Modern Essentials\",\n    \"Occasion\": \"Daily Wear, Anniversary, Birthday\",\n    \"Weight_Feel\": \"Lightweight\",\n    \"Pendant_Type\": null\n  }\n}"
      },
      "typeVersion": 1.3
    },
    {
      "id": "c6c61040-86fe-4c31-92da-9f0dce23c785",
      "name": "Gemini 2.5flash1",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        384,
        3232
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "752c35d6-c842-4e76-984e-9b459d90ab49",
      "name": "text to HTML1",
      "type": "n8n-nodes-base.code",
      "position": [
        336,
        3072
      ],
      "parameters": {
        "jsCode": "const input = $input.first().json.output;\n\n// 1. Convert technical specs to HTML table rows (filtering nulls)\nconst tableRows = Object.entries(input.technical_specs || {})\n  .filter(([_, value]) => value !== null && value !== \"\")\n  .map(\n    ([key, value]) =>\n      \"<tr>\" +\n      \"<td><strong>\" +\n      key.replace(/_/g, \" \") +\n      \"</strong></td>\" +\n      \"<td>\" +\n      value +\n      \"</td>\" +\n      \"</tr>\"\n  )\n  .join(\"\");\n\n// 2. Format description with <br><br> after sentences (no newlines)\nconst formattedDescription = input.description\n  .replace(/\\.\\s+/g, \".<br><br>\")\n  .trim();\n\n// 3. Build Shopify-safe HTML (single-line output)\nconst html_content =\n  \"<h2>\" +\n  input.product_name +\n  \"</h2>\" +\n  \"<p>\" +\n  formattedDescription +\n  \"</p>\" +\n  \"<p><strong>Ideal For:</strong> \" +\n  input.ideal_for +\n  \"</p>\" +\n  \"<h3>Product Specifications</h3>\" +\n  \"<table border='1' cellpadding='8' cellspacing='0' style='border-collapse:collapse;width:100%;'>\" +\n  \"<tbody>\" +\n  tableRows +\n  \"</tbody>\" +\n  \"</table>\";\n\n// 4. Return all original fields + enhanced HTML\nreturn {\n  ...input,\n  html_content: html_content\n};"
      },
      "typeVersion": 2
    },
    {
      "id": "9492c6c3-6021-4ad0-99a9-6ee5a86d191f",
      "name": "Chain item",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        32,
        3072
      ],
      "parameters": {
        "text": "=# Input\nImage Data : {{ $json.image_date }}",
        "options": {
          "systemMessage": "=## Role\nSpecialist Shopify Content Writer for Chain Jewelry.\n\n## Task\nTransform image analysis into a premium JSON block strictly for the Chain collection.\n\n## 1. Chain Categorization & Tagging Rules\nThis agent is dedicated to the Chain menu. All outputs must follow these tagging rules:\n\n- **Primary Tags (Mandatory)**: Jewellery, All Jewellery, Categories_Chain, Chain.\n\n- **Dynamic Style Tags (Add only if applicable)**:\n  - If a small decorative piece is hanging: Add pendants, Categories_Pendants, Chain Pendants.\n  - If it features high-sparkle stones: Add AD Pendants.\n  - If shaped like a letter: Add Alphabet Pendants.\n  - If the design is specifically for men: Add Mens Jewellery.\n\n## 2. Writing & Technical Instructions\n\n- **Product Name**: Sleek, modern name (e.g., \"Classic 18K Gold Plated Link Chain\").\n\n- **Description**: (Max 600 chars). Focus on the link style, durability, and versatility. **STRICT**: Do not mention colors. Use a sophisticated, minimal tone suitable for everyday or formal wear.\n\n- **Ideal For**: One sentence styling advice (e.g., \"A versatile staple designed for daily elegance, perfect for layering or wearing solo.\").\n\n- **Technical Specs**: Extract values from the data. Use null if the detail is not found.\n\n## 3. Output Structure (JSON)\n\n```json\n{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Materials\": null,\n    \"Chain_Style\": null,\n    \"Metal_Quality\": null,\n    \"Setting_Type\": null,\n    \"Length\": null,\n    \"Clasp_Type\": \"Lobster Claw Clasp\",\n    \"Collection\": \"Modern Essentials\",\n    \"Occasion\": \"Daily Wear, Anniversary, Birthday\",\n    \"Weight_Feel\": \"Lightweight\",\n    \"Pendant_Type\": null\n  }\n}\n\n## 4. Technical Mapping Values\n- Chain_Style: Figaro, Snake, Box, Rope, or Link.\n- Metal_Quality: 18K Gold Plated, Silver Tone, or Stainless Steel.\n- Setting_Type: (For pendants) Prong, Bezel, or Pavé.\n- Clasp_Type: Lobster Claw Clasp or S-Hook.\n- Pendant_Type: Alphabet, Solitaire, or Geometric."
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 3
    },
    {
      "id": "56140e94-1a70-43a0-9a6b-8a3aeeb3a7e1",
      "name": "update chain data",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        560,
        3072
      ],
      "parameters": {
        "columns": {
          "value": {
            "tags": "={{ $json.final_tags }}",
            "file_id": "={{ $('Switch').item.json.file_id }}",
            "work_status": "content generated",
            "ai_ideal_for": "={{ $json.ideal_for }}",
            "product_name": "={{ $('Get row(s) in sheet').item.json.vendor_name }} {{ $json.product_name }}",
            "ai_description": "={{ $json.html_content }}",
            "Product Category": "Apparel & Accessories > Jewelry > Necklaces"
          },
          "schema": [
            {
              "id": "file_id",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "file_id",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "file_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "file_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "vendor_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "vendor_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "color_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "color_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "combine_color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "combine_color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku+color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku+color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "variant_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "variant_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_date",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_date",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_url",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "product_name",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "product_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "category",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Product Category",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Product Category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "tags",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "tags",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_description",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_description",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_ideal_for",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_ideal_for",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "work_status",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "work_status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "type": "number",
              "display": true,
              "removed": true,
              "readOnly": true,
              "required": false,
              "displayName": "row_number",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "file_id"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "update",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 495979200,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit#gid=495979200",
          "cachedResultName": "data_preparation"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit?usp=drivesdk",
          "cachedResultName": "Jewel_E_Market"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "credential-id",
          "name": "googleSheetsOAuth2Api Credential"
        }
      },
      "typeVersion": 4.7
    },
    {
      "id": "3bc07a75-8886-4c03-a4e1-84ac6c470195",
      "name": "Gemini2",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        32,
        2288
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "83bfa837-de43-4860-ba53-22ba8777008f",
      "name": "Memory2",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        128,
        2288
      ],
      "parameters": {
        "sessionKey": "={{$now.minute}}",
        "sessionIdType": "customKey"
      },
      "typeVersion": 1.3
    },
    {
      "id": "7e68d187-1432-47ea-bad2-226d09161597",
      "name": "Structured2",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        224,
        2288
      ],
      "parameters": {
        "autoFix": true,
        "schemaType": "manual",
        "inputSchema": "{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Materials\": null,\n    \"Thread_Type\": \"Premium Silk / Cotton Mauli\",\n    \"Gemstone_Type\": null,\n    \"Metal_Quality\": null,\n    \"Center_Piece_Style\": null,\n    \"Collection\": \"Festive Bonds\",\n    \"Occasion\": \"Raksha Bandhan\",\n    \"Weight_Feel\": \"Lightweight & Skin-friendly\",\n    \"Set_Includes\": \"Single Rakhi / Rakhi with Roli Chawal\"\n  }\n}"
      },
      "typeVersion": 1.3
    },
    {
      "id": "a08b114b-e91f-43b4-8414-b76478480084",
      "name": "Gemini 2.5flash2",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        384,
        2288
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "bb642293-737b-48d5-b7eb-b27cbbed63dc",
      "name": "text to HTML2",
      "type": "n8n-nodes-base.code",
      "position": [
        352,
        2128
      ],
      "parameters": {
        "jsCode": "const input = $input.first().json.output;\n\n// 1. Convert technical specs to HTML table rows (filtering nulls)\nconst tableRows = Object.entries(input.technical_specs || {})\n  .filter(([_, value]) => value !== null && value !== \"\")\n  .map(\n    ([key, value]) =>\n      \"<tr>\" +\n      \"<td><strong>\" +\n      key.replace(/_/g, \" \") +\n      \"</strong></td>\" +\n      \"<td>\" +\n      value +\n      \"</td>\" +\n      \"</tr>\"\n  )\n  .join(\"\");\n\n// 2. Format description with <br><br> after sentences (no newlines)\nconst formattedDescription = input.description\n  .replace(/\\.\\s+/g, \".<br><br>\")\n  .trim();\n\n// 3. Build Shopify-safe HTML (single-line output)\nconst html_content =\n  \"<h2>\" +\n  input.product_name +\n  \"</h2>\" +\n  \"<p>\" +\n  formattedDescription +\n  \"</p>\" +\n  \"<p><strong>Ideal For:</strong> \" +\n  input.ideal_for +\n  \"</p>\" +\n  \"<h3>Product Specifications</h3>\" +\n  \"<table border='1' cellpadding='8' cellspacing='0' style='border-collapse:collapse;width:100%;'>\" +\n  \"<tbody>\" +\n  tableRows +\n  \"</tbody>\" +\n  \"</table>\";\n\n// 4. Return all original fields + enhanced HTML\nreturn {\n  ...input,\n  html_content: html_content\n};"
      },
      "typeVersion": 2
    },
    {
      "id": "b7e8092e-6b7b-4b55-a319-5a93ae5deb2c",
      "name": "Gemini3",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        48,
        2608
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "f70c48d8-78bf-4f58-a76b-5f51b026bd09",
      "name": "Memory3",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        144,
        2608
      ],
      "parameters": {
        "sessionKey": "={{$now.minute}}",
        "sessionIdType": "customKey"
      },
      "typeVersion": 1.3
    },
    {
      "id": "fb8ce5ee-7cb3-406f-a273-b95bddcdc042",
      "name": "Structured3",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        240,
        2608
      ],
      "parameters": {
        "autoFix": true,
        "schemaType": "manual",
        "inputSchema": "{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Materials\": null,\n    \"Gemstone_Type\": null,\n    \"Metal_Quality\": null,\n    \"Setting_Type\": null,\n    \"Pin_Type\": \"Safety Pin / Revolving Catch\",\n    \"Collection\": \"Traditional Heritage\",\n    \"Occasion\": \"Wedding, Formal, Festive\",\n    \"Weight_Feel\": \"Lightweight\",\n    \"Motif\": null\n  }\n}"
      },
      "typeVersion": 1.3
    },
    {
      "id": "9287bf85-3257-47ce-8090-bd0479429e24",
      "name": "Gemini 2.5flash3",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        400,
        2608
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "b75d4846-705a-4bab-880b-cfe858d110ca",
      "name": "text to HTML3",
      "type": "n8n-nodes-base.code",
      "position": [
        352,
        2448
      ],
      "parameters": {
        "jsCode": "const input = $input.first().json.output;\n\n// 1. Convert technical specs to HTML table rows (filtering nulls)\nconst tableRows = Object.entries(input.technical_specs || {})\n  .filter(([_, value]) => value !== null && value !== \"\")\n  .map(\n    ([key, value]) =>\n      \"<tr>\" +\n      \"<td><strong>\" +\n      key.replace(/_/g, \" \") +\n      \"</strong></td>\" +\n      \"<td>\" +\n      value +\n      \"</td>\" +\n      \"</tr>\"\n  )\n  .join(\"\");\n\n// 2. Format description with <br><br> after sentences (no newlines)\nconst formattedDescription = input.description\n  .replace(/\\.\\s+/g, \".<br><br>\")\n  .trim();\n\n// 3. Build Shopify-safe HTML (single-line output)\nconst html_content =\n  \"<h2>\" +\n  input.product_name +\n  \"</h2>\" +\n  \"<p>\" +\n  formattedDescription +\n  \"</p>\" +\n  \"<p><strong>Ideal For:</strong> \" +\n  input.ideal_for +\n  \"</p>\" +\n  \"<h3>Product Specifications</h3>\" +\n  \"<table border='1' cellpadding='8' cellspacing='0' style='border-collapse:collapse;width:100%;'>\" +\n  \"<tbody>\" +\n  tableRows +\n  \"</tbody>\" +\n  \"</table>\";\n\n// 4. Return all original fields + enhanced HTML\nreturn {\n  ...input,\n  html_content: html_content\n};"
      },
      "typeVersion": 2
    },
    {
      "id": "fe10ebe1-131c-42c3-921b-45ff7f1d0de9",
      "name": "Rakhi item",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        48,
        2128
      ],
      "parameters": {
        "text": "=# Input\nImage Data : {{ $json.image_date }}",
        "options": {
          "systemMessage": "=# Dedicated Rakhi Content Agent\n\n**Role:** Specialist Shopify Content Writer for Rakhi & Festive Threads.\n**Task:** Transform image analysis into a premium JSON block strictly for the Rakhi collection.\n\n---\n\n### 1. Rakhi Categorization & Tagging Rules\nThis agent is dedicated to the **Rakhi** category. All outputs must follow these tagging rules:\n\n* **Primary Tags (Mandatory):** `Jewellery`, `All Jewellery`, `Rakhi`, `Categories_Rakhi`.\n* **Dynamic Style Tags (Add only if applicable):**\n    * If it includes a lumba (for sister-in-law): Add `Lumba Rakhi`, `Rakhi Sets`.\n    * If made with silver/gold plating: Add `Silver Rakhi` or `Gold Plated Rakhi`.\n    * If featuring a deity (Ganesha, Om, Krishna): Add `Spiritual`, `Devotional Rakhi`.\n    * If designed for kids (cartoons, toys): Add `Kids Rakhi`.\n    * If it features high-sparkle stones: Add `AD Rakhi`.\n\n---\n\n### 2. Writing & Technical Instructions\n* **Product Name:** Heartwarming, premium name (e.g., \"Divine Ganesha Gold-Plated Rakhi\").\n* **Description:** (Max 600 chars). Focus on the bond of protection, the quality of the thread (Mauli/Silk), and the central motif. **STRICT: Do not mention colors.** Use an emotional, celebratory tone.\n* **Ideal For:** One sentence styling advice (e.g., \"A perfect symbol of love for your brother, designed to be worn comfortably throughout the festive celebrations.\").\n* **Technical Specs:** Extract values from the data. Use `null` if the detail is not found.\n\n---\n\n### 3. Output Structure (JSON)\n\n{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Materials\": null,\n    \"Thread_Type\": \"Premium Silk / Cotton Mauli\",\n    \"Gemstone_Type\": null,\n    \"Metal_Quality\": null,\n    \"Center_Piece_Style\": null,\n    \"Collection\": \"Festive Bonds\",\n    \"Occasion\": \"Raksha Bandhan\",\n    \"Weight_Feel\": \"Lightweight & Skin-friendly\",\n    \"Set_Includes\": \"Single Rakhi / Rakhi with Roli Chawal\"\n  }\n}\n\n---\n\n### 4. Technical Mapping Values\n- **Thread_Type:** Silk Thread, Cotton Mauli, Braided Cord, or Beaded String.\n- **Metal_Quality:** 18K Gold Plated, Silver Finish, or Antique Brass.\n- **Center_Piece_Style:** Floral, Spiritual, Meenakari, or Geometric.\n- **Gemstone_Type:** Kundan, AD/CZ, Rudraksha, or Pearls.\n- **Set_Includes:** Specify if it is a single piece or a pair (Bhai-Bhabhi set)."
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 3
    },
    {
      "id": "5767c8e0-1c40-4a1e-9e2b-960210ae50ba",
      "name": "update Rakhi data",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        576,
        2128
      ],
      "parameters": {
        "columns": {
          "value": {
            "tags": "={{ $json.final_tags }}",
            "file_id": "={{ $('Switch').item.json.file_id }}",
            "work_status": "content generated",
            "ai_ideal_for": "={{ $json.ideal_for }}",
            "product_name": "={{ $('Get row(s) in sheet').item.json.vendor_name }} {{ $json.product_name }}",
            "ai_description": "={{ $json.html_content }}",
            "Product Category": "Apparel & Accessories > Jewelry > Bracelets"
          },
          "schema": [
            {
              "id": "file_id",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "file_id",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "file_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "file_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "vendor_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "vendor_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "color_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "color_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "combine_color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "combine_color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku+color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku+color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "variant_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "variant_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_date",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_date",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_url",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "product_name",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "product_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "category",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Product Category",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Product Category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "tags",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "tags",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_description",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_description",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_ideal_for",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_ideal_for",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "work_status",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "work_status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "type": "number",
              "display": true,
              "removed": true,
              "readOnly": true,
              "required": false,
              "displayName": "row_number",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "file_id"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "update",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 495979200,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit#gid=495979200",
          "cachedResultName": "data_preparation"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit?usp=drivesdk",
          "cachedResultName": "Jewel_E_Market"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "credential-id",
          "name": "googleSheetsOAuth2Api Credential"
        }
      },
      "typeVersion": 4.7
    },
    {
      "id": "a804e5e9-6ad8-40c7-8db6-4d73fe9ba50c",
      "name": "Gemini5",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        32,
        1984
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "d61ebd2c-2577-4b48-96cb-ee8bac60eb43",
      "name": "Memory5",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        128,
        1984
      ],
      "parameters": {
        "sessionKey": "={{$now.minute}}",
        "sessionIdType": "customKey"
      },
      "typeVersion": 1.3
    },
    {
      "id": "2462c8f6-9b84-42ca-a559-7a648b901e1c",
      "name": "Structured5",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        224,
        1984
      ],
      "parameters": {
        "autoFix": true,
        "schemaType": "manual",
        "inputSchema": "{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Material\": \"Skin-friendly Velvet / Felt\",\n    \"Shape\": null,\n    \"Gemstone_Type\": null,\n    \"Size\": null,\n    \"Adhesive_Type\": \"Self-Adhesive / Skin-safe Glue\",\n    \"Collection\": \"Traditional Essentials\",\n    \"Occasion\": \"Festive, Wedding, Daily Wear\",\n    \"Weight_Feel\": \"Ultra-lightweight\",\n    \"Pack_Includes\": \"Single Bindi / Multi-pack\"\n  }\n}"
      },
      "typeVersion": 1.3
    },
    {
      "id": "05c8d52b-6850-40e7-aac8-a303d6bf8eaf",
      "name": "Gemini 2.5flash5",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        384,
        1984
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "016ed290-c119-48f6-8a82-dee0bf895b01",
      "name": "text to HTML5",
      "type": "n8n-nodes-base.code",
      "position": [
        352,
        1824
      ],
      "parameters": {
        "jsCode": "const input = $input.first().json.output;\n\n// 1. Convert technical specs to HTML table rows (filtering nulls)\nconst tableRows = Object.entries(input.technical_specs || {})\n  .filter(([_, value]) => value !== null && value !== \"\")\n  .map(\n    ([key, value]) =>\n      \"<tr>\" +\n      \"<td><strong>\" +\n      key.replace(/_/g, \" \") +\n      \"</strong></td>\" +\n      \"<td>\" +\n      value +\n      \"</td>\" +\n      \"</tr>\"\n  )\n  .join(\"\");\n\n// 2. Format description with <br><br> after sentences (no newlines)\nconst formattedDescription = input.description\n  .replace(/\\.\\s+/g, \".<br><br>\")\n  .trim();\n\n// 3. Build Shopify-safe HTML (single-line output)\nconst html_content =\n  \"<h2>\" +\n  input.product_name +\n  \"</h2>\" +\n  \"<p>\" +\n  formattedDescription +\n  \"</p>\" +\n  \"<p><strong>Ideal For:</strong> \" +\n  input.ideal_for +\n  \"</p>\" +\n  \"<h3>Product Specifications</h3>\" +\n  \"<table border='1' cellpadding='8' cellspacing='0' style='border-collapse:collapse;width:100%;'>\" +\n  \"<tbody>\" +\n  tableRows +\n  \"</tbody>\" +\n  \"</table>\";\n\n// 4. Return all original fields + enhanced HTML\nreturn {\n  ...input,\n  html_content: html_content\n};"
      },
      "typeVersion": 2
    },
    {
      "id": "ab8d24e8-78ba-4826-8458-f93c8c03ed69",
      "name": "Gemini6",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        -736,
        3552
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "802123ac-f732-47ee-bf7b-f44e1e048fb1",
      "name": "Memory6",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        -640,
        3552
      ],
      "parameters": {
        "sessionKey": "={{$now.minute}}",
        "sessionIdType": "customKey"
      },
      "typeVersion": 1.3
    },
    {
      "id": "588116cb-466a-43c1-91cb-ea9640889dcc",
      "name": "Structured6",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        -544,
        3552
      ],
      "parameters": {
        "autoFix": true,
        "schemaType": "manual",
        "inputSchema": "{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Material\": \"\",\n    \"Accessory_Type\": \"\",\n    \"Metal_Quality\": \"\",\n    \"Gemstone_Type\": \"\",\n    \"Dimensions\": \"\",\n    \"Collection\": \"Essential Accents\",\n    \"Occasion\": \"Daily Use, Festive, Travel\",\n    \"Weight_Feel\": \"Lightweight\",\n    \"Feature\": \"\"\n  }\n}"
      },
      "typeVersion": 1.3
    },
    {
      "id": "8068f80c-d32f-402c-a3a8-40e41f7f2568",
      "name": "Gemini 2.5flash6",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        -384,
        3552
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "5e577ba3-a4e4-4997-b24b-d6aaab0b5219",
      "name": "text to HTML6",
      "type": "n8n-nodes-base.code",
      "position": [
        -400,
        3392
      ],
      "parameters": {
        "jsCode": "const input = $input.first().json.output;\n\n// 1. Convert technical specs to HTML table rows (filtering nulls)\nconst tableRows = Object.entries(input.technical_specs || {})\n  .filter(([_, value]) => value !== null && value !== \"\")\n  .map(\n    ([key, value]) =>\n      \"<tr>\" +\n      \"<td><strong>\" +\n      key.replace(/_/g, \" \") +\n      \"</strong></td>\" +\n      \"<td>\" +\n      value +\n      \"</td>\" +\n      \"</tr>\"\n  )\n  .join(\"\");\n\n// 2. Format description with <br><br> after sentences (no newlines)\nconst formattedDescription = input.description\n  .replace(/\\.\\s+/g, \".<br><br>\")\n  .trim();\n\n// 3. Build Shopify-safe HTML (single-line output)\nconst html_content =\n  \"<h2>\" +\n  input.product_name +\n  \"</h2>\" +\n  \"<p>\" +\n  formattedDescription +\n  \"</p>\" +\n  \"<p><strong>Ideal For:</strong> \" +\n  input.ideal_for +\n  \"</p>\" +\n  \"<h3>Product Specifications</h3>\" +\n  \"<table border='1' cellpadding='8' cellspacing='0' style='border-collapse:collapse;width:100%;'>\" +\n  \"<tbody>\" +\n  tableRows +\n  \"</tbody>\" +\n  \"</table>\";\n\n// 4. Return all original fields + enhanced HTML\nreturn {\n  ...input,\n  html_content: html_content\n};"
      },
      "typeVersion": 2
    },
    {
      "id": "6580530f-5572-4f43-aeaf-8f21651427b4",
      "name": "Gemini7",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        32,
        1664
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "572ce275-6abf-4660-bfa1-821d6e476d75",
      "name": "Memory7",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        128,
        1664
      ],
      "parameters": {
        "sessionKey": "={{$now.minute}}",
        "sessionIdType": "customKey"
      },
      "typeVersion": 1.3
    },
    {
      "id": "995b1679-eac6-49fd-9100-339a9bdd3d55",
      "name": "Structured7",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        224,
        1664
      ],
      "parameters": {
        "autoFix": true,
        "schemaType": "manual",
        "inputSchema": "{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Materials\": \"\",\n    \"Gemstone_Type\": \"\",\n    \"Metal_Quality\": \"\",\n    \"Setting_Type\": \"\",\n    \"Chain_Included\": \"\",\n    \"Collection\": \"Modern Essentials\",\n    \"Occasion\": \"\",\n    \"Weight_Feel\": \"Lightweight\",\n    \"Pendant_Style\": \"\"\n  }\n}"
      },
      "typeVersion": 1.3
    },
    {
      "id": "7765497c-d59a-4de0-b904-8aa4adcbdb08",
      "name": "Gemini 2.5flash7",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        384,
        1664
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "8a0e8d15-06a2-49e3-a4d9-ec27c52b3a96",
      "name": "text to HTML7",
      "type": "n8n-nodes-base.code",
      "position": [
        352,
        1504
      ],
      "parameters": {
        "jsCode": "const input = $input.first().json.output;\n\n// 1. Convert technical specs to HTML table rows (filtering nulls)\nconst tableRows = Object.entries(input.technical_specs || {})\n  .filter(([_, value]) => value !== null && value !== \"\")\n  .map(\n    ([key, value]) =>\n      \"<tr>\" +\n      \"<td><strong>\" +\n      key.replace(/_/g, \" \") +\n      \"</strong></td>\" +\n      \"<td>\" +\n      value +\n      \"</td>\" +\n      \"</tr>\"\n  )\n  .join(\"\");\n\n// 2. Format description with <br><br> after sentences (no newlines)\nconst formattedDescription = input.description\n  .replace(/\\.\\s+/g, \".<br><br>\")\n  .trim();\n\n// 3. Build Shopify-safe HTML (single-line output)\nconst html_content =\n  \"<h2>\" +\n  input.product_name +\n  \"</h2>\" +\n  \"<p>\" +\n  formattedDescription +\n  \"</p>\" +\n  \"<p><strong>Ideal For:</strong> \" +\n  input.ideal_for +\n  \"</p>\" +\n  \"<h3>Product Specifications</h3>\" +\n  \"<table border='1' cellpadding='8' cellspacing='0' style='border-collapse:collapse;width:100%;'>\" +\n  \"<tbody>\" +\n  tableRows +\n  \"</tbody>\" +\n  \"</table>\";\n\n// 4. Return all original fields + enhanced HTML\nreturn {\n  ...input,\n  html_content: html_content\n};"
      },
      "typeVersion": 2
    },
    {
      "id": "5f2bf6f8-af83-49b3-9e05-3620d6700e37",
      "name": "Bindi item",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        48,
        1824
      ],
      "parameters": {
        "text": "=# Input\nImage Data : {{ $json.image_date }}",
        "options": {
          "systemMessage": "=# Dedicated Bindi Content Agent\n\n**Role:** Specialist Shopify Content Writer for Bindi & Face Artistry.\n**Task:** Transform image analysis into a premium JSON block strictly for the Bindi collection.\n\n---\n\n### 1. Bindi Categorization & Tagging Rules\nThis agent is dedicated to the **Bindi** category. All outputs must follow these tagging rules:\n\n* **Primary Tags (Mandatory):** `Jewellery`, `All Jewellery`, `Bindi`, `Categories_Bindi`.\n* **Dynamic Style Tags (Add only if applicable):**\n    * If the shape is a simple circle: Add `Round Bindi`.\n    * If the shape is elongated/vertical: Add `Long Bindi`.\n    * If it features stones or crystals: Add `Stone Bindi`, `Fancy Bindi`.\n    * If it has a velvet/flocked texture: Add `Velvet Bindi`.\n    * If designed for a bride (heavy/ornate): Add `Bridal Bindi`.\n    * If small and minimal: Add `Micro Bindi`.\n\n---\n\n### 2. Writing & Technical Instructions\n* **Product Name:** Elegant name (e.g., \"Classic Velvet Round Bindi Pack\" or \"Royal Stone Bridal Bindi\").\n* **Description:** (Max 600 chars). Focus on the precision of the shape, the quality of the adhesive, and the skin-friendly material. **STRICT: Do not mention colors.** Use a tone that emphasizes tradition, grace, and completion of the ethnic look.\n* **Ideal For:** One sentence styling advice (e.g., \"A versatile accessory designed to add a graceful finishing touch to your ethnic ensemble, perfect for festive occasions or daily wear.\").\n* **Technical Specs:** Extract values from the data. Use `null` if the detail is not found.\n\n---\n\n### 3. Output Structure (JSON)\n\n{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Material\": \"Skin-friendly Velvet / Felt\",\n    \"Shape\": null,\n    \"Gemstone_Type\": null,\n    \"Size\": null,\n    \"Adhesive_Type\": \"Self-Adhesive / Skin-safe Glue\",\n    \"Collection\": \"Traditional Essentials\",\n    \"Occasion\": \"Festive, Wedding, Daily Wear\",\n    \"Weight_Feel\": \"Ultra-lightweight\",\n    \"Pack_Includes\": \"Single Bindi / Multi-pack\"\n  }\n}\n\n---\n\n### 4. Technical Mapping Values\n- **Shape:** Round, Long, Tilak, teardrop, or Crescent.\n- **Gemstone_Type:** Crystal, Pearl, Gold-bead, or Plain.\n- **Size:** Micro, Small, Medium, or Large.\n- **Pack_Includes:** Mention the number of bindis in the packet if visible."
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 3
    },
    {
      "id": "a87ec043-fb56-4348-921c-b87c0b617b37",
      "name": "update Bindi data",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        576,
        1824
      ],
      "parameters": {
        "columns": {
          "value": {
            "tags": "={{ $json.final_tags }}",
            "file_id": "={{ $('Switch').item.json.file_id }}",
            "work_status": "content generated",
            "ai_ideal_for": "={{ $json.ideal_for }}",
            "product_name": "={{ $('Get row(s) in sheet').item.json.vendor_name }} {{ $json.product_name }}",
            "ai_description": "={{ $json.html_content }}",
            "Product Category": "Apparel & Accessories > Jewelry > Body Jewelry"
          },
          "schema": [
            {
              "id": "file_id",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "file_id",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "file_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "file_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "vendor_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "vendor_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "color_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "color_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "combine_color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "combine_color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku+color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku+color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "variant_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "variant_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_date",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_date",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_url",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "product_name",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "product_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "category",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Product Category",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Product Category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "tags",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "tags",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_description",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_description",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_ideal_for",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_ideal_for",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "work_status",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "work_status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "type": "number",
              "display": true,
              "removed": true,
              "readOnly": true,
              "required": false,
              "displayName": "row_number",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "file_id"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "update",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 495979200,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit#gid=495979200",
          "cachedResultName": "data_preparation"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit?usp=drivesdk",
          "cachedResultName": "Jewel_E_Market"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "credential-id",
          "name": "googleSheetsOAuth2Api Credential"
        }
      },
      "typeVersion": 4.7
    },
    {
      "id": "5deac968-d842-457d-b6c1-4fe0be264cdc",
      "name": "update Pandents data",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        576,
        1504
      ],
      "parameters": {
        "columns": {
          "value": {
            "tags": "={{ $json.final_tags }}",
            "file_id": "={{ $('Switch').item.json.file_id }}",
            "work_status": "content generated",
            "ai_ideal_for": "={{ $json.ideal_for }}",
            "product_name": "={{ $('Get row(s) in sheet').item.json.vendor_name }} {{ $json.product_name }}",
            "ai_description": "={{ $json.html_content }}",
            "Product Category": "Apparel & Accessories > Jewelry"
          },
          "schema": [
            {
              "id": "file_id",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "file_id",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "file_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "file_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "vendor_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "vendor_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "color_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "color_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "combine_color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "combine_color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku+color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku+color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "variant_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "variant_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_date",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_date",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_url",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "product_name",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "product_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "category",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Product Category",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Product Category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "tags",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "tags",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_description",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_description",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_ideal_for",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_ideal_for",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "work_status",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "work_status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "type": "number",
              "display": true,
              "removed": true,
              "readOnly": true,
              "required": false,
              "displayName": "row_number",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "file_id"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "update",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 495979200,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit#gid=495979200",
          "cachedResultName": "data_preparation"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit?usp=drivesdk",
          "cachedResultName": "Jewel_E_Market"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "credential-id",
          "name": "googleSheetsOAuth2Api Credential"
        }
      },
      "typeVersion": 4.7
    },
    {
      "id": "42960a8a-4d3b-4621-ae11-6887cfe83576",
      "name": "Pandents item",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        48,
        1504
      ],
      "parameters": {
        "text": "=# Input\nImage Data : {{ $json.image_date }}",
        "options": {
          "systemMessage": "=# Dedicated Pendants Content Agent\n\n**Role:** Specialist Shopify Content Writer for Pendants & Pendant Sets.\n**Task:** Transform image analysis into a premium JSON block strictly for the Pendants collection.\n\n---\n\n### 1. Pendants Categorization & Tagging Rules\nThis agent is dedicated to the **All Pendant** menu. All outputs must follow these tagging rules:\n\n* **Primary Tags (Mandatory):** `Jewellery`, `All Jewellery`, `pendants`, `Categories_Pendants`.\n* **Sub-Menu & Dynamic Tagging Logic:**\n    * **IF Pendants with Sparkle Stones:** Add Tag: `AD Pendants`.\n    * **IF Shaped like a Letter:** Add Tag: `Alphabet Pendants`.\n    * **IF Single Pendant on a Simple Chain:** Add Tag: `Chain Pendants`.\n    * **IF Set includes Matching Earrings:** Add Tag: `Pendant Sets`.\n    * **IF Item is a Standalone Chain (No Pendant): Add Tag:** `Chain`.\n\n---\n\n### 2. Writing & Technical Instructions\n* **Product Name:** Premium name (e.g., \"Gleaming AD Solitaire Pendant Set\").\n* **Description:** (Max 600 chars). Focus on the focal point, stone brilliance, and silhouette. **STRICT: Do not mention colors.** Use a refined, sophisticated tone.\n* **Ideal For:** One sentence styling advice (e.g., \"A sophisticated piece designed for versatility, perfect for adding a touch of brilliance to your daily wear.\").\n* **Technical Specs:** Extract values from the data. Remove/omit any field that is `null`.\n\n---\n\n### 3. Output Structure (JSON)\n\n{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Materials\": \"\",\n    \"Gemstone_Type\": \"\",\n    \"Metal_Quality\": \"\",\n    \"Setting_Type\": \"\",\n    \"Chain_Included\": \"\",\n    \"Collection\": \"Modern Essentials\",\n    \"Occasion\": \"\",\n    \"Weight_Feel\": \"Lightweight\",\n    \"Pendant_Style\": \"\"\n  }\n}\n\n---\n\n### 4. Technical Mapping Values\n- **Gemstone_Type:** AD/CZ, Pearl, Kundan, or Solitaire.\n- **Metal_Quality:** 18K Gold Plated, Silver Tone, or Rose Gold Finish.\n- **Setting_Type:** Prong, Bezel, or Pavé.\n- **Pendant_Style:** Alphabet, Floral, Geometric, or Heart.\n- **Chain_Included:** Yes / No."
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 3
    },
    {
      "id": "00f4dc7f-4bd5-4c91-83e7-3ae1c818b3a4",
      "name": "Jewellery Accessories item",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        -704,
        3392
      ],
      "parameters": {
        "text": "=# Input\nImage Data : {{ $json.image_date }}",
        "options": {
          "systemMessage": "=# Dedicated Jewelry Accessories Content Agent\n\n**Role:** Specialist Shopify Content Writer for Jewelry Care & Accessories.\n**Task:** Transform product data into a premium JSON block strictly for the Jewelry Accessories collection.\n\n---\n\n### 1. Accessories Categorization & Tagging Rules\nThis agent is dedicated to the **Jewelry Accessories** menu. All outputs must follow these tagging rules:\n\n* **Primary Tags (Mandatory):** `Jewellery`, `All Jewellery`, `Accessories`, `Categories_Accessories`.\n* **Dynamic Style Tags (Add only if applicable):**\n    * IF for hair (Pins, Clips, Bun covers): Add `Hair Accessories`.\n    * IF for jewelry maintenance: Add `Jewellery Care`.\n    * IF for storage (Organizers, Boxes): Add `Jewellery Storage`.\n    * IF it features high-sparkle stones: Add `Stone Accessories`.\n\n---\n\n### 2. Writing & Technical Instructions\n* **Product Name:** Functional yet premium name (e.g., \"Crystal-Encrusted Floral Hair Pin\").\n* **Description:** (Max 600 chars). Focus on utility, durability, and how it complements jewelry pieces. **STRICT: Do not mention colors.** Use a helpful and sophisticated tone.\n* **Ideal For:** One sentence styling or usage advice (e.g., \"An essential accessory designed to keep your jewelry organized or add a refined touch to your hairstyle.\").\n* **Technical Specs:** Extract values from the data. Remove/omit any field that is `null`.\n\n---\n\n### 3. Output Structure (JSON)\n\n{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Material\": \"\",\n    \"Accessory_Type\": \"\",\n    \"Metal_Quality\": \"\",\n    \"Gemstone_Type\": \"\",\n    \"Dimensions\": \"\",\n    \"Collection\": \"Essential Accents\",\n    \"Occasion\": \"Daily Use, Festive, Travel\",\n    \"Weight_Feel\": \"Lightweight\",\n    \"Feature\": \"\"\n  }\n}\n\n---\n\n### 4. Technical Mapping Values\n- **Accessory_Type:** Hair Pin, Jewelry Box, Earring Backs, or Cleaning Cloth.\n- **Metal_Quality:** 18K Gold Plated, Silver Tone, or Stainless Steel.\n- **Gemstone_Type:** Crystal, Pearl, or Plain.\n- **Feature:** e.g., \"Anti-tarnish lining,\" \"Secure grip,\" or \"Travel-friendly.\""
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 3
    },
    {
      "id": "b307608e-002d-461a-9f00-11b54b3b4bfb",
      "name": "update Jewellery Accessories data",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -176,
        3392
      ],
      "parameters": {
        "columns": {
          "value": {
            "tags": "={{ $json.final_tags }}",
            "file_id": "={{ $('Switch').item.json.file_id }}",
            "work_status": "content generated",
            "ai_ideal_for": "={{ $json.ideal_for }}",
            "product_name": "={{ $('Get row(s) in sheet').item.json.vendor_name }} {{ $json.product_name }}",
            "ai_description": "={{ $json.html_content }}",
            "Product Category": "Apparel & Accessories > Jewelry"
          },
          "schema": [
            {
              "id": "file_id",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "file_id",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "file_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "file_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "vendor_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "vendor_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "color_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "color_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "combine_color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "combine_color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku+color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku+color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "variant_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "variant_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_date",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_date",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_url",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "product_name",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "product_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "category",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Product Category",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Product Category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "tags",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "tags",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_description",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_description",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_ideal_for",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_ideal_for",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "work_status",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "work_status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "type": "number",
              "display": true,
              "removed": true,
              "readOnly": true,
              "required": false,
              "displayName": "row_number",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "file_id"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "update",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 495979200,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit#gid=495979200",
          "cachedResultName": "data_preparation"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit?usp=drivesdk",
          "cachedResultName": "Jewel_E_Market"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "credential-id",
          "name": "googleSheetsOAuth2Api Credential"
        }
      },
      "typeVersion": 4.7
    },
    {
      "id": "984174d9-8315-4530-929d-7a4ad768adb7",
      "name": "Gemini8",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        -720,
        3232
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "cf012034-b662-49e4-b4f7-ca488d5bc97b",
      "name": "Memory8",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        -624,
        3232
      ],
      "parameters": {
        "sessionKey": "={{$now.minute}}",
        "sessionIdType": "customKey"
      },
      "typeVersion": 1.3
    },
    {
      "id": "95e03b7a-ced1-4a9d-a06d-31bf9da8182c",
      "name": "Structured8",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        -528,
        3232
      ],
      "parameters": {
        "autoFix": true,
        "schemaType": "manual",
        "inputSchema": "{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Materials\": \"\",\n    \"Accessory_Type\": \"\",\n    \"Gemstone_Type\": \"\",\n    \"Metal_Quality\": \"\",\n    \"Setting_Type\": \"\",\n    \"Collection\": \"Traditional Heritage\",\n    \"Occasion\": \"Wedding, Festive, Party wear\",\n    \"Weight_Feel\": \"Lightweight\",\n    \"Grip_Type\": \"\"\n  }\n}"
      },
      "typeVersion": 1.3
    },
    {
      "id": "b6ecd023-165a-4dc9-8bac-47697d1430f9",
      "name": "Gemini 2.5flash8",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        -368,
        3232
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "8dd5ef73-16b0-4189-9a63-647a50387808",
      "name": "text to HTML8",
      "type": "n8n-nodes-base.code",
      "position": [
        -384,
        3072
      ],
      "parameters": {
        "jsCode": "const input = $input.first().json.output;\n\n// 1. Convert technical specs to HTML table rows (filtering nulls)\nconst tableRows = Object.entries(input.technical_specs || {})\n  .filter(([_, value]) => value !== null && value !== \"\")\n  .map(\n    ([key, value]) =>\n      \"<tr>\" +\n      \"<td><strong>\" +\n      key.replace(/_/g, \" \") +\n      \"</strong></td>\" +\n      \"<td>\" +\n      value +\n      \"</td>\" +\n      \"</tr>\"\n  )\n  .join(\"\");\n\n// 2. Format description with <br><br> after sentences (no newlines)\nconst formattedDescription = input.description\n  .replace(/\\.\\s+/g, \".<br><br>\")\n  .trim();\n\n// 3. Build Shopify-safe HTML (single-line output)\nconst html_content =\n  \"<h2>\" +\n  input.product_name +\n  \"</h2>\" +\n  \"<p>\" +\n  formattedDescription +\n  \"</p>\" +\n  \"<p><strong>Ideal For:</strong> \" +\n  input.ideal_for +\n  \"</p>\" +\n  \"<h3>Product Specifications</h3>\" +\n  \"<table border='1' cellpadding='8' cellspacing='0' style='border-collapse:collapse;width:100%;'>\" +\n  \"<tbody>\" +\n  tableRows +\n  \"</tbody>\" +\n  \"</table>\";\n\n// 4. Return all original fields + enhanced HTML\nreturn {\n  ...input,\n  html_content: html_content\n};"
      },
      "typeVersion": 2
    },
    {
      "id": "f8931b9a-93b1-4b8a-80f8-ba906f1d472f",
      "name": "Gemini9",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        -720,
        2608
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "488f56ca-e05c-4981-b24f-b433387832b8",
      "name": "Memory9",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        -624,
        2608
      ],
      "parameters": {
        "sessionKey": "={{$now.minute}}",
        "sessionIdType": "customKey"
      },
      "typeVersion": 1.3
    },
    {
      "id": "63f0a915-92e2-416e-b048-c2b2f0c0442a",
      "name": "Structured9",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        -528,
        2608
      ],
      "parameters": {
        "autoFix": true,
        "schemaType": "manual",
        "inputSchema": "{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Materials\": \"\",\n    \"Ring_Type\": \"\",\n    \"Gemstone_Type\": \"\",\n    \"Metal_Quality\": \"\",\n    \"Setting_Type\": \"\",\n    \"Size\": \"Adjustable / Fixed\",\n    \"Collection\": \"Rings\",\n    \"Occasion\": \"Wedding, Party wear, Anniversary\",\n    \"Weight_Feel\": \"Lightweight\",\n    \"Style\": \"\"\n  }\n}"
      },
      "typeVersion": 1.3
    },
    {
      "id": "aca95a33-8bb7-45a3-ba36-1aa3b4d1cf9b",
      "name": "Gemini 2.5flash9",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        -368,
        2608
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "f38eae66-80ad-441c-84e6-2f91870a419d",
      "name": "text to HTML10",
      "type": "n8n-nodes-base.code",
      "position": [
        -368,
        2448
      ],
      "parameters": {
        "jsCode": "const input = $input.first().json.output;\n\n// 1. Convert technical specs to HTML table rows (filtering nulls)\nconst tableRows = Object.entries(input.technical_specs || {})\n  .filter(([_, value]) => value !== null && value !== \"\")\n  .map(\n    ([key, value]) =>\n      \"<tr>\" +\n      \"<td><strong>\" +\n      key.replace(/_/g, \" \") +\n      \"</strong></td>\" +\n      \"<td>\" +\n      value +\n      \"</td>\" +\n      \"</tr>\"\n  )\n  .join(\"\");\n\n// 2. Format description with <br><br> after sentences (no newlines)\nconst formattedDescription = input.description\n  .replace(/\\.\\s+/g, \".<br><br>\")\n  .trim();\n\n// 3. Build Shopify-safe HTML (single-line output)\nconst html_content =\n  \"<h2>\" +\n  input.product_name +\n  \"</h2>\" +\n  \"<p>\" +\n  formattedDescription +\n  \"</p>\" +\n  \"<p><strong>Ideal For:</strong> \" +\n  input.ideal_for +\n  \"</p>\" +\n  \"<h3>Product Specifications</h3>\" +\n  \"<table border='1' cellpadding='8' cellspacing='0' style='border-collapse:collapse;width:100%;'>\" +\n  \"<tbody>\" +\n  tableRows +\n  \"</tbody>\" +\n  \"</table>\";\n\n// 4. Return all original fields + enhanced HTML\nreturn {\n  ...input,\n  html_content: html_content\n};"
      },
      "typeVersion": 2
    },
    {
      "id": "cc0810f4-3008-405b-8683-bfdea5afd79a",
      "name": "Gemini10",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        -720,
        2928
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "c3a2d4be-2a90-4976-b988-858aa4e1322b",
      "name": "Memory10",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        -624,
        2928
      ],
      "parameters": {
        "sessionKey": "={{$now.minute}}",
        "sessionIdType": "customKey"
      },
      "typeVersion": 1.3
    },
    {
      "id": "dd97c09d-cba0-47cc-bed7-7fb59c66a686",
      "name": "Structured10",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        -528,
        2928
      ],
      "parameters": {
        "autoFix": true,
        "schemaType": "manual",
        "inputSchema": "{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Materials\": \"\",\n    \"Set_Components\": \"\",\n    \"Gemstone_Type\": \"\",\n    \"Metal_Quality\": \"\",\n    \"Setting_Type\": \"\",\n    \"Collection\": \"Combo\",\n    \"Occasion\": \"Wedding, Festive, Anniversary\",\n    \"Weight_Feel\": \"Statement Set\",\n    \"Finish\": \"\"\n  }\n}"
      },
      "typeVersion": 1.3
    },
    {
      "id": "4980756f-73b9-41cc-b2cb-9a3760e16221",
      "name": "Gemini 2.5flash10",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        -368,
        2928
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "14a9e351-8345-4874-aa30-f0d7f77e6a17",
      "name": "text to HTML11",
      "type": "n8n-nodes-base.code",
      "position": [
        -384,
        2768
      ],
      "parameters": {
        "jsCode": "const input = $input.first().json.output;\n\n// 1. Convert technical specs to HTML table rows (filtering nulls)\nconst tableRows = Object.entries(input.technical_specs || {})\n  .filter(([_, value]) => value !== null && value !== \"\")\n  .map(\n    ([key, value]) =>\n      \"<tr>\" +\n      \"<td><strong>\" +\n      key.replace(/_/g, \" \") +\n      \"</strong></td>\" +\n      \"<td>\" +\n      value +\n      \"</td>\" +\n      \"</tr>\"\n  )\n  .join(\"\");\n\n// 2. Format description with <br><br> after sentences (no newlines)\nconst formattedDescription = input.description\n  .replace(/\\.\\s+/g, \".<br><br>\")\n  .trim();\n\n// 3. Build Shopify-safe HTML (single-line output)\nconst html_content =\n  \"<h2>\" +\n  input.product_name +\n  \"</h2>\" +\n  \"<p>\" +\n  formattedDescription +\n  \"</p>\" +\n  \"<p><strong>Ideal For:</strong> \" +\n  input.ideal_for +\n  \"</p>\" +\n  \"<h3>Product Specifications</h3>\" +\n  \"<table border='1' cellpadding='8' cellspacing='0' style='border-collapse:collapse;width:100%;'>\" +\n  \"<tbody>\" +\n  tableRows +\n  \"</tbody>\" +\n  \"</table>\";\n\n// 4. Return all original fields + enhanced HTML\nreturn {\n  ...input,\n  html_content: html_content\n};"
      },
      "typeVersion": 2
    },
    {
      "id": "ab4da119-ce9d-4605-a086-9925911b8cbc",
      "name": "Gemini11",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        -720,
        1984
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "28bff374-e21e-4571-ab04-fe2ebeb6a52c",
      "name": "Memory11",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        -624,
        1984
      ],
      "parameters": {
        "sessionKey": "={{$now.minute}}",
        "sessionIdType": "customKey"
      },
      "typeVersion": 1.3
    },
    {
      "id": "972f40ac-c73f-464a-bc71-b096ca095ff7",
      "name": "Structured11",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        -528,
        1984
      ],
      "parameters": {
        "autoFix": true,
        "schemaType": "manual",
        "inputSchema": "{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Materials\": \"\",\n    \"Earring_Style\": \"\",\n    \"Gemstone_Type\": \"\",\n    \"Metal_Quality\": \"\",\n    \"Setting_Type\": \"\",\n    \"Back_Finding\": \"\",\n    \"Collection\": \"All Earrings\",\n    \"Occasion\": \"\",\n    \"Weight_Feel\": \"\",\n    \"Length\": \"\"\n  }\n}"
      },
      "typeVersion": 1.3
    },
    {
      "id": "0c1b7c7e-2eec-4140-b3d8-6a993d0554c6",
      "name": "Gemini 2.5flash11",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        -368,
        1984
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "d983d345-2421-49ba-b3ec-3633bb216aae",
      "name": "text to HTML12",
      "type": "n8n-nodes-base.code",
      "position": [
        -368,
        1824
      ],
      "parameters": {
        "jsCode": "const input = $input.first().json.output;\n\n// 1. Convert technical specs to HTML table rows (filtering nulls)\nconst tableRows = Object.entries(input.technical_specs || {})\n  .filter(([_, value]) => value !== null && value !== \"\")\n  .map(\n    ([key, value]) =>\n      \"<tr>\" +\n      \"<td><strong>\" +\n      key.replace(/_/g, \" \") +\n      \"</strong></td>\" +\n      \"<td>\" +\n      value +\n      \"</td>\" +\n      \"</tr>\"\n  )\n  .join(\"\");\n\n// 2. Format description with <br><br> after sentences (no newlines)\nconst formattedDescription = input.description\n  .replace(/\\.\\s+/g, \".<br><br>\")\n  .trim();\n\n// 3. Build Shopify-safe HTML (single-line output)\nconst html_content =\n  \"<h2>\" +\n  input.product_name +\n  \"</h2>\" +\n  \"<p>\" +\n  formattedDescription +\n  \"</p>\" +\n  \"<p><strong>Ideal For:</strong> \" +\n  input.ideal_for +\n  \"</p>\" +\n  \"<h3>Product Specifications</h3>\" +\n  \"<table border='1' cellpadding='8' cellspacing='0' style='border-collapse:collapse;width:100%;'>\" +\n  \"<tbody>\" +\n  tableRows +\n  \"</tbody>\" +\n  \"</table>\";\n\n// 4. Return all original fields + enhanced HTML\nreturn {\n  ...input,\n  html_content: html_content\n};"
      },
      "typeVersion": 2
    },
    {
      "id": "98e76e4b-64a5-47ae-97f5-36296aee6af4",
      "name": "Gemini12",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        -704,
        2304
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "24c47e48-ab6f-4007-9425-86db6ca1bb05",
      "name": "Memory12",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        -608,
        2304
      ],
      "parameters": {
        "sessionKey": "={{$now.minute}}",
        "sessionIdType": "customKey"
      },
      "typeVersion": 1.3
    },
    {
      "id": "24f64b56-1bff-48c0-a188-dedb36f2791d",
      "name": "Structured12",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        -512,
        2304
      ],
      "parameters": {
        "autoFix": true,
        "schemaType": "manual",
        "inputSchema": "{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Materials\": \"\",\n    \"Bangle_Style\": \"\",\n    \"Gemstone_Type\": \"\",\n    \"Metal_Quality\": \"\",\n    \"Setting_Type\": \"\",\n    \"Size_Range\": \"2.4, 2.6, 2.8, Adjustable\",\n    \"Collection\": \"Bangles\",\n    \"Occasion\": \"\",\n    \"Weight_Feel\": \"\",\n    \"Closure_Type\": \"Screw-Open / Fixed / Clasp\"\n  }\n}"
      },
      "typeVersion": 1.3
    },
    {
      "id": "0ae24fa3-b810-4fcf-be9c-f9f8f8e985be",
      "name": "Gemini 2.5flash12",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        -352,
        2304
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "1e05571a-d256-4ede-9331-9b3f210f604c",
      "name": "text to HTML13",
      "type": "n8n-nodes-base.code",
      "position": [
        -368,
        2144
      ],
      "parameters": {
        "jsCode": "const input = $input.first().json.output;\n\n// 1. Convert technical specs to HTML table rows (filtering nulls)\nconst tableRows = Object.entries(input.technical_specs || {})\n  .filter(([_, value]) => value !== null && value !== \"\")\n  .map(\n    ([key, value]) =>\n      \"<tr>\" +\n      \"<td><strong>\" +\n      key.replace(/_/g, \" \") +\n      \"</strong></td>\" +\n      \"<td>\" +\n      value +\n      \"</td>\" +\n      \"</tr>\"\n  )\n  .join(\"\");\n\n// 2. Format description with <br><br> after sentences (no newlines)\nconst formattedDescription = input.description\n  .replace(/\\.\\s+/g, \".<br><br>\")\n  .trim();\n\n// 3. Build Shopify-safe HTML (single-line output)\nconst html_content =\n  \"<h2>\" +\n  input.product_name +\n  \"</h2>\" +\n  \"<p>\" +\n  formattedDescription +\n  \"</p>\" +\n  \"<p><strong>Ideal For:</strong> \" +\n  input.ideal_for +\n  \"</p>\" +\n  \"<h3>Product Specifications</h3>\" +\n  \"<table border='1' cellpadding='8' cellspacing='0' style='border-collapse:collapse;width:100%;'>\" +\n  \"<tbody>\" +\n  tableRows +\n  \"</tbody>\" +\n  \"</table>\";\n\n// 4. Return all original fields + enhanced HTML\nreturn {\n  ...input,\n  html_content: html_content\n};"
      },
      "typeVersion": 2
    },
    {
      "id": "dae13966-e709-4ef0-88ee-2f7ffc4bea6c",
      "name": "Gemini13",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        -720,
        1664
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "111968ac-6779-4563-a527-aab189c266b4",
      "name": "Memory13",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        -624,
        1664
      ],
      "parameters": {
        "sessionKey": "={{$now.minute}}",
        "sessionIdType": "customKey"
      },
      "typeVersion": 1.3
    },
    {
      "id": "9575aff1-9aa6-4d39-a395-c87a1716a0d0",
      "name": "Structured13",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        -528,
        1664
      ],
      "parameters": {
        "autoFix": true,
        "schemaType": "manual",
        "inputSchema": "{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Materials\": null,\n    \"Gemstone_Type\": null,\n    \"Metal_Quality\": null,\n    \"Setting_Type\": null,\n    \"Earring_Style\": null,\n    \"Back_Finding\": null,\n    \"Collection\": \"Traditional Heritage\",\n    \"Occasion\": \"Wedding & Bridal\",\n    \"Weight_Feel\": \"Heavy Statement\",\n    \"Primary_Stone_Shape\": null\n  }\n}"
      },
      "typeVersion": 1.3
    },
    {
      "id": "ecb3dd45-a8f2-4dfa-836d-1e8553b7847f",
      "name": "Gemini 2.5flash13",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        -368,
        1664
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "credential-id",
          "name": "googlePalmApi Credential"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "f70ec7ce-2d6d-4cea-9be8-d271015bae26",
      "name": "text to HTML14",
      "type": "n8n-nodes-base.code",
      "position": [
        -368,
        1504
      ],
      "parameters": {
        "jsCode": "const input = $input.first().json.output;\n\n// 1. Convert technical specs to HTML table rows (filtering nulls)\nconst tableRows = Object.entries(input.technical_specs || {})\n  .filter(([_, value]) => value !== null && value !== \"\")\n  .map(\n    ([key, value]) =>\n      \"<tr>\" +\n      \"<td><strong>\" +\n      key.replace(/_/g, \" \") +\n      \"</strong></td>\" +\n      \"<td>\" +\n      value +\n      \"</td>\" +\n      \"</tr>\"\n  )\n  .join(\"\");\n\n// 2. Format description with <br><br> after sentences (no newlines)\nconst formattedDescription = input.description\n  .replace(/\\.\\s+/g, \".<br><br>\")\n  .trim();\n\n// 3. Build Shopify-safe HTML (single-line output)\nconst html_content =\n  \"<h2>\" +\n  input.product_name +\n  \"</h2>\" +\n  \"<p>\" +\n  formattedDescription +\n  \"</p>\" +\n  \"<p><strong>Ideal For:</strong> \" +\n  input.ideal_for +\n  \"</p>\" +\n  \"<h3>Product Specifications</h3>\" +\n  \"<table border='1' cellpadding='8' cellspacing='0' style='border-collapse:collapse;width:100%;'>\" +\n  \"<tbody>\" +\n  tableRows +\n  \"</tbody>\" +\n  \"</table>\";\n\n// 4. Return all original fields + enhanced HTML\nreturn {\n  ...input,\n  html_content: html_content\n};"
      },
      "typeVersion": 2
    },
    {
      "id": "8e8ccfd0-cb78-494d-b589-9663815346be",
      "name": "Hair accessories item",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        -688,
        3072
      ],
      "parameters": {
        "text": "=# Input\nImage Data : {{ $json.image_date }}",
        "options": {
          "systemMessage": "=# Dedicated Hair Accessories Content Agent\n\n**Role:** Specialist Shopify Content Writer for Hair Jewelry & Accessories.\n**Task:** Transform image analysis into a premium JSON block strictly for the Hair Accessories collection.\n\n---\n\n### 1. Hair Accessories Categorization & Tagging Rules\nThis agent is dedicated to the **Hair Accessories** menu. All outputs must follow these tagging rules:\n\n* **Primary Tags (Mandatory):** `Jewellery`, `All Jewellery`, `Hair Accessories`, `Categories_Hair_Accessories`.\n* **Dynamic Style Tags (Add only if applicable):**\n    * IF a forehead piece: Add `Maang Tikka`.\n    * IF for a bun (Juda): Add `Juda Pin`, `Bun Cover`.\n    * IF a side-clip (Passa): Add `Jhumar`, `Passa`.\n    * IF it features high-sparkle stones: Add `AD Hair Accessories`.\n    * IF featuring pearls: Add `Pearl Hair Accessories`.\n    * IF for a braid: Add `Chotli`, `Braid Jewellery`.\n\n---\n\n### 2. Writing & Technical Instructions\n* **Product Name:** Premium name (e.g., \"Exquisite Kundan Juda Pin\" or \"Glistening AD Maang Tikka\").\n* **Description:** (Max 600 chars). Focus on the grip, the artistry of the motif, and how it transforms a hairstyle. **STRICT: Do not mention colors.** Use a regal and elegant tone.\n* **Ideal For:** One sentence styling advice (e.g., \"A magnificent piece designed to add a royal touch to bridal buns or traditional festive braids.\").\n* **Technical Specs:** Extract values from the data. Remove/omit any field that is `null`.\n\n---\n\n### 3. Output Structure (JSON)\n\n{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Materials\": \"\",\n    \"Accessory_Type\": \"\",\n    \"Gemstone_Type\": \"\",\n    \"Metal_Quality\": \"\",\n    \"Setting_Type\": \"\",\n    \"Collection\": \"Traditional Heritage\",\n    \"Occasion\": \"Wedding, Festive, Party wear\",\n    \"Weight_Feel\": \"Lightweight\",\n    \"Grip_Type\": \"\"\n  }\n}\n\n---\n\n### 4. Technical Mapping Values\n- **Accessory_Type:** Maang Tikka, Juda Pin, Passa, Hair Clip, or Chotli.\n- **Gemstone_Type:** Kundan, AD/CZ, Pearl, or Beads.\n- **Metal_Quality:** 18K Gold Plated, Antique Gold finish, or Silver Tone.\n- **Grip_Type:** U-Pin, Alligator Clip, Hook, or Slide-in.\n- **Setting_Type:** Jadau, Prong, or Bezel."
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 3
    },
    {
      "id": "e5a3c3c0-84e5-4ace-ae85-1d3a06999254",
      "name": "update Hair accessories data",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -160,
        3072
      ],
      "parameters": {
        "columns": {
          "value": {
            "tags": "={{ $json.final_tags }}",
            "file_id": "={{ $('Switch').item.json.file_id }}",
            "work_status": "content generated",
            "ai_ideal_for": "={{ $json.ideal_for }}",
            "product_name": "={{ $('Get row(s) in sheet').item.json.vendor_name }} {{ $json.product_name }}",
            "ai_description": "={{ $json.html_content }}",
            "Product Category": "Apparel & Accessories > Clothing Accessories > Hair Accessories"
          },
          "schema": [
            {
              "id": "file_id",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "file_id",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "file_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "file_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "vendor_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "vendor_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "color_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "color_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "combine_color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "combine_color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku+color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku+color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "variant_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "variant_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_date",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_date",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_url",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "product_name",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "product_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "category",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Product Category",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Product Category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "tags",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "tags",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_description",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_description",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_ideal_for",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_ideal_for",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "work_status",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "work_status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "type": "number",
              "display": true,
              "removed": true,
              "readOnly": true,
              "required": false,
              "displayName": "row_number",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "file_id"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "update",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 495979200,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit#gid=495979200",
          "cachedResultName": "data_preparation"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit?usp=drivesdk",
          "cachedResultName": "Jewel_E_Market"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "credential-id",
          "name": "googleSheetsOAuth2Api Credential"
        }
      },
      "typeVersion": 4.7
    },
    {
      "id": "f8184c55-653d-465e-896d-df9069c7c7ca",
      "name": "Combo item",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        -688,
        2768
      ],
      "parameters": {
        "text": "=# Input\nImage Data : {{ $json.image_date }}",
        "options": {
          "systemMessage": "=# Dedicated Combo Set Content Agent\n\n## Role\nSpecialist Shopify Content Writer for Jewelry Combo Sets.\n\n## Task\nTransform image analysis into a premium JSON block strictly for the Combo collection.\n\n## 1. Combo Categorization & Tagging Rules\nThis agent is dedicated to the Combo collection. All outputs must follow these tagging rules:\n\n- **Primary Tags (Mandatory)**: Jewellery, All Jewellery, combo, Categories_Combo.\n\n- **Dynamic Style Tags (Add only if applicable)**:\n  - If a mix of different jewelry types (e.g., Necklace + Bangle): Add Gift Set.\n  - If a matching Necklace & Earring set: Add Necklace Set.\n  - If multiple chains or bangles together: Add Stackable Set.\n  - If featuring high-sparkle stones: Add AD Combo.\n  - If featuring pearls: Add Pearl Combo.\n\n## 2. Writing & Technical Instructions\n\n- **Product Name**: Premium name (e.g., \"Grand Heritage Kundan Combo Set\").\n\n- **Description**: (Max 600 chars). Focus on the curated nature of the set, the harmony between pieces, and the \"complete look\" it provides. **STRICT**: Do not mention colors. Use a celebratory and sophisticated tone.\n\n- **Ideal For**: One sentence styling advice (e.g., \"A meticulously curated ensemble designed to provide a complete, royal look for weddings and high-profile festive events.\").\n\n- **Technical Specs**: Extract values from the data. Remove/omit any field that is null.\n\n## 3. Output Structure (JSON)\n\n```json\n{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Materials\": \"\",\n    \"Set_Components\": \"\",\n    \"Gemstone_Type\": \"\",\n    \"Metal_Quality\": \"\",\n    \"Setting_Type\": \"\",\n    \"Collection\": \"Combo\",\n    \"Occasion\": \"Wedding, Festive, Anniversary\",\n    \"Weight_Feel\": \"Statement Set\",\n    \"Finish\": \"\"\n  }\n}\n\n## 4. Technical Mapping Values\n- Set_Components: e.g., \"Necklace, Earrings, and Maang Tikka\" or \"Set of 4 Bangles and Ring.\"\n- Gemstone_Type: Kundan, AD/CZ, Polki, Pearl, or Multi-stone.\n- Metal_Quality: 18K Gold Plated, Antique Gold finish, or Silver Tone.\n- Setting_Type: Jadau, Prong, Bezel, or Pavé.\n- Finish: High-Shine, Matte, or Oxidized."
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 3
    },
    {
      "id": "eae7d504-e1eb-4843-9be5-e18f65ca6479",
      "name": "update Combo data",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -160,
        2768
      ],
      "parameters": {
        "columns": {
          "value": {
            "tags": "={{ $json.final_tags }}",
            "file_id": "={{ $('Switch').item.json.file_id }}",
            "work_status": "content generated",
            "ai_ideal_for": "={{ $json.ideal_for }}",
            "product_name": "={{ $('Get row(s) in sheet').item.json.vendor_name }} {{ $json.product_name }}",
            "ai_description": "={{ $json.html_content }}",
            "Product Category": "Apparel & Accessories > Jewelry > Jewelry Sets"
          },
          "schema": [
            {
              "id": "file_id",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "file_id",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "file_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "file_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "vendor_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "vendor_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "color_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "color_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "combine_color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "combine_color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku+color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku+color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "variant_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "variant_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_date",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_date",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_url",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "product_name",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "product_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "category",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Product Category",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Product Category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "tags",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "tags",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_description",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_description",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_ideal_for",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_ideal_for",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "work_status",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "work_status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "type": "number",
              "display": true,
              "removed": true,
              "readOnly": true,
              "required": false,
              "displayName": "row_number",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "file_id"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "update",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 495979200,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit#gid=495979200",
          "cachedResultName": "data_preparation"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit?usp=drivesdk",
          "cachedResultName": "Jewel_E_Market"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "credential-id",
          "name": "googleSheetsOAuth2Api Credential"
        }
      },
      "typeVersion": 4.7
    },
    {
      "id": "e140be07-db7c-4123-a151-9981429ba62d",
      "name": "Rings item",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        -672,
        2448
      ],
      "parameters": {
        "text": "=# Input\nImage Data : {{ $json.image_date }}",
        "options": {
          "systemMessage": "=# Dedicated Rings Content Agent\n\n## Role\nSpecialist Shopify Content Writer for Finger Rings.\n\n## Task\nTransform image analysis into a premium JSON block strictly for the Rings collection.\n\n## 1. Rings Categorization & Tagging Rules\nThis agent is dedicated to the Rings collection. All outputs must follow these tagging rules:\n\n- **Primary Tags (Mandatory)**: Jewellery, All Jewellery, Rings, Categories_Rings.\n\n- **Dynamic Style Tags (Add only if applicable)**:\n  - If the size is adjustable: Add Adjustable Rings.\n  - If it features a single large stone: Add Solitaire Rings.\n  - If it covers a large portion of the finger/hand: Add Statement Rings.\n  - If featuring high-sparkle stones: Add AD Rings.\n  - If featuring traditional kundan/polki: Add Kundan Rings.\n  - If designed for men: Add Mens Rings.\n\n## 2. Writing & Technical Instructions\n\n- **Product Name**: Premium name (e.g., \"Royal Kundan Statement Ring\").\n\n- **Description**: (Max 600 chars). Focus on the central motif, the comfort of the band, and the visual impact on the hand. **STRICT**: Do not mention colors. Use an elegant and sophisticated tone.\n\n- **Ideal For**: One sentence styling advice (e.g., \"An exquisite statement piece designed to add a touch of regal charm to both contemporary and traditional festive attire.\").\n\n- **Technical Specs**: Extract values from the data. Remove/omit any field that is null.\n\n## 3. Output Structure (JSON)\n\n```json\n{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Materials\": \"\",\n    \"Ring_Type\": \"\",\n    \"Gemstone_Type\": \"\",\n    \"Metal_Quality\": \"\",\n    \"Setting_Type\": \"\",\n    \"Size\": \"Adjustable / Fixed\",\n    \"Collection\": \"Rings\",\n    \"Occasion\": \"Wedding, Party wear, Anniversary\",\n    \"Weight_Feel\": \"Lightweight\",\n    \"Style\": \"\"\n  }\n}\n\n## 4. Technical Mapping Values\n- Ring_Type: Band, Solitaire, Cocktail, or Finger-tip ring.\n- Gemstone_Type: Kundan, AD/CZ, Pearl, or Polki.\n- Metal_Quality: 18K Gold Plated, Silver Finish, or Antique Gold finish.\n- Setting_Type: Jadau, Prong, Bezel, or Pavé.\n- Style: Traditional, Contemporary, or Minimalist."
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 3
    },
    {
      "id": "fc0e0eb9-b1f9-4bd5-8996-0f110e7286b2",
      "name": "update Rings data",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -144,
        2448
      ],
      "parameters": {
        "columns": {
          "value": {
            "tags": "={{ $json.final_tags }}",
            "file_id": "={{ $('Switch').item.json.file_id }}",
            "work_status": "content generated",
            "ai_ideal_for": "={{ $json.ideal_for }}",
            "product_name": "={{ $('Get row(s) in sheet').item.json.vendor_name }} {{ $json.product_name }}",
            "ai_description": "={{ $json.html_content }}",
            "Product Category": "Apparel & Accessories > Jewelry > Rings"
          },
          "schema": [
            {
              "id": "file_id",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "file_id",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "file_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "file_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "vendor_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "vendor_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "color_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "color_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "combine_color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "combine_color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku+color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku+color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "variant_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "variant_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_date",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_date",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_url",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "product_name",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "product_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "category",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Product Category",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Product Category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "tags",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "tags",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_description",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_description",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_ideal_for",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_ideal_for",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "work_status",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "work_status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "type": "number",
              "display": true,
              "removed": true,
              "readOnly": true,
              "required": false,
              "displayName": "row_number",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "file_id"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "update",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 495979200,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit#gid=495979200",
          "cachedResultName": "data_preparation"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit?usp=drivesdk",
          "cachedResultName": "Jewel_E_Market"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "credential-id",
          "name": "googleSheetsOAuth2Api Credential"
        }
      },
      "typeVersion": 4.7
    },
    {
      "id": "0dc862b0-a8a2-4941-b965-afc29fe7d51d",
      "name": "Bangles item",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        -672,
        2144
      ],
      "parameters": {
        "text": "=# Input\nImage Data : {{ $json.image_date }}",
        "options": {
          "systemMessage": "=# Dedicated Bangles Content Agent\n\n## Role\nSpecialist Shopify Content Writer for Bangles & Bracelets.\n\n## Task\nTransform image analysis into a premium JSON block strictly for the Bangles collection.\n\n## 1. Bangles Categorization & Tagging Rules\nThis agent is dedicated to the Bangles menu. All outputs must follow these tagging rules:\n\n- **Primary Tags (Mandatory)**: Jewellery, All Jewellery, Bangles, Categories_Bangles.\n\n- **Sub-Menu & Dynamic Tagging Logic** (Add only if applicable):\n  - If featuring high-sparkle stones: Add Tag: AD bangles.\n  - If a multi-piece set: Add Tag: Bangle Sets.\n  - If Traditional Wedding/Red & White set: Add Tag: Bridal Chura.\n  - If a flexible or clasp-based wristwear: Add Tag: Bracelets.\n  - If made of copper base: Add Tag: Copper Bangles.\n  - If featuring Forming Gold/Gold-look: Add Tag: Forming Bangles.\n  - If thick, single statement piece: Add Tag: kada.\n  - If featuring Kundan/Jadau stones: Add Tag: Kundan Bangles.\n  - If silk or cotton wrapped: Add Tag: Thread bangles.\n  - If featuring velvet texture: Add Tag: velvet bangles.\n\n## 2. Writing & Technical Instructions\n\n- **Product Name**: Premium name (e.g., \"Grand Kundan Meenakari Kada\" or \"Sparkling AD Bracelet\").\n\n- **Description**: (Max 600 chars). Focus on the craftsmanship, the sound/clinking quality, and the elegance of the wrist silhouette. **STRICT**: Do not mention colors. Use a tone that highlights tradition and grace.\n\n- **Ideal For**: One sentence styling advice (e.g., \"A timeless accessory designed to perfectly complement ethnic wear for weddings or add a touch of sophistication to casual attire.\").\n\n- **Technical Specs**: Extract values from the data. Remove/omit any field that is null.\n\n## 3. Output Structure (JSON)\n\n```json\n{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Materials\": \"\",\n    \"Bangle_Style\": \"\",\n    \"Gemstone_Type\": \"\",\n    \"Metal_Quality\": \"\",\n    \"Setting_Type\": \"\",\n    \"Size_Range\": \"2.4, 2.6, 2.8, Adjustable\",\n    \"Collection\": \"Bangles\",\n    \"Occasion\": \"\",\n    \"Weight_Feel\": \"\",\n    \"Closure_Type\": \"Screw-Open / Fixed / Clasp\"\n  }\n}\n\n## 4. Technical Mapping Values\n- Bangle_Style: Kada, Bangle Set, Bracelet, Chura, or Stack.\n- Gemstone_Type: AD/CZ, Kundan, Pearl, Polki, or Beads.\n- Metal_Quality: 18K Gold Plated, Copper, Forming Gold, or Silver Tone.\n- Setting_Type: Jadau, Prong, Bezel, or Hand-wrapped (for Thread/Velvet).\n- Occasion: Wedding, Festive, Daily Wear, or Party wear."
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 3
    },
    {
      "id": "96909850-a8d4-4db2-89af-87ec02eb3589",
      "name": "update Bangles data",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -144,
        2144
      ],
      "parameters": {
        "columns": {
          "value": {
            "tags": "={{ $json.final_tags }}",
            "file_id": "={{ $('Switch').item.json.file_id }}",
            "work_status": "content generated",
            "ai_ideal_for": "={{ $json.ideal_for }}",
            "product_name": "={{ $('Get row(s) in sheet').item.json.vendor_name }} {{ $json.product_name }}",
            "ai_description": "={{ $json.html_content }}",
            "Product Category": "Apparel & Accessories > Jewelry > Bracelets"
          },
          "schema": [
            {
              "id": "file_id",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "file_id",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "file_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "file_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "vendor_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "vendor_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "color_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "color_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "combine_color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "combine_color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku+color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku+color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "variant_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "variant_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_date",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_date",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_url",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "product_name",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "product_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "category",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Product Category",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Product Category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "tags",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "tags",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_description",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_description",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_ideal_for",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_ideal_for",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "work_status",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "work_status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "type": "number",
              "display": true,
              "removed": true,
              "readOnly": true,
              "required": false,
              "displayName": "row_number",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "file_id"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "update",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 495979200,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit#gid=495979200",
          "cachedResultName": "data_preparation"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit?usp=drivesdk",
          "cachedResultName": "Jewel_E_Market"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "credential-id",
          "name": "googleSheetsOAuth2Api Credential"
        }
      },
      "typeVersion": 4.7
    },
    {
      "id": "d32ab5b3-f06e-42c7-bc8b-f5ac94e256d1",
      "name": "Earrings item",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        -672,
        1824
      ],
      "parameters": {
        "text": "=# Input\nImage Data : {{ $json.image_date }}",
        "options": {
          "systemMessage": "=# Dedicated Earrings Content Agent\n\n## Role\nSpecialist Shopify Content Writer for Earrings.\n\n## Task\nTransform image analysis into a premium JSON block strictly for the Earrings collection.\n\n## 1. Earrings Categorization & Tagging Rules\nThis agent is dedicated to the All Earrings menu. All outputs must follow these tagging rules:\n\n- **Primary Tags (Mandatory)**: Earrings, Categories_Earrings, Jewellery, All Jewellery.\n\n- **Sub-Menu & Dynamic Tagging Logic** (Add only if applicable):\n  - If long, swinging style: Add Tag: Dangler.\n  - If bell-shaped traditional style: Add Tag: Jhumkis.\n  - If set includes a forehead piece: Add Tag: Maang Tikka Earrings.\n  - If featuring enamel work: Add Tag: Meenakari Earrings.\n  - If dark/antique silver finish: Add Tag: OXIDISED Earrings.\n  - If includes a hair-supporting chain: Add Tag: Kan Chain.\n  - If featuring reflective glass: Add Tag: mirror Earrings.\n  - If handcrafted from clay: Add Tag: Clay Earrings.\n  - If silk or cotton wrapped: Add Tag: Thread Earrings.\n  - If small, fixed to the lobe: Add Tag: Studs.\n  - If crescent-moon shaped: Add Tag: chandbali.\n\n## 2. Writing & Technical Instructions\n\n- **Product Name**: Premium name (e.g., \"Heritage Meenakari Jhumka Ensemble\").\n\n- **Description**: (Max 600 chars). Focus on the silhouette, the way the piece frames the face, and the intricate craftsmanship. **STRICT**: Do not mention colors. Use a sophisticated and graceful tone.\n\n- **Ideal For**: One sentence styling advice (e.g., \"A stunning statement piece designed to elevate your festive look, perfect for pairing with traditional silk sarees or lehengas.\").\n\n- **Technical Specs**: Extract values from the data. Remove/omit any field that is null.\n\n## 3. Output Structure (JSON)\n\n```json\n{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Materials\": \"\",\n    \"Earring_Style\": \"\",\n    \"Gemstone_Type\": \"\",\n    \"Metal_Quality\": \"\",\n    \"Setting_Type\": \"\",\n    \"Back_Finding\": \"\",\n    \"Collection\": \"All Earrings\",\n    \"Occasion\": \"\",\n    \"Weight_Feel\": \"\",\n    \"Length\": \"\"\n  }\n}\n\n## 4. Technical Mapping Values\n- Earring_Style: Jhumka, Chandbali, Stud, Dangler, or Hoop.\n- Gemstone_Type: Kundan, AD/CZ, Pearl, Polki, or Mirror.\n- Metal_Quality: 18K Gold Plated, Oxidised Silver, or Antique Gold.\n- Back_Finding: Push Back, Screw Back, or Hook.\n- Weight_Feel: Lightweight or Heavy Statement."
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 3
    },
    {
      "id": "49b39c3b-f242-44b6-a39d-78d5ba197483",
      "name": "update Earrings data",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -144,
        1824
      ],
      "parameters": {
        "columns": {
          "value": {
            "tags": "={{ $json.final_tags }}",
            "file_id": "={{ $('Switch').item.json.file_id }}",
            "work_status": "content generated",
            "ai_ideal_for": "={{ $json.ideal_for }}",
            "product_name": "={{ $('Get row(s) in sheet').item.json.vendor_name }} {{ $json.product_name }}",
            "ai_description": "={{ $json.html_content }}",
            "Product Category": "Apparel & Accessories > Jewelry > Earrings"
          },
          "schema": [
            {
              "id": "file_id",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "file_id",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "file_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "file_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "vendor_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "vendor_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "color_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "color_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "combine_color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "combine_color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku+color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku+color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "variant_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "variant_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_date",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_date",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_url",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "product_name",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "product_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "category",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Product Category",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Product Category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "tags",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "tags",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_description",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_description",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_ideal_for",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_ideal_for",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "work_status",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "work_status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "type": "number",
              "display": true,
              "removed": true,
              "readOnly": true,
              "required": false,
              "displayName": "row_number",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "file_id"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "update",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 495979200,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit#gid=495979200",
          "cachedResultName": "data_preparation"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit?usp=drivesdk",
          "cachedResultName": "Jewel_E_Market"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "credential-id",
          "name": "googleSheetsOAuth2Api Credential"
        }
      },
      "typeVersion": 4.7
    },
    {
      "id": "558ee0ea-9b3b-4752-84aa-dc8a62deaf77",
      "name": "Necklace item",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        -672,
        1504
      ],
      "parameters": {
        "text": "=# Input\nImage Data : {{ $json.image_date }}",
        "options": {
          "systemMessage": "=# Dedicated Necklace Content Agent\n\n## Role\nSpecialist Shopify Content Writer for Necklaces & Necklace Sets.\n\n## Task\nTransform image analysis into a premium JSON block strictly for the Necklace collection.\n\n## 1. Necklace Categorization & Tagging Rules\nThis agent is dedicated to the All Necklaces menu. All outputs must follow these tagging rules:\n\n- **Primary Tags (Mandatory)**: necklaces, Categories_Necklaces, Jewellery, All Jewellery.\n\n- **Sub-Menu & Dynamic Tagging Logic** (Add only if applicable):\n  - If tight-fitting around the neck: Add Tag: traditional chokers.\n  - If dark/antique silver finish: Add Tag: Oxidised Necklace.\n  - If featuring a gold-alternative/premium look: Add Tag: Forming look or Forming Gold.\n  - If featuring Kundan/Jadau stones: Add Tag: Kundan Sets.\n  - If a long necklace or Rani Haar: Add Tag: Haram.\n  - If made of copper base: Add Tag: copper Sets.\n  - If primarily decorated with stones: Add Tag: Stone Necklaces.\n  - If featuring high-sparkle AD/CZ stones: Add Tag: AD Necklaces.\n  - If silk or cotton thread wrapped: Add Tag: Thread Necklace.\n  - If featuring traditional deity/temple motifs: Add Tag: Temple Necklaces.\n\n## 2. Writing & Technical Instructions\n\n- **Product Name**: Premium name (e.g., \"Grand Temple Motif Heritage Necklace\").\n\n- **Description**: (Max 600 chars). Focus on the drape, the intricate pendant work, and the royal presence of the piece. **STRICT**: Do not mention colors. Use a regal and heritage-focused tone.\n\n- **Ideal For**: One sentence styling advice (e.g., \"An exquisite statement piece designed to be the centerpiece of your bridal or festive ensemble, pairing beautifully with deep-neck blouses.\").\n\n- **Technical Specs**: Extract values from the data. Remove/omit any field that is null.\n\n## 3. Output Structure (JSON)\n\n```json\n{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Materials\": \"\",\n    \"Necklace_Style\": \"\",\n    \"Gemstone_Type\": \"\",\n    \"Metal_Quality\": \"\",\n    \"Setting_Type\": \"\",\n    \"Length\": \"Choker / Mid-Length / Long (Haram)\",\n    \"Collection\": \"All Necklaces\",\n    \"Occasion\": \"\",\n    \"Weight_Feel\": \"\",\n    \"Set_Includes\": \"Necklace Only / Necklace with Earrings\"\n  }\n}\n\n## 4. Technical Mapping Values\n- Necklace_Style: Choker, Haram (Long), Collar, or Lariat.\n- Gemstone_Type: Kundan, AD/CZ, Pearl, Polki, or Beads.\n- Metal_Quality: 18K Gold Plated, Oxidised Silver, Forming Gold, or Copper base.\n- Setting_Type: Jadau, Prong, Bezel, or Hand-woven.\n- Weight_Feel: Heavy Statement or Lightweight Elegance."
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 3
    },
    {
      "id": "77cf142d-b8f3-4202-a7d9-5fbd24f37bc7",
      "name": "update Necklace data",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -144,
        1504
      ],
      "parameters": {
        "columns": {
          "value": {
            "tags": "={{ $json.final_tags }}",
            "file_id": "={{ $('Switch').item.json.file_id }}",
            "work_status": "content generated",
            "ai_ideal_for": "={{ $json.ideal_for }}",
            "product_name": "={{ $('Get row(s) in sheet').item.json.vendor_name }} {{ $json.product_name }}",
            "ai_description": "={{ $json.html_content }}",
            "Product Category": "Apparel & Accessories > Jewelry > Necklaces"
          },
          "schema": [
            {
              "id": "file_id",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "file_id",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "file_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "file_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "vendor_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "vendor_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "color_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "color_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "combine_color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "combine_color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku+color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku+color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "variant_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "variant_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_date",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_date",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_url",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "product_name",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "product_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "category",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Product Category",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Product Category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "tags",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "tags",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_description",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_description",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_ideal_for",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_ideal_for",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "work_status",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "work_status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "type": "number",
              "display": true,
              "removed": true,
              "readOnly": true,
              "required": false,
              "displayName": "row_number",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "file_id"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "update",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 495979200,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit#gid=495979200",
          "cachedResultName": "data_preparation"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit?usp=drivesdk",
          "cachedResultName": "Jewel_E_Market"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "credential-id",
          "name": "googleSheetsOAuth2Api Credential"
        }
      },
      "typeVersion": 4.7
    },
    {
      "id": "02c63f8f-5e26-41cc-ba8a-ce3b17c6fab4",
      "name": "Brooch item",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        48,
        2448
      ],
      "parameters": {
        "text": "=# Input\nImage Data : {{ $json.image_date }}",
        "options": {
          "systemMessage": "=# Dedicated Brooch Jewelry Content Agent\n\n**Role:** Specialist Shopify Content Writer for Brooch & Pins.\n**Task:** Transform image analysis into a premium JSON block strictly for the Brooch collection.\n\n---\n\n### 1. Brooch Categorization & Tagging Rules\nThis agent is dedicated to the **Brooch** category. All outputs must follow these tagging rules:\n\n* **Primary Tags (Mandatory):** `Jewellery`, `All Jewellery`, `Brooch`, `Categories_Brooch`.\n* **Dynamic Style Tags (Add only if applicable):**\n    * If the design features a deity or religious symbol: Add `Spiritual`.\n    * If designed for men (e.g., Lapel pins, Sherwani buttons): Add `Mens Jewellery`.\n    * If it features high-sparkle stones: Add `Stone Brooch` or `AD Brooch`.\n    * If featuring pearls: Add `Pearl Brooch`.\n\n---\n\n### 2. Writing & Technical Instructions\n* **Product Name:** Premium name (e.g., \"Royal Heritage Emerald Brooch\").\n* **Description:** (Max 600 chars). Focus on the intricate metalwork, the security of the pin, and the visual impact on an outfit. **STRICT: Do not mention colors.** Use a sophisticated tone highlighting it as a statement accessory.\n* **Ideal For:** One sentence styling advice (e.g., \"A versatile statement piece designed to elevate sarees, blazers, or traditional ethnic wear with a touch of regal elegance.\").\n* **Technical Specs:** Extract values from the data. Use `null` if the detail is not found.\n\n---\n\n### 3. Output Structure (JSON)\n\n{\n  \"product_name\": \"\",\n  \"description\": \"\",\n  \"ideal_for\": \"\",\n  \"final_tags\": \"\",\n  \"technical_specs\": {\n    \"Materials\": null,\n    \"Gemstone_Type\": null,\n    \"Metal_Quality\": null,\n    \"Setting_Type\": null,\n    \"Pin_Type\": \"Safety Pin / Revolving Catch\",\n    \"Collection\": \"Traditional Heritage\",\n    \"Occasion\": \"Wedding, Formal, Festive\",\n    \"Weight_Feel\": \"Lightweight\",\n    \"Motif\": null\n  }\n}\n\n---\n\n### 4. Technical Mapping Values\n- **Gemstone_Type:** Kundan, AD/CZ, Polki, Pearl, or Enamel.\n- **Metal_Quality:** 18K Gold Plated, Silver Tone, or Antique Brass.\n- **Setting_Type:** Bezel, Prong, or Hand-set.\n- **Motif:** Floral, Peacock, Geometric, or Deity.\n- **Weight_Feel:** Lightweight or Statement."
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 3
    },
    {
      "id": "d5cba4c0-54e7-4ad5-9f55-780561a6272e",
      "name": "update Brooch data",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        576,
        2448
      ],
      "parameters": {
        "columns": {
          "value": {
            "tags": "={{ $json.final_tags }}",
            "file_id": "={{ $('Switch').item.json.file_id }}",
            "work_status": "content generated",
            "ai_ideal_for": "={{ $json.ideal_for }}",
            "product_name": "={{ $('Get row(s) in sheet').item.json.vendor_name }} {{ $json.product_name }}",
            "ai_description": "={{ $json.html_content }}",
            "Product Category": "Apparel & Accessories > Jewelry > Brooches & Lapel Pins"
          },
          "schema": [
            {
              "id": "file_id",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "file_id",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "file_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "file_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "vendor_name",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "vendor_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "color_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "color_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "combine_color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "combine_color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sku+color",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "sku+color",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "variant_code",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "variant_code",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_date",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_date",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "image_url",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "image_url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "product_name",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "product_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "category",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Product Category",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Product Category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "tags",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "tags",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_description",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_description",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_ideal_for",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "ai_ideal_for",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "work_status",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "work_status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "type": "number",
              "display": true,
              "removed": true,
              "readOnly": true,
              "required": false,
              "displayName": "row_number",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "file_id"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "update",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 495979200,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit#gid=495979200",
          "cachedResultName": "data_preparation"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit?usp=drivesdk",
          "cachedResultName": "Jewel_E_Market"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "credential-id",
          "name": "googleSheetsOAuth2Api Credential"
        }
      },
      "typeVersion": 4.7
    },
    {
      "id": "aeef1937-c312-4c60-8487-b0fee9a71ed3",
      "name": "Wait2",
      "type": "n8n-nodes-base.wait",
      "position": [
        -160,
        3680
      ],
      "webhookId": "09447dc6-56d9-4ca6-a8a0-56f04237f007",
      "parameters": {
        "amount": 1
      },
      "typeVersion": 1.1
    },
    {
      "id": "d52509e6-0a3a-478d-b9d4-c32c7d778b37",
      "name": "get product data",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -2176,
        2992
      ],
      "parameters": {
        "options": {},
        "filtersUI": {
          "values": [
            {
              "lookupValue": "content generated",
              "lookupColumn": "work_status"
            }
          ]
        },
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 495979200,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit#gid=495979200",
          "cachedResultName": "data_preparation"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Tr9GuMZ8QDuPDUAX6VJK9_RFLB-r4r58GOw_VrvKCjM/edit?usp=drivesdk",
          "cachedResultName": "Jewel_E_Market"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "credential-id",
          "name": "googleSheetsOAuth2Api Credential"
        }
      },
      "executeOnce": true,
      "typeVersion": 4.7
    },
    {
      "id": "2cd1a6f1-8c18-4739-a9ad-12f822cd2e4e",
      "name": "OpenAI Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        -1584,
        2736
      ],
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini",
          "cachedResultName": "gpt-4o-mini"
        },
        "options": {},
        "builtInTools": {}
      },
      "credentials": {
        "openAiApi": {
          "id": "credential-id",
          "name": "openAiApi Credential"
        }
      },
      "typeVersion": 1.3
    },
    {
      "id": "a0eda9ee-b651-4245-855c-ce640a30b0d0",
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1488,
        976
      ],
      "parameters": {
        "color": 6,
        "width": 656,
        "height": 528,
        "content": "##  Output (Live Shopify Product)\n![Shopify Product Page](https://i.ibb.co/Bbf580T/chain-07-Delicate-Heartbeat-Link-Chain-Necklace-My-Store-12-25-2025-01-50-AM.png)\n"
      },
      "typeVersion": 1
    },
    {
      "id": "e89a06c1-4c48-4188-89bd-495ef85edfe2",
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1968,
        976
      ],
      "parameters": {
        "color": 6,
        "width": 464,
        "height": 528,
        "content": "##  Input (Original Image)\n![Original Product Image](https://i.ibb.co/SLmbmSS/113114608-RG-51ee9788-6b5e-41c9-8fdd-019f6a7888cf.jpg)"
      },
      "typeVersion": 1
    },
    {
      "id": "1bcca1cc-d922-4b17-ae76-4a62d5e67300",
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2464,
        976
      ],
      "parameters": {
        "color": 6,
        "width": 1632,
        "height": 528,
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "06b34097-d10e-4463-9860-209fca5ff2de",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2464,
        976
      ],
      "parameters": {
        "color": 6,
        "width": 464,
        "height": 528,
        "content": "# Author Details\n\n![Manish Kumar](https://i.ibb.co/bR2bHzzj/Screenshot-2025-12-25-at-3-04-32-AM.png)\n\n## Manish Kumar\n### Expert Designer & AI Automation Engineer\n\n### 📧 [manipritraj@gmail.com](mailto:manipritraj@gmail.com)\n### 📞 +91-9334888899\n\n"
      },
      "typeVersion": 1
    },
    {
      "id": "29003a90-a7f3-407e-b78c-abb77f415d52",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1840,
        2464
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "286fe75c-5866-4ab1-8e02-d109b3bf7d69",
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1840,
        2464
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "25d9f25c-9a28-47e3-adc9-7285685fc42d",
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -3120,
        976
      ],
      "parameters": {
        "color": 6,
        "width": 640,
        "height": 2336,
        "content": "# 🧠 Shopify AI Image → Product CSV Automation\n\nThis n8n workflow automatically converts **product images into a Shopify-ready CSV** using AI.\n\nIt removes manual work like image review, product writing, categorization, image uploads, and CSV preparation.\n\n---\n\n## 🧩 What You Need Before Running\n\n### Image Setup\n- Upload product images to **Google Drive**\n- Name images like:\n<SKU><ColorCode>\nExample: 12345GR\n- Folder structure : Google_Drive/pending/<brand_name>/All_Images\n- Place all images inside **<brand_name>**\n\n---\n\n\n---\n\n### Required Credentials\n- Google Drive OAuth\n- Google Sheets OAuth\n- Gemini API\n- ChatGPT / OpenAI API\n- Shopify Access Token\n\n---\n\n## 🔄 How the Workflow Works\n\n### 1️⃣ Fetch Images\n- Reads images from the `pending` folder\n- Extracts SKU & color from filenames\n- Stores data in Google Sheets\n\n---\n\n### 2️⃣ AI Image Analysis\n- Images are analyzed **one by one**\n- Slower, but much more accurate\n- Extracts product clues and attributes\n\n---\n\n### 3️⃣ Category Detection\n- AI detects the main product category  \n- Example: Jewelry, Necklace, Ring  \n- Easy to customize via prompts\n\n---\n\n### 4️⃣ Product Content Creation\n- Generates:\n- Product title\n- HTML description\n- Tags & metadata\n- Uses category-based logic (Switch node)\n\n---\n\n### 5️⃣ Upload Images to Shopify\n- Images are uploaded to Shopify\n- Shopify CDN image URLs are returned\n- URLs are added to product data\n\n---\n\n### 6️⃣ Generate Shopify CSV\n- All data is compiled into a new Google Sheet\n- Output matches Shopify import format\n- CSV is ready to upload\n\n---\n\n## 📄 Why Google Sheets?\n- Easy to review data\n- Simple debugging\n- Safe retries if something fails\n\n---\n\n## 🚀 Designed For\n- Bulk Shopify product uploads\n- Image-heavy catalogs\n- Ecommerce teams & agencies\n- Anyone learning how to automate Shopify product creation\n\n---\n\n## ⚠️ Notes\n- Accuracy is prioritized over speed\n- No AI fine-tuning required\n- Modular and easy to extend\n"
      },
      "typeVersion": 1
    },
    {
      "id": "e8673707-00d9-41a3-81c6-f0196e06d561",
      "name": "Sticky Note13",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -3120,
        3328
      ],
      "parameters": {
        "color": 6,
        "width": 640,
        "height": 576,
        "content": "# Final Step\n\n## You got the exact **CSV** formate required for bulk uploading in **Shopify**.\n\n---\n\n## Just follow these given step for Bulk Uploading : \n### - **First, check all the required details throughly**\n### - **Download the \"final_product_data\" sheet to CSV**\n### - **Now, upload directly to Shopify**\n\n---\n\n---\n\n# its done !"
      },
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "Wait": {
      "main": [
        [
          {
            "node": "Update row in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "START": {
      "main": [
        [
          {
            "node": "query_folder_name1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait1": {
      "main": [
        [
          {
            "node": "Update row in sheet3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait2": {
      "main": [
        [
          {
            "node": "Loop Over Items2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gemini": {
      "ai_languageModel": [
        [
          {
            "node": "Bridal item",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Memory": {
      "ai_memory": [
        [
          {
            "node": "Bridal item",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Switch": {
      "main": [
        [
          {
            "node": "Necklace item",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Earrings item",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Bangles item",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Rings item",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Combo item",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Hair accessories item",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Jewellery Accessories item",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Pandents item",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Bindi item",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Rakhi item",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Brooch item",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Bridal item",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Chain item",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gemini1": {
      "ai_languageModel": [
        [
          {
            "node": "Chain item",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Gemini2": {
      "ai_languageModel": [
        [
          {
            "node": "Rakhi item",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Gemini3": {
      "ai_languageModel": [
        [
          {
            "node": "Brooch item",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Gemini5": {
      "ai_languageModel": [
        [
          {
            "node": "Bindi item",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Gemini6": {
      "ai_languageModel": [
        [
          {
            "node": "Jewellery Accessories item",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Gemini7": {
      "ai_languageModel": [
        [
          {
            "node": "Pandents item",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Gemini8": {
      "ai_languageModel": [
        [
          {
            "node": "Hair accessories item",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Gemini9": {
      "ai_languageModel": [
        [
          {
            "node": "Rings item",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Memory1": {
      "ai_memory": [
        [
          {
            "node": "Chain item",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Memory2": {
      "ai_memory": [
        [
          {
            "node": "Rakhi item",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Memory3": {
      "ai_memory": [
        [
          {
            "node": "Brooch item",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Memory5": {
      "ai_memory": [
        [
          {
            "node": "Bindi item",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Memory6": {
      "ai_memory": [
        [
          {
            "node": "Jewellery Accessories item",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Memory7": {
      "ai_memory": [
        [
          {
            "node": "Pandents item",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Memory8": {
      "ai_memory": [
        [
          {
            "node": "Hair accessories item",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Memory9": {
      "ai_memory": [
        [
          {
            "node": "Rings item",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Gemini10": {
      "ai_languageModel": [
        [
          {
            "node": "Combo item",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Gemini11": {
      "ai_languageModel": [
        [
          {
            "node": "Earrings item",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Gemini12": {
      "ai_languageModel": [
        [
          {
            "node": "Bangles item",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Gemini13": {
      "ai_languageModel": [
        [
          {
            "node": "Necklace item",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Memory10": {
      "ai_memory": [
        [
          {
            "node": "Combo item",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Memory11": {
      "ai_memory": [
        [
          {
            "node": "Earrings item",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Memory12": {
      "ai_memory": [
        [
          {
            "node": "Bangles item",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Memory13": {
      "ai_memory": [
        [
          {
            "node": "Necklace item",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "looping1": {
      "main": [
        [],
        [
          {
            "node": "add_image_data2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "sku_sort": {
      "main": [
        [
          {
            "node": "variant_numbering1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent2": {
      "main": [
        [
          {
            "node": "Wait1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Bindi item": {
      "main": [
        [
          {
            "node": "text to HTML5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Chain item": {
      "main": [
        [
          {
            "node": "text to HTML1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Combo item": {
      "main": [
        [
          {
            "node": "text to HTML11",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Rakhi item": {
      "main": [
        [
          {
            "node": "text to HTML2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Rings item": {
      "main": [
        [
          {
            "node": "text to HTML10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured": {
      "ai_outputParser": [
        [
          {
            "node": "Bridal item",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Bridal item": {
      "main": [
        [
          {
            "node": "text to HTML",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Brooch item": {
      "main": [
        [
          {
            "node": "text to HTML3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured1": {
      "ai_outputParser": [
        [
          {
            "node": "Chain item",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Structured2": {
      "ai_outputParser": [
        [
          {
            "node": "Rakhi item",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Structured3": {
      "ai_outputParser": [
        [
          {
            "node": "Brooch item",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Structured5": {
      "ai_outputParser": [
        [
          {
            "node": "Bindi item",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Structured6": {
      "ai_outputParser": [
        [
          {
            "node": "Jewellery Accessories item",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Structured7": {
      "ai_outputParser": [
        [
          {
            "node": "Pandents item",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Structured8": {
      "ai_outputParser": [
        [
          {
            "node": "Hair accessories item",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Structured9": {
      "ai_outputParser": [
        [
          {
            "node": "Rings item",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Bangles item": {
      "main": [
        [
          {
            "node": "text to HTML13",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "main": [
        [
          {
            "node": "Download file",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured10": {
      "ai_outputParser": [
        [
          {
            "node": "Combo item",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Structured11": {
      "ai_outputParser": [
        [
          {
            "node": "Earrings item",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Structured12": {
      "ai_outputParser": [
        [
          {
            "node": "Bangles item",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Structured13": {
      "ai_outputParser": [
        [
          {
            "node": "Necklace item",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "text to HTML": {
      "main": [
        [
          {
            "node": "update bridal data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download file": {
      "main": [
        [
          {
            "node": "HTTP Request1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Earrings item": {
      "main": [
        [
          {
            "node": "text to HTML12",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request1": {
      "main": [
        [
          {
            "node": "HTTP Request2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request2": {
      "main": [
        [
          {
            "node": "HTTP Request3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request3": {
      "main": [
        [
          {
            "node": "Update row in sheet2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Necklace item": {
      "main": [
        [
          {
            "node": "text to HTML14",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Pandents item": {
      "main": [
        [
          {
            "node": "text to HTML7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "text to HTML1": {
      "main": [
        [
          {
            "node": "update chain data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "text to HTML2": {
      "main": [
        [
          {
            "node": "update Rakhi data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "text to HTML3": {
      "main": [
        [
          {
            "node": "update Brooch data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "text to HTML5": {
      "main": [
        [
          {
            "node": "update Bindi data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "text to HTML6": {
      "main": [
        [
          {
            "node": "update Jewellery Accessories data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "text to HTML7": {
      "main": [
        [
          {
            "node": "update Pandents data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "text to HTML8": {
      "main": [
        [
          {
            "node": "update Hair accessories data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download file1": {
      "main": [
        [
          {
            "node": "Analyze an image",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory2": {
      "ai_memory": [
        [
          {
            "node": "AI Agent2",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "text to HTML10": {
      "main": [
        [
          {
            "node": "update Rings data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "text to HTML11": {
      "main": [
        [
          {
            "node": "update Combo data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "text to HTML12": {
      "main": [
        [
          {
            "node": "update Earrings data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "text to HTML13": {
      "main": [
        [
          {
            "node": "update Bangles data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "text to HTML14": {
      "main": [
        [
          {
            "node": "update Necklace data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gemini 2.5flash": {
      "ai_languageModel": [
        [
          {
            "node": "Structured",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [],
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Search_folders1": {
      "main": [
        [
          {
            "node": "image_within_folder1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "add_image_data2": {
      "main": [
        [
          {
            "node": "looping1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Analyze an image": {
      "main": [
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gemini 2.5flash1": {
      "ai_languageModel": [
        [
          {
            "node": "Structured1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Gemini 2.5flash2": {
      "ai_languageModel": [
        [
          {
            "node": "Structured2",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Gemini 2.5flash3": {
      "ai_languageModel": [
        [
          {
            "node": "Structured3",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Gemini 2.5flash5": {
      "ai_languageModel": [
        [
          {
            "node": "Structured5",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Gemini 2.5flash6": {
      "ai_languageModel": [
        [
          {
            "node": "Structured6",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Gemini 2.5flash7": {
      "ai_languageModel": [
        [
          {
            "node": "Structured7",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Gemini 2.5flash8": {
      "ai_languageModel": [
        [
          {
            "node": "Structured8",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Gemini 2.5flash9": {
      "ai_languageModel": [
        [
          {
            "node": "Structured9",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items1": {
      "main": [
        [],
        [
          {
            "node": "Download file1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items2": {
      "main": [
        [],
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items3": {
      "main": [
        [
          {
            "node": "nothing",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "structuring columns",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items4": {
      "main": [
        [],
        [
          {
            "node": "AI Agent2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "pending_image_to analyze",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "get product data": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "sku_structuring1": {
      "main": [
        [
          {
            "node": "sku_sort",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gemini 2.5flash10": {
      "ai_languageModel": [
        [
          {
            "node": "Structured10",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Gemini 2.5flash11": {
      "ai_languageModel": [
        [
          {
            "node": "Structured11",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Gemini 2.5flash12": {
      "ai_languageModel": [
        [
          {
            "node": "Structured12",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Gemini 2.5flash13": {
      "ai_languageModel": [
        [
          {
            "node": "Structured13",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger1": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger2": {
      "main": [
        [
          {
            "node": "get finalized data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger4": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update Bindi data": {
      "main": [
        [
          {
            "node": "Wait2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update Combo data": {
      "main": [
        [
          {
            "node": "Wait2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update Rakhi data": {
      "main": [
        [
          {
            "node": "Wait2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update Rings data": {
      "main": [
        [
          {
            "node": "Wait2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update chain data": {
      "main": [
        [
          {
            "node": "Wait2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Auto-fixing Output Parser",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "get finalized data": {
      "main": [
        [
          {
            "node": "Loop Over Items3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "query_folder_name1": {
      "main": [
        [
          {
            "node": "Search_folders1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update Brooch data": {
      "main": [
        [
          {
            "node": "Wait2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update bridal data": {
      "main": [
        [
          {
            "node": "Wait2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "variant_numbering1": {
      "main": [
        [
          {
            "node": "looping1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append row in sheet": {
      "main": [
        [
          {
            "node": "Loop Over Items3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet": {
      "main": [
        [
          {
            "node": "Loop Over Items2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet": {
      "main": [
        [
          {
            "node": "Loop Over Items1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "structuring columns": {
      "main": [
        [
          {
            "node": "structuring body content",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update Bangles data": {
      "main": [
        [
          {
            "node": "Wait2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet2": {
      "main": [
        [
          {
            "node": "Loop Over Items4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet2": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet3": {
      "main": [
        [
          {
            "node": "Loop Over Items4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "image_within_folder1": {
      "main": [
        [
          {
            "node": "sku_structuring1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update Earrings data": {
      "main": [
        [
          {
            "node": "Wait2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update Necklace data": {
      "main": [
        [
          {
            "node": "Wait2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update Pandents data": {
      "main": [
        [
          {
            "node": "Wait2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Hair accessories item": {
      "main": [
        [
          {
            "node": "text to HTML8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "Auto-fixing Output Parser",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "pending_image_to analyze": {
      "main": [
        [
          {
            "node": "Loop Over Items1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "structuring body content": {
      "main": [
        [
          {
            "node": "Append row in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Auto-fixing Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "AI Agent2",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model2": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent2",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Jewellery Accessories item": {
      "main": [
        [
          {
            "node": "text to HTML6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update Hair accessories data": {
      "main": [
        [
          {
            "node": "Wait2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update Jewellery Accessories data": {
      "main": [
        [
          {
            "node": "Wait2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When clicking ‘Execute workflow’": {
      "main": [
        [
          {
            "node": "get product data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}