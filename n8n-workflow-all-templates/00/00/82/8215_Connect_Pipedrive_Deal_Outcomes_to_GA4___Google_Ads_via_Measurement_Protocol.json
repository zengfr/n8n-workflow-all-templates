{
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Connect Pipedrive Deal Outcomes to GA4 & Google Ads via Measurement Protocol",
    "wechat": "youandme10086",
    "id": 8215,
    "update_time": "2025-11-10"
  },
  "nodes": [
    {
      "id": "fa95d57a-f2b6-46ca-bb38-e28884c2e8c9",
      "name": "Pipedrive Trigger",
      "type": "n8n-nodes-base.pipedriveTrigger",
      "position": [
        -256,
        -32
      ],
      "webhookId": "ec33bea1-799e-4bd3-afdb-5d765a43e4da",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "80166a20-b905-4c1a-b651-8cda376f3d5c",
      "name": "Get a deal",
      "type": "n8n-nodes-base.pipedrive",
      "position": [
        192,
        -32
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "e64b0e87-3839-4d9c-9571-9ebd79fa6760",
      "name": "Get a person",
      "type": "n8n-nodes-base.pipedrive",
      "position": [
        -256,
        240
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "10a27d10-b9f3-4fe6-9dba-e1cb98eee13d",
      "name": "get personFields",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -32,
        240
      ],
      "parameters": {},
      "typeVersion": 4.2
    },
    {
      "id": "93fef903-0796-4a5b-a24e-a6903ff1c78d",
      "name": "Get client_id and consent_granted",
      "type": "n8n-nodes-base.code",
      "position": [
        192,
        240
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "6eeec802-400a-4ce1-acc5-d4ac0f352b76",
      "name": "If client_id exists and consent is given",
      "type": "n8n-nodes-base.if",
      "position": [
        416,
        256
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "76768652-f956-40ad-96bc-759c9d518d61",
      "name": "Construct GA4 object",
      "type": "n8n-nodes-base.code",
      "position": [
        656,
        352
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "57159bf5-56c3-464c-a557-9ee3bfb019d9",
      "name": "HTTP Request — Send GA4",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        880,
        464
      ],
      "parameters": {},
      "typeVersion": 4.2
    },
    {
      "id": "67d35252-ecac-44ba-b64a-5184f70c9e46",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        832,
        272
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "d05bd151-eb80-4500-b55e-607c68f9e831",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        608,
        272
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "ef28a480-bbdf-49c4-9b01-86b35f576401",
      "name": "Assign Variables",
      "type": "n8n-nodes-base.set",
      "position": [
        -32,
        -32
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "811509a0-b914-4359-ba1a-77e9ba9eaa20",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1088,
        -1232
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "1a75cd8d-67bf-40a4-880f-cb013a6c2c00",
      "name": "get stages for pipeline",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        400,
        -32
      ],
      "parameters": {},
      "typeVersion": 4.2
    },
    {
      "id": "5c9e0e84-08d0-4235-91a3-b99ab270415e",
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "position": [
        656,
        -32
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "c7eb606a-f314-4213-bbda-c30021abc5ce",
      "name": "Filter",
      "type": "n8n-nodes-base.filter",
      "position": [
        864,
        -32
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "922ae9a4-3aad-4289-8149-25f7823c7a76",
      "name": "If correct stage name",
      "type": "n8n-nodes-base.if",
      "position": [
        -512,
        256
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "45e70305-559b-4e6b-b251-a9b326ba6aa7",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -192,
        -768
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "Filter": {
      "main": [
        [
          {
            "node": "If correct stage name",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Filter",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get a deal": {
      "main": [
        [
          {
            "node": "get stages for pipeline",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get a person": {
      "main": [
        [
          {
            "node": "get personFields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Assign Variables": {
      "main": [
        [
          {
            "node": "Get a deal",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "get personFields": {
      "main": [
        [
          {
            "node": "Get client_id and consent_granted",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Pipedrive Trigger": {
      "main": [
        [
          {
            "node": "Assign Variables",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Construct GA4 object": {
      "main": [
        [
          {
            "node": "HTTP Request — Send GA4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If correct stage name": {
      "main": [
        [
          {
            "node": "Get a person",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "get stages for pipeline": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get client_id and consent_granted": {
      "main": [
        [
          {
            "node": "If client_id exists and consent is given",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If client_id exists and consent is given": {
      "main": [
        [
          {
            "node": "Construct GA4 object",
            "type": "main",
            "index": 0
          }
        ],
        []
      ]
    }
  }
}