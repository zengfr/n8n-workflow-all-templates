{
  "id": "EM0QTTFznYyf0QSN",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Automate B2B Lead Generation & Email Campaigns with Google Maps, SendGrid & AI",
    "wechat": "youandme10086",
    "id": 8269,
    "update_time": "2025-11-10"
  },
  "name": "Lead Gen & Email Workflows",
  "tags": [],
  "nodes": [
    {
      "id": "2fd0b4a5-3669-40a8-9ee1-777c664ce356",
      "name": "Limit",
      "type": "n8n-nodes-base.limit",
      "position": [
        -2272,
        704
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "64820d90-a98c-4142-af44-223f4de4242c",
      "name": "On form submission",
      "type": "n8n-nodes-base.formTrigger",
      "position": [
        -3152,
        704
      ],
      "webhookId": "2800ca7a-990c-4ce5-a7cd-b40d50f69158",
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "df9bcab8-511d-436b-be5d-94dafa9226f2",
      "name": "Run an Actor",
      "type": "@apify/n8n-nodes-apify.apify",
      "position": [
        -2928,
        704
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "66e4f990-955b-419d-adca-47a1b3afe4f6",
      "name": "Get dataset items",
      "type": "@apify/n8n-nodes-apify.apify",
      "position": [
        -2720,
        704
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "ad6fad7e-5640-4db6-bd5e-911fd981527f",
      "name": "Grab Desired Fields",
      "type": "n8n-nodes-base.set",
      "position": [
        -2496,
        704
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "0aca20f4-e228-4408-92ee-7d0d3f1c56fe",
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        -2048,
        704
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "1732e862-4f21-4f7d-9d76-80939abe1918",
      "name": "Markdown",
      "type": "n8n-nodes-base.markdown",
      "onError": "continueRegularOutput",
      "position": [
        -944,
        640
      ],
      "parameters": {},
      "typeVersion": 1,
      "alwaysOutputData": true
    },
    {
      "id": "ed026ba6-e6a9-4509-b5d5-2cada7816205",
      "name": "Loop Over Items1",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        -1840,
        288
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "62d99dfb-c405-428d-884d-d380b15025e3",
      "name": "Wait1",
      "type": "n8n-nodes-base.wait",
      "position": [
        -1392,
        208
      ],
      "webhookId": "f0d05b18-eeb4-471d-8abc-55b1d39f33bb",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "edc29b48-f1d4-4cce-8db6-af32c21e46a3",
      "name": "Merge",
      "type": "n8n-nodes-base.merge",
      "position": [
        -512,
        784
      ],
      "parameters": {},
      "typeVersion": 3.2
    },
    {
      "id": "0ba9bc6d-0cf5-4b30-a9aa-1b2bcc627368",
      "name": "Grab Desired Fields1",
      "type": "n8n-nodes-base.set",
      "position": [
        -1392,
        16
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "f11049d1-1229-4377-9bc5-cd008d240b58",
      "name": "Merge1",
      "type": "n8n-nodes-base.merge",
      "position": [
        -1168,
        368
      ],
      "parameters": {},
      "typeVersion": 3.2
    },
    {
      "id": "22402e15-dbd7-4c08-af5b-fcfb9ea4c366",
      "name": "Parse url/website",
      "type": "n8n-nodes-base.set",
      "position": [
        -1840,
        640
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "6ebefc88-af4a-4c1c-b7ad-fd76fbf6076a",
      "name": "Remove Query Parameters & Fragments",
      "type": "n8n-nodes-base.code",
      "position": [
        -1600,
        640
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "bcd5f413-5d23-4458-8c72-6b769a067967",
      "name": "User-Agents",
      "type": "n8n-nodes-base.set",
      "position": [
        -1392,
        640
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "0befe2e7-390c-4e1e-8ab8-144c977d7c8e",
      "name": "Website Scraping",
      "type": "n8n-nodes-base.httpRequest",
      "onError": "continueRegularOutput",
      "position": [
        -1168,
        640
      ],
      "parameters": {},
      "typeVersion": 4.2,
      "alwaysOutputData": true
    },
    {
      "id": "461a51c4-2a81-47a6-a69a-e37ffc00f195",
      "name": "Random Wait",
      "type": "n8n-nodes-base.wait",
      "position": [
        -720,
        640
      ],
      "webhookId": "cb8b9ecd-52e5-4e9a-b21f-34a0a859376f",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "de404fe3-f15c-4efe-8b86-eb2bb0accac7",
      "name": "Extract Email Address",
      "type": "n8n-nodes-base.code",
      "onError": "continueRegularOutput",
      "position": [
        -1600,
        208
      ],
      "parameters": {},
      "typeVersion": 2,
      "alwaysOutputData": true
    },
    {
      "id": "34e57482-e577-4ba1-888e-ab35d0d2fd6e",
      "name": "Filter Leads with Email only",
      "type": "n8n-nodes-base.filter",
      "position": [
        -1600,
        16
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "9ee69bff-d532-4b74-8cc4-5629e7e45cec",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -3248,
        608
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "73c27ebe-493d-468e-959e-938ea698fddf",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2960,
        608
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "6dff4273-9f48-484c-9f26-4ab9b5d7f14e",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2112,
        576
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "eb2f8ebe-759f-4f72-a79c-3cab853cf6ae",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2112,
        192
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "a39d05ed-9205-4ded-9fe0-8b6ece5dcaaa",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1712,
        -96
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "401429cb-ed67-4768-a32a-ee9483910d5b",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -3296,
        16
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "dcd0a1f1-893c-4975-9ff5-6eddccb9b9eb",
      "name": "Append row in sheet",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -1200,
        16
      ],
      "parameters": {},
      "typeVersion": 4.7
    },
    {
      "id": "695700bf-ddbf-4545-9705-e35dffdcefaf",
      "name": "When clicking âExecute workflowâ",
      "type": "n8n-nodes-base.manualTrigger",
      "position": [
        -3168,
        2064
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "9eed3f4d-da12-4edb-befc-396dff0e3d8a",
      "name": "Wait",
      "type": "n8n-nodes-base.wait",
      "position": [
        -928,
        1888
      ],
      "webhookId": "d3b4b9bc-5b12-4168-bdf2-77c3703d3ed0",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "c9361c01-50e2-481d-925d-b25c2f6fea90",
      "name": "No Operation, do nothing",
      "type": "n8n-nodes-base.noOp",
      "position": [
        -2496,
        2128
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "c52fd0f3-fe11-4295-b889-c6d4658f7463",
      "name": "Parse Email Template from DB",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -2048,
        1952
      ],
      "parameters": {},
      "typeVersion": 4.6
    },
    {
      "id": "547c41c9-c932-4b2f-bb35-b57f33a6a36f",
      "name": "Pick a random template",
      "type": "n8n-nodes-base.code",
      "position": [
        -1824,
        1952
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "ccb83d5a-1414-43d7-b029-ab1ac93c8bcf",
      "name": "Send an email",
      "type": "n8n-nodes-base.sendGrid",
      "onError": "continueRegularOutput",
      "position": [
        -1152,
        1840
      ],
      "parameters": {},
      "typeVersion": 1,
      "alwaysOutputData": true
    },
    {
      "id": "4dc36551-a079-4bb9-9d2d-5229afd103c7",
      "name": "Fix Variables",
      "type": "n8n-nodes-base.set",
      "position": [
        -1376,
        1840
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "0c8a807d-b6a7-4e4a-8306-17e5b456c048",
      "name": "Get Leads",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -2944,
        2064
      ],
      "parameters": {},
      "typeVersion": 4.6
    },
    {
      "id": "d827eac3-48fe-42e3-b7ae-167633ac5dc3",
      "name": "Email Not Sent (Not Delivered)",
      "type": "n8n-nodes-base.if",
      "position": [
        -2720,
        2064
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "c34f028b-83d4-4c7d-99e7-fa9ac56f5c29",
      "name": "Loop Over Items2",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        -2272,
        1936
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "1540bd88-5636-4123-9e82-247a75532d45",
      "name": "Merge2",
      "type": "n8n-nodes-base.merge",
      "position": [
        -1600,
        1840
      ],
      "parameters": {},
      "typeVersion": 3.2,
      "alwaysOutputData": false
    },
    {
      "id": "33331ffb-decd-46aa-abbd-99a7ccfb71f1",
      "name": "Limit1",
      "type": "n8n-nodes-base.limit",
      "position": [
        -2496,
        1936
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "9cadf04e-ff6b-4463-aabc-53519273f53e",
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2800,
        1936
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "9172e3e6-b370-4050-989a-20944cbd019a",
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1344,
        1360
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "0e9a3224-ab3b-4b43-a066-b5cf73fb0676",
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -3248,
        1152
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "09fca021-3479-4b7b-a215-16eb47196b15",
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "position": [
        -3200,
        3120
      ],
      "webhookId": "65e9621b-fd9c-4375-a591-8b1879431793",
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "c0385f7d-aff4-48a6-8e91-9deda0c1fd42",
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "position": [
        -2976,
        3120
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "f6603eb3-32ac-4870-aa41-29b37a55b7c3",
      "name": "Switch",
      "type": "n8n-nodes-base.switch",
      "position": [
        -2528,
        3104
      ],
      "parameters": {},
      "typeVersion": 3.2
    },
    {
      "id": "11a61370-f598-426c-a34a-74ba939cdb24",
      "name": "Original DB Update",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -1632,
        2544
      ],
      "parameters": {},
      "typeVersion": 4.6
    },
    {
      "id": "2ac6a17b-d669-41b3-ba16-25e807f05113",
      "name": "Follow-Up 1 DB Update",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -1632,
        2736
      ],
      "parameters": {},
      "typeVersion": 4.6
    },
    {
      "id": "d14f2886-c724-4192-9b80-7dd98c074a32",
      "name": "Follow-Up 2 DB Update",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -1632,
        2928
      ],
      "parameters": {},
      "typeVersion": 4.6
    },
    {
      "id": "7d60950e-d04e-44fb-8785-baafa0397691",
      "name": "Classify Events",
      "type": "n8n-nodes-base.code",
      "position": [
        -2752,
        3120
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "b6b9cef5-cd6c-47f5-962d-9d6411a3d122",
      "name": "Route Email Stages",
      "type": "n8n-nodes-base.switch",
      "position": [
        -1856,
        2720
      ],
      "parameters": {},
      "typeVersion": 3.2
    },
    {
      "id": "c0066d79-dcc6-4435-831a-21ca055e1bac",
      "name": "Get row(s) in sheet",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -2304,
        3216
      ],
      "parameters": {},
      "typeVersion": 4.6
    },
    {
      "id": "98a93a26-860f-4cde-b350-0ff042ea67ee",
      "name": "Classify Engagements",
      "type": "n8n-nodes-base.code",
      "position": [
        -1840,
        3216
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "db18e19e-601a-4936-be43-b738ec1ffe38",
      "name": "Matching field",
      "type": "n8n-nodes-base.set",
      "position": [
        -2304,
        3024
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "f992f910-cc0a-4808-8437-2b8c65b1814e",
      "name": "Prioritize DELIVERED first",
      "type": "n8n-nodes-base.code",
      "position": [
        -2304,
        2736
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "9142fcf4-273d-42ac-8f1d-52abc284560f",
      "name": "Update DB",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -1408,
        3120
      ],
      "parameters": {},
      "typeVersion": 4.6
    },
    {
      "id": "8ed5994c-aaf2-455c-bd74-587866afa5bc",
      "name": "Wait2",
      "type": "n8n-nodes-base.wait",
      "position": [
        -2080,
        2736
      ],
      "webhookId": "e4046b81-4811-4c41-b167-05b5038ce0df",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "b47e8609-79e4-4fdf-9e04-9a0360bfeb12",
      "name": "No Operation, do nothing1",
      "type": "n8n-nodes-base.noOp",
      "position": [
        -2304,
        3408
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "fe9d963b-0966-40ce-810f-f9643e3b6af1",
      "name": "Wait3",
      "type": "n8n-nodes-base.wait",
      "position": [
        -1600,
        3120
      ],
      "webhookId": "c1ea4832-3aa6-4200-bb1c-5acc107c0034",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "2139156a-cda8-47a8-ad4a-49fc1f91746f",
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -3232,
        3040
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "dddd3dad-f9f2-407c-8a22-5059d505cd36",
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2784,
        3040
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "2c301dae-105e-4470-9114-b2e131a02dae",
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2352,
        2640
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "ed4f8604-3776-48fa-9916-a013b067b40a",
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2352,
        2928
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "d376974b-09b5-4875-9a7f-cb8e0dbbd607",
      "name": "Sticky Note13",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1888,
        2480
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "93850c05-d550-476c-adc4-19bb7fa937fe",
      "name": "Merge3",
      "type": "n8n-nodes-base.merge",
      "position": [
        -2080,
        3120
      ],
      "parameters": {},
      "typeVersion": 3.2
    },
    {
      "id": "91f714ba-2d06-4678-bc18-cf61e5e502ef",
      "name": "Sticky Note14",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1968,
        3088
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "7506b68e-b4fa-499c-aff5-74e0010d6b30",
      "name": "Edit Fields",
      "type": "n8n-nodes-base.set",
      "position": [
        2480,
        848
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "f09286da-7b08-415a-ae99-40407cebecdb",
      "name": "Extract ID",
      "type": "n8n-nodes-base.code",
      "position": [
        2256,
        784
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "b7a7a257-132b-4d96-ae16-2bd836815ae3",
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        1136,
        784
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "1e193a14-e32c-47d7-84f8-dfc04590a51b",
      "name": "Parse items with Extract ID only",
      "type": "n8n-nodes-base.filter",
      "position": [
        2256,
        432
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "4aeb912c-258d-4bcc-8bba-069dbadd5420",
      "name": "Original Email",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        2704,
        240
      ],
      "parameters": {},
      "typeVersion": 4.6
    },
    {
      "id": "194df532-1502-46ac-87c6-58c0286341b5",
      "name": "1st Follow-Up Email",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        2704,
        432
      ],
      "parameters": {},
      "typeVersion": 4.6
    },
    {
      "id": "ae271664-af7c-4133-bfa9-958ba257f7a6",
      "name": "2nd Follow-Up Email",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        2704,
        624
      ],
      "parameters": {},
      "typeVersion": 4.6
    },
    {
      "id": "d33595bc-b41f-4709-a0f1-164e1c5f8d1b",
      "name": "Email reply only",
      "type": "n8n-nodes-base.filter",
      "position": [
        1584,
        608
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "7a883ead-5c43-48e2-a8e2-0059f0d3d273",
      "name": "Get Reply_Message_Id",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        1584,
        800
      ],
      "parameters": {},
      "typeVersion": 4.6
    },
    {
      "id": "1deaa79c-9325-4bf2-957f-2991de1c8f44",
      "name": "Extract unprocessed emails",
      "type": "n8n-nodes-base.merge",
      "position": [
        1808,
        784
      ],
      "parameters": {},
      "typeVersion": 3.2
    },
    {
      "id": "ecba28e5-3a83-4899-9ac8-9fe2795d528f",
      "name": "Update Email Workflow DB",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        2480,
        224
      ],
      "parameters": {},
      "typeVersion": 4.6
    },
    {
      "id": "420c11b5-198b-406c-8473-15cf832fd8e2",
      "name": "Update Processed Gmail IDs DB",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        2480,
        640
      ],
      "parameters": {},
      "typeVersion": 4.6
    },
    {
      "id": "a32df645-700f-45c3-ad6c-206023d71f7f",
      "name": "Get many messages (20)",
      "type": "n8n-nodes-base.gmail",
      "position": [
        1360,
        608
      ],
      "webhookId": "51886f17-13f1-4c7c-8f06-0baadf655e64",
      "parameters": {},
      "typeVersion": 2.1
    },
    {
      "id": "9538ee34-9184-4905-a774-0aeb51a474a5",
      "name": "Loop Over Items3",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        2032,
        784
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "9b5524a9-041e-48d8-915b-8fe7dd2dcb46",
      "name": "Switch1",
      "type": "n8n-nodes-base.switch",
      "position": [
        2480,
        416
      ],
      "parameters": {},
      "typeVersion": 3.2
    },
    {
      "id": "7627b0ff-40f8-40a3-8823-1569a9657205",
      "name": "Sticky Note15",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1120,
        176
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "9ca035fa-9bf2-4d29-b372-33b889ddd5ab",
      "name": "Sticky Note16",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1504,
        784
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "362b50c2-b4c5-4724-a915-ccafc7fbe2d9",
      "name": "Sticky Note17",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2400,
        624
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "a2e1412a-e1d6-4b8d-ab06-7469d034b0f1",
      "name": "Sticky Note18",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2400,
        208
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "aec50117-28a4-4714-965b-590ea4ab09f4",
      "name": "Sticky Note19",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2640,
        208
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "4c079161-dacb-4f9e-9b2d-fab9b4e08a94",
      "name": "Update DB1",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        3056,
        2032
      ],
      "parameters": {},
      "typeVersion": 4.6
    },
    {
      "id": "b8d11eed-df16-4957-a417-2a77028bea2e",
      "name": "Update DB2",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        3056,
        2224
      ],
      "parameters": {},
      "typeVersion": 4.6
    },
    {
      "id": "853debd9-196e-415c-828e-1d917f39e824",
      "name": "Send a message",
      "type": "n8n-nodes-base.gmail",
      "position": [
        3280,
        1456
      ],
      "webhookId": "58b86020-4a66-442c-b4f4-df84b10792f6",
      "parameters": {},
      "typeVersion": 2.1
    },
    {
      "id": "85240fde-6418-4c2e-ae2e-ee2a2c7dd9c3",
      "name": "Forward Emails (Sales Dept)",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        2832,
        1456
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "49c304c9-b2b7-4dcd-8628-58c39a7bc8a1",
      "name": "Email Structure",
      "type": "n8n-nodes-base.code",
      "position": [
        3056,
        1424
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "c1b0db8b-05a8-4421-9ab3-95c2f602cc5f",
      "name": "Update DB3",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        3280,
        1744
      ],
      "parameters": {},
      "typeVersion": 4.6
    },
    {
      "id": "686cb112-0b63-42c5-9332-d323d72da761",
      "name": "Label Interested",
      "type": "n8n-nodes-base.gmail",
      "position": [
        2832,
        1232
      ],
      "webhookId": "cad71aa4-9e88-49bb-9ecb-1475fed03c9d",
      "parameters": {},
      "typeVersion": 2.1
    },
    {
      "id": "ca65de03-70a0-4df6-a231-80f618768fac",
      "name": "Label Not Interested",
      "type": "n8n-nodes-base.gmail",
      "position": [
        2832,
        2032
      ],
      "webhookId": "6d859133-9bec-4240-993c-4f577e815dbb",
      "parameters": {},
      "typeVersion": 2.1
    },
    {
      "id": "21d59868-cbe6-4ab1-9afe-6f59843a2b56",
      "name": "Label Misc",
      "type": "n8n-nodes-base.gmail",
      "position": [
        2832,
        2224
      ],
      "webhookId": "ba2e2f21-91dc-4828-b844-1c18513b2ed1",
      "parameters": {},
      "typeVersion": 2.1
    },
    {
      "id": "2d5cc942-8ea0-4afa-8d46-16c099b3f6e0",
      "name": "Leads Converted",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        2832,
        1744
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "8bafe8c1-4eae-437b-925a-d46aa6a7029f",
      "name": "Create email labels",
      "type": "@n8n/n8n-nodes-langchain.textClassifier",
      "position": [
        2480,
        1664
      ],
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "c59a59c9-c714-4c74-a570-c20800b8a080",
      "name": "Get Route_Message_Id",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        1584,
        2080
      ],
      "parameters": {},
      "executeOnce": false,
      "typeVersion": 4.6
    },
    {
      "id": "4a6956d5-67a8-488f-a298-19921ece53be",
      "name": "Only Emails with ID",
      "type": "n8n-nodes-base.if",
      "position": [
        2256,
        1984
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "35dac09b-8ce3-4de8-9401-2580d992b32a",
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        2528,
        1936
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "7dee02ff-f72d-40f5-8bd7-16ee9cdf1c35",
      "name": "Schedule Trigger1",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        1136,
        1984
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "369e5b61-c009-46f3-8f51-6b270e5713d1",
      "name": "Update DB4",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        3056,
        1232
      ],
      "parameters": {},
      "typeVersion": 4.6
    },
    {
      "id": "e2f5fed0-f435-48a6-9930-cecf7e99d387",
      "name": "Extract ID1",
      "type": "n8n-nodes-base.code",
      "position": [
        2032,
        1984
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "e561c2d9-b02f-498c-ba3d-75dee9410919",
      "name": "Edit Fields1",
      "type": "n8n-nodes-base.set",
      "position": [
        3056,
        1712
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "fc3046be-e7ae-489e-ae7c-51f7ed84423c",
      "name": "Email reply only1",
      "type": "n8n-nodes-base.filter",
      "position": [
        1584,
        1888
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "caece68f-a2c5-47ea-8d0d-511c764e7b23",
      "name": "Sticky Note20",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1104,
        1264
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "68364e95-f649-4728-851f-ded76a725645",
      "name": "Sticky Note21",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1280,
        1712
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "0588ad81-db2c-48cc-8b3b-4b72dc1828c1",
      "name": "Sticky Note22",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        3296,
        1232
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "b194cdc3-cc55-465b-9237-983c4c0a4df6",
      "name": "Sticky Note23",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        3456,
        1488
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "dacc6bd8-a1f8-44c7-91e3-848720c5ff92",
      "name": "Sticky Note24",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        3488,
        1760
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "bb520704-c198-49e8-8f36-32caa2940afd",
      "name": "Sticky Note25",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2432,
        1504
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "7e02acb5-69c5-494a-a588-296007675840",
      "name": "Extract unprocessed emails1",
      "type": "n8n-nodes-base.merge",
      "position": [
        1808,
        1984
      ],
      "parameters": {},
      "typeVersion": 3.2
    },
    {
      "id": "0e7cbe0b-e8cd-46c8-8638-2fe1d06c9fb1",
      "name": "No Operation, do nothing2",
      "type": "n8n-nodes-base.noOp",
      "position": [
        2544,
        2144
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "aed82a61-8343-4607-9f0a-0a3fe5f940e9",
      "name": "Sticky Note26",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1984,
        1792
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "7677df6d-3f7b-4ef0-aef1-c260c69f8a74",
      "name": "Get many messages (20)1",
      "type": "n8n-nodes-base.gmail",
      "position": [
        1360,
        1888
      ],
      "webhookId": "dc1cd3a9-4eb7-4b5a-9074-39a2a3ca9605",
      "parameters": {},
      "typeVersion": 2.1
    },
    {
      "id": "9330576a-d279-4c73-b005-5fbe7e9d684a",
      "name": "Grab Lead from DB",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        1344,
        3216
      ],
      "parameters": {},
      "typeVersion": 4.6
    },
    {
      "id": "a79b7bb1-5388-4e77-af4c-e5dc652d9c5d",
      "name": "Pick a random template1",
      "type": "n8n-nodes-base.code",
      "position": [
        2688,
        3232
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "12227454-3276-4f2e-b4c2-78d4b06ff72b",
      "name": "No Operation, do nothing3",
      "type": "n8n-nodes-base.noOp",
      "position": [
        2016,
        3216
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "62a7eeb2-8de8-4e89-ab71-3fcacaab7cd5",
      "name": "Email Opened Or Clicked",
      "type": "n8n-nodes-base.if",
      "position": [
        1792,
        3120
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "c9463d27-6e4a-4174-8806-300797082ec2",
      "name": "Email Delivered But No Replied",
      "type": "n8n-nodes-base.if",
      "position": [
        1568,
        3216
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "5ee36c90-1ad6-4192-8368-03635b32f5e5",
      "name": "5 Days & 10 Days Route",
      "type": "n8n-nodes-base.switch",
      "position": [
        2016,
        3024
      ],
      "parameters": {},
      "typeVersion": 3.2,
      "alwaysOutputData": false
    },
    {
      "id": "ed5b38ed-b5e9-4d64-a6ac-a6343326d7a4",
      "name": "Personalize Email",
      "type": "n8n-nodes-base.set",
      "position": [
        3136,
        2752
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "536978c3-6a63-48e8-b11a-9f6915af8c9f",
      "name": "Personalize Email1",
      "type": "n8n-nodes-base.set",
      "position": [
        3136,
        3168
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "b7198631-34f8-4cf3-8d37-c04090d8990c",
      "name": "Send an email1",
      "type": "n8n-nodes-base.sendGrid",
      "position": [
        3360,
        3168
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "c6c75482-0de8-47c5-af64-344ded4463ad",
      "name": "Get Follow-Up Email Template from DB",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        2464,
        2832
      ],
      "parameters": {},
      "typeVersion": 4.6
    },
    {
      "id": "efaf932e-8d53-4630-ab20-665acb16fca5",
      "name": "Get 2nd Follow-Up Email Template From DB",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        2464,
        3232
      ],
      "parameters": {},
      "typeVersion": 4.6
    },
    {
      "id": "fe066b10-5b64-45a2-bfc8-5d29437c2802",
      "name": "Loop Over Items4",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        2240,
        2752
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "86cf1851-149b-41f9-b29e-457a7fd02ccf",
      "name": "Merge4",
      "type": "n8n-nodes-base.merge",
      "position": [
        2912,
        2752
      ],
      "parameters": {},
      "typeVersion": 3.2,
      "alwaysOutputData": false
    },
    {
      "id": "291d7939-e36d-49fc-8e39-dd32353b3826",
      "name": "Wait4",
      "type": "n8n-nodes-base.wait",
      "position": [
        3584,
        2784
      ],
      "webhookId": "9aecf7f1-0661-4517-9905-8b5c8b1ed6ea",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "773b8728-4df2-4dda-b236-80306f01c1b3",
      "name": "Pick a random template2",
      "type": "n8n-nodes-base.code",
      "position": [
        2688,
        2832
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "e09a6eb3-aac5-4e65-94cd-7730008001c9",
      "name": "Schedule Trigger2",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        1120,
        3216
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "5ba799bd-8ffa-4f2c-bdf1-8cc3ee2a13c3",
      "name": "Loop Over Items5",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        2240,
        3168
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "2dad28dd-1a4b-4db4-be9b-c745f933b920",
      "name": "Merge5",
      "type": "n8n-nodes-base.merge",
      "position": [
        2912,
        3168
      ],
      "parameters": {},
      "typeVersion": 3.2,
      "alwaysOutputData": false
    },
    {
      "id": "ced6d2ee-83c8-4efc-8f7d-ffad34d57d9f",
      "name": "Wait5",
      "type": "n8n-nodes-base.wait",
      "position": [
        3584,
        3216
      ],
      "webhookId": "276be2e8-df6c-48a0-899a-510dd0dd47e2",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "5f402278-0102-422a-bea3-c6f07d473ffc",
      "name": "No Operation, do nothing4",
      "type": "n8n-nodes-base.noOp",
      "position": [
        1792,
        3312
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "2050b1d9-9aeb-4fe7-81d5-0f3014a85b06",
      "name": "Send an email2",
      "type": "n8n-nodes-base.sendGrid",
      "position": [
        3360,
        2752
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "88eadf6a-c550-4973-a104-761fa4e6b005",
      "name": "Sticky Note27",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1104,
        2640
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "65274324-ccfb-4a64-b31a-ee77383127eb",
      "name": "Sticky Note28",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -4064,
        80
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "cb84ae48-0583-4ebb-97b5-55bca8448537",
      "name": "Sticky Note29",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -4032,
        1344
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "97ce645c-6cfa-46dd-8ca1-6ba2237aa120",
      "name": "Sticky Note30",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -4016,
        2880
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "e1184491-ee85-4499-81e0-9c7930608b0b",
      "name": "Sticky Note31",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        320,
        320
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "4960f0d2-a956-4068-a82e-322d66b1394d",
      "name": "Sticky Note32",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        304,
        1616
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "b5346a1b-dcc2-4cf0-9b99-946d9125ba64",
      "name": "Sticky Note33",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        320,
        2752
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "cf6fa9f1-0347-4a01-ac53-f0378b17c73c",
  "connections": {
    "Wait": {
      "main": [
        [
          {
            "node": "Loop Over Items2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Limit": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait1": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait2": {
      "main": [
        [
          {
            "node": "Route Email Stages",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait3": {
      "main": [
        [
          {
            "node": "Update DB",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait4": {
      "main": [
        [
          {
            "node": "Loop Over Items4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait5": {
      "main": [
        [
          {
            "node": "Loop Over Items5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Limit1": {
      "main": [
        [
          {
            "node": "Loop Over Items2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge1": {
      "main": [
        [
          {
            "node": "Loop Over Items1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge2": {
      "main": [
        [
          {
            "node": "Fix Variables",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge3": {
      "main": [
        [
          {
            "node": "Classify Engagements",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge4": {
      "main": [
        [
          {
            "node": "Personalize Email",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge5": {
      "main": [
        [
          {
            "node": "Personalize Email1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch": {
      "main": [
        [
          {
            "node": "Prioritize DELIVERED first",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get row(s) in sheet",
            "type": "main",
            "index": 0
          },
          {
            "node": "Matching field",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch1": {
      "main": [
        [
          {
            "node": "Original Email",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "1st Follow-Up Email",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "2nd Follow-Up Email",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Markdown": {
      "main": [
        [
          {
            "node": "Random Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Leads": {
      "main": [
        [
          {
            "node": "Email Not Sent (Not Delivered)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Classify Events",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract ID": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Label Misc": {
      "main": [
        [
          {
            "node": "Update DB2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update DB3": {
      "main": [
        [
          {
            "node": "Leads Converted",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "Loop Over Items3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract ID1": {
      "main": [
        [
          {
            "node": "Only Emails with ID",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Random Wait": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "User-Agents": {
      "main": [
        [
          {
            "node": "Website Scraping",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields1": {
      "main": [
        [
          {
            "node": "Update DB3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Run an Actor": {
      "main": [
        [
          {
            "node": "Get dataset items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Fix Variables": {
      "main": [
        [
          {
            "node": "Send an email",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send an email": {
      "main": [
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Matching field": {
      "main": [
        [
          {
            "node": "Merge3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a message": {
      "main": [
        [
          {
            "node": "Forward Emails (Sales Dept)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send an email1": {
      "main": [
        [
          {
            "node": "Wait5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send an email2": {
      "main": [
        [
          {
            "node": "Wait4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Classify Events": {
      "main": [
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Email Structure": {
      "main": [
        [
          {
            "node": "Send a message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Leads Converted": {
      "main": [
        [],
        [
          {
            "node": "Edit Fields1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [
          {
            "node": "Loop Over Items1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Parse url/website",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Email reply only": {
      "main": [
        [
          {
            "node": "Extract unprocessed emails",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Label Interested": {
      "main": [
        [
          {
            "node": "Update DB4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items1": {
      "main": [
        [
          {
            "node": "Filter Leads with Email only",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Extract Email Address",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge1",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Loop Over Items2": {
      "main": [
        [],
        [
          {
            "node": "Parse Email Template from DB",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items3": {
      "main": [
        [
          {
            "node": "Parse items with Extract ID only",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Extract ID",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items4": {
      "main": [
        [],
        [
          {
            "node": "Get Follow-Up Email Template from DB",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items5": {
      "main": [
        [],
        [
          {
            "node": "Get 2nd Follow-Up Email Template From DB",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Get many messages (20)",
            "type": "main",
            "index": 0
          },
          {
            "node": "Get Reply_Message_Id",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Website Scraping": {
      "main": [
        [
          {
            "node": "Markdown",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Email reply only1": {
      "main": [
        [
          {
            "node": "Extract unprocessed emails1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get dataset items": {
      "main": [
        [
          {
            "node": "Grab Desired Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Grab Lead from DB": {
      "main": [
        [
          {
            "node": "Email Delivered But No Replied",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Create email labels",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Parse url/website": {
      "main": [
        [
          {
            "node": "Remove Query Parameters & Fragments",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Personalize Email": {
      "main": [
        [
          {
            "node": "Send an email2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger1": {
      "main": [
        [
          {
            "node": "Get many messages (20)1",
            "type": "main",
            "index": 0
          },
          {
            "node": "Get Route_Message_Id",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger2": {
      "main": [
        [
          {
            "node": "Grab Lead from DB",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "On form submission": {
      "main": [
        [
          {
            "node": "Run an Actor",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Personalize Email1": {
      "main": [
        [
          {
            "node": "Send an email1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Route Email Stages": {
      "main": [
        [
          {
            "node": "Original DB Update",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Follow-Up 1 DB Update",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Follow-Up 2 DB Update",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create email labels": {
      "main": [
        [
          {
            "node": "Label Interested",
            "type": "main",
            "index": 0
          },
          {
            "node": "Forward Emails (Sales Dept)",
            "type": "main",
            "index": 0
          },
          {
            "node": "Leads Converted",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Label Not Interested",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Label Misc",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet": {
      "main": [
        [
          {
            "node": "Merge3",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Grab Desired Fields": {
      "main": [
        [
          {
            "node": "Limit",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Only Emails with ID": {
      "main": [
        [
          {
            "node": "Create email labels",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Classify Engagements": {
      "main": [
        [
          {
            "node": "Wait3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Reply_Message_Id": {
      "main": [
        [
          {
            "node": "Extract unprocessed emails",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Get Route_Message_Id": {
      "main": [
        [
          {
            "node": "Extract unprocessed emails1",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Grab Desired Fields1": {
      "main": [
        [
          {
            "node": "Append row in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Label Not Interested": {
      "main": [
        [
          {
            "node": "Update DB1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract Email Address": {
      "main": [
        [
          {
            "node": "Wait1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "5 Days & 10 Days Route": {
      "main": [
        [
          {
            "node": "Loop Over Items4",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Loop Over Items5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get many messages (20)": {
      "main": [
        [
          {
            "node": "Email reply only",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Pick a random template": {
      "main": [
        [
          {
            "node": "Merge2",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Email Opened Or Clicked": {
      "main": [
        [
          {
            "node": "5 Days & 10 Days Route",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get many messages (20)1": {
      "main": [
        [
          {
            "node": "Email reply only1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Pick a random template1": {
      "main": [
        [
          {
            "node": "Merge5",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Pick a random template2": {
      "main": [
        [
          {
            "node": "Merge4",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Extract unprocessed emails": {
      "main": [
        [
          {
            "node": "Loop Over Items3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Prioritize DELIVERED first": {
      "main": [
        [
          {
            "node": "Wait2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract unprocessed emails1": {
      "main": [
        [
          {
            "node": "Extract ID1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Forward Emails (Sales Dept)": {
      "main": [
        [],
        [
          {
            "node": "Email Structure",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter Leads with Email only": {
      "main": [
        [
          {
            "node": "Grab Desired Fields1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse Email Template from DB": {
      "main": [
        [
          {
            "node": "Pick a random template",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Email Delivered But No Replied": {
      "main": [
        [
          {
            "node": "Email Opened Or Clicked",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Email Not Sent (Not Delivered)": {
      "main": [
        [
          {
            "node": "Limit1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse items with Extract ID only": {
      "main": [
        [
          {
            "node": "Update Email Workflow DB",
            "type": "main",
            "index": 0
          },
          {
            "node": "Switch1",
            "type": "main",
            "index": 0
          },
          {
            "node": "Update Processed Gmail IDs DB",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Remove Query Parameters & Fragments": {
      "main": [
        [
          {
            "node": "User-Agents",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Follow-Up Email Template from DB": {
      "main": [
        [
          {
            "node": "Pick a random template2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get 2nd Follow-Up Email Template From DB": {
      "main": [
        [
          {
            "node": "Pick a random template1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When clicking âExecute workflowâ": {
      "main": [
        [
          {
            "node": "Get Leads",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}