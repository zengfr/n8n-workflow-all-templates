{
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Cryptocurrency Dip Alerts for Bitcoin & Ethereum via Telegram, Slack & SMS",
    "wechat": "youandme10086",
    "id": 8386,
    "update_time": "2025-11-10"
  },
  "nodes": [
    {
      "id": "951eaf83-d275-4236-8811-a718d480f0d6",
      "name": "Every 30 Minutes",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        0,
        0
      ],
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "minutes"
            }
          ]
        }
      },
      "typeVersion": 1.1
    },
    {
      "id": "d67348c4-bc2d-4509-a59f-c4bfcc021ffa",
      "name": "Get Crypto Prices",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        208,
        0
      ],
      "parameters": {
        "url": "https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=usd&include_24hr_change=true",
        "options": {}
      },
      "typeVersion": 4.1
    },
    {
      "id": "ab4554ee-10d4-473c-8643-a01700417acd",
      "name": "Dip Check",
      "type": "n8n-nodes-base.code",
      "position": [
        400,
        0
      ],
      "parameters": {
        "jsCode": "const DIP=-2.5; // alert if 24h drop is <= -2.5%\nconst j=$json; const btc=Number(j.bitcoin?.usd_24h_change), eth=Number(j.ethereum?.usd_24h_change);\nreturn [{json:{\n  dip: (isFinite(btc)&&btc<=DIP) || (isFinite(eth)&&eth<=DIP),\n  text:`Dip Alert â€” BTC ${btc?.toFixed?.(2)}%, ETH ${eth?.toFixed?.(2)}%`\n}}];"
      },
      "typeVersion": 2
    },
    {
      "id": "8000fbce-7429-4b80-8db3-02d1bbf9af7a",
      "name": "Is Dip?",
      "type": "n8n-nodes-base.if",
      "position": [
        592,
        0
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 1,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "8381a709-5104-40bc-bf81-b4c37dcce05c",
              "operator": {
                "name": "filter.operator.equals",
                "type": "string",
                "operation": "equals"
              },
              "leftValue": "",
              "rightValue": ""
            }
          ]
        }
      },
      "typeVersion": 2
    },
    {
      "id": "7b1d6277-0f79-408c-b584-e0009ecf7682",
      "name": "Send Telegram",
      "type": "n8n-nodes-base.telegram",
      "position": [
        944,
        96
      ],
      "webhookId": "ee6fdc04-32a4-4f7f-925b-c4c4939d2e2c",
      "parameters": {
        "text": "={{ $json.text }}\n_Not financial advice._",
        "chatId": "@your_channel_or_chatid",
        "additionalFields": {}
      },
      "credentials": {
        "telegramApi": {
          "id": "z5KZFRpyGmxhASqz",
          "name": "zmeena2"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "5db76eac-660a-4610-b8ad-11d0b386f8c6",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -464,
        -176
      ],
      "parameters": {
        "width": 640,
        "height": 496,
        "content": "## ðŸ“‰ Buy the Dip Alert (Telegram/Slack/SMS)\n\n**What it does:**  \nSends an alert when **BTC/ETH** 24h change falls below your dip threshold (default: **â€“2.5%**). Helps you catch big red days without watching charts all day.\n\n**Trigger:**  \nEvery **30 minutes** (adjust cron as needed).\n\n**Nodes:**  \nSchedule â†’ CoinGecko â†’ **Code (check dip %)** â†’ IF â†’ **Telegram/Slack/Twilio**\n\n**How to customize:**  \n- Change `DIP` value in **Code node** (default: `-2.5`).  \n- Pick your delivery channel (Telegram DM/channel, Slack channel, Twilio SMS).  \n- Alert text is auto-formatted with % changes.\n\n**Example Output:**  \nâ€œDip Alert â€” BTC â€“3.2%, ETH â€“2.8%â€  \n\n**Author:** David Olusola  \n**Trading & 1:1 consulting:** [sales@daexai.com](mailto:sales@daexai.com)\n"
      },
      "typeVersion": 1
    },
    {
      "id": "80a32dd7-a061-43ce-b39e-df649de613a1",
      "name": "Send a message",
      "type": "n8n-nodes-base.slack",
      "position": [
        944,
        -192
      ],
      "webhookId": "2c9274fd-cc04-4ebb-a2e6-d0dfb1a606d2",
      "parameters": {
        "text": "={{ $json.text }} _Not financial advice._",
        "otherOptions": {},
        "authentication": "oAuth2"
      },
      "credentials": {
        "slackOAuth2Api": {
          "id": "rCOUwK3276xqTfQi",
          "name": "Slack account"
        }
      },
      "typeVersion": 2.3
    },
    {
      "id": "4d05702b-2246-40cd-9596-f4d70625d891",
      "name": "Send an SMS/MMS/WhatsApp message",
      "type": "n8n-nodes-base.twilio",
      "position": [
        976,
        -32
      ],
      "parameters": {
        "message": "={{ $json.text }} _Not financial advice._",
        "options": {}
      },
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "Is Dip?": {
      "main": [
        [
          {
            "node": "Send a message",
            "type": "main",
            "index": 0
          },
          {
            "node": "Send Telegram",
            "type": "main",
            "index": 0
          },
          {
            "node": "Send an SMS/MMS/WhatsApp message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Dip Check": {
      "main": [
        [
          {
            "node": "Is Dip?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send Telegram": {
      "main": [
        []
      ]
    },
    "Send a message": {
      "main": [
        []
      ]
    },
    "Every 30 Minutes": {
      "main": [
        [
          {
            "node": "Get Crypto Prices",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Crypto Prices": {
      "main": [
        [
          {
            "node": "Dip Check",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}