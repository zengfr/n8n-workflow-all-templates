{
  "id": "AJtSW2QeCg45qtIh",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Automate FAQ Responses with WhatsApp Keyword Detection Bot",
    "wechat": "youandme10086",
    "id": 5516,
    "update_time": "2025-11-10"
  },
  "name": "Support bot",
  "tags": [],
  "nodes": [
    {
      "id": "c9cbc315-75dd-4ca4-875c-b9a22fba03d7",
      "name": "Incoming WhatsApp Messages",
      "type": "n8n-nodes-base.whatsAppTrigger",
      "position": [
        -1820,
        120
      ],
      "webhookId": "whatsapp-support-webhook",
      "parameters": {
        "options": {},
        "updates": [
          "messages"
        ]
      },
      "typeVersion": 1
    },
    {
      "id": "b1a466e1-3d1b-4494-a7d9-0cc2ee1e8202",
      "name": "Filter Text Messages Only",
      "type": "n8n-nodes-base.if",
      "position": [
        -1520,
        120
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "operator": {
                "type": "string",
                "operation": "equals"
              },
              "leftValue": "={{ $json.messages[0].type }}",
              "rightValue": "text"
            }
          ]
        }
      },
      "typeVersion": 2
    },
    {
      "id": "298eccc9-0b1a-477f-a153-074972098072",
      "name": "Extract Message Content",
      "type": "n8n-nodes-base.set",
      "position": [
        -1260,
        20
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "message-text",
              "name": "message_text",
              "type": "string",
              "value": "={{ $json.messages[0].text.body.toLowerCase().trim() }}"
            },
            {
              "id": "sender-phone",
              "name": "sender_phone",
              "type": "string",
              "value": "={{ $json.messages[0].from }}"
            },
            {
              "id": "message-id",
              "name": "message_id",
              "type": "string",
              "value": "={{ $json.messages[0].id }}"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "8ac8d5d8-d328-4809-b85e-dd954a1bf307",
      "name": "FAQ Keyword Detection",
      "type": "n8n-nodes-base.switch",
      "position": [
        -1020,
        20
      ],
      "parameters": {
        "rules": {
          "values": [
            {
              "outputKey": "Business Hours",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": false,
                  "typeValidation": "strict"
                },
                "combinator": "or",
                "conditions": [
                  {
                    "operator": {
                      "type": "string",
                      "operation": "contains"
                    },
                    "leftValue": "={{ $json.message_text }}",
                    "rightValue": "hours"
                  },
                  {
                    "operator": {
                      "type": "string",
                      "operation": "contains"
                    },
                    "leftValue": "={{ $json.message_text }}",
                    "rightValue": "open"
                  },
                  {
                    "operator": {
                      "type": "string",
                      "operation": "contains"
                    },
                    "leftValue": "={{ $json.message_text }}",
                    "rightValue": "close"
                  },
                  {
                    "operator": {
                      "type": "string",
                      "operation": "contains"
                    },
                    "leftValue": "={{ $json.message_text }}",
                    "rightValue": "time"
                  }
                ]
              },
              "renameOutput": true
            },
            {
              "outputKey": "Pricing",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": false,
                  "typeValidation": "strict"
                },
                "combinator": "or",
                "conditions": [
                  {
                    "operator": {
                      "type": "string",
                      "operation": "contains"
                    },
                    "leftValue": "={{ $json.message_text }}",
                    "rightValue": "price"
                  },
                  {
                    "operator": {
                      "type": "string",
                      "operation": "contains"
                    },
                    "leftValue": "={{ $json.message_text }}",
                    "rightValue": "cost"
                  },
                  {
                    "operator": {
                      "type": "string",
                      "operation": "contains"
                    },
                    "leftValue": "={{ $json.message_text }}",
                    "rightValue": "fee"
                  },
                  {
                    "operator": {
                      "type": "string",
                      "operation": "contains"
                    },
                    "leftValue": "={{ $json.message_text }}",
                    "rightValue": "money"
                  }
                ]
              },
              "renameOutput": true
            },
            {
              "outputKey": "Location",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": false,
                  "typeValidation": "strict"
                },
                "combinator": "or",
                "conditions": [
                  {
                    "operator": {
                      "type": "string",
                      "operation": "contains"
                    },
                    "leftValue": "={{ $json.message_text }}",
                    "rightValue": "address"
                  },
                  {
                    "operator": {
                      "type": "string",
                      "operation": "contains"
                    },
                    "leftValue": "={{ $json.message_text }}",
                    "rightValue": "location"
                  },
                  {
                    "operator": {
                      "type": "string",
                      "operation": "contains"
                    },
                    "leftValue": "={{ $json.message_text }}",
                    "rightValue": "where"
                  },
                  {
                    "operator": {
                      "type": "string",
                      "operation": "contains"
                    },
                    "leftValue": "={{ $json.message_text }}",
                    "rightValue": "find"
                  }
                ]
              },
              "renameOutput": true
            },
            {
              "outputKey": "Contact",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": false,
                  "typeValidation": "strict"
                },
                "combinator": "or",
                "conditions": [
                  {
                    "operator": {
                      "type": "string",
                      "operation": "contains"
                    },
                    "leftValue": "={{ $json.message_text }}",
                    "rightValue": "contact"
                  },
                  {
                    "operator": {
                      "type": "string",
                      "operation": "contains"
                    },
                    "leftValue": "={{ $json.message_text }}",
                    "rightValue": "phone"
                  },
                  {
                    "operator": {
                      "type": "string",
                      "operation": "contains"
                    },
                    "leftValue": "={{ $json.message_text }}",
                    "rightValue": "email"
                  },
                  {
                    "operator": {
                      "type": "string",
                      "operation": "contains"
                    },
                    "leftValue": "={{ $json.message_text }}",
                    "rightValue": "support"
                  }
                ]
              },
              "renameOutput": true
            },
            {
              "outputKey": "Greeting",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": false,
                  "typeValidation": "strict"
                },
                "combinator": "or",
                "conditions": [
                  {
                    "operator": {
                      "type": "string",
                      "operation": "contains"
                    },
                    "leftValue": "={{ $json.message_text }}",
                    "rightValue": "hello"
                  },
                  {
                    "operator": {
                      "type": "string",
                      "operation": "contains"
                    },
                    "leftValue": "={{ $json.message_text }}",
                    "rightValue": "hi"
                  },
                  {
                    "operator": {
                      "type": "string",
                      "operation": "contains"
                    },
                    "leftValue": "={{ $json.message_text }}",
                    "rightValue": "hey"
                  },
                  {
                    "operator": {
                      "type": "string",
                      "operation": "contains"
                    },
                    "leftValue": "={{ $json.message_text }}",
                    "rightValue": "start"
                  }
                ]
              },
              "renameOutput": true
            }
          ]
        },
        "options": {}
      },
      "typeVersion": 3.2
    },
    {
      "id": "2463ba09-2047-4f09-bd95-9fd22e18d6c6",
      "name": "Business Hours Response",
      "type": "n8n-nodes-base.set",
      "position": [
        -720,
        -200
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "response-text",
              "name": "response_text",
              "type": "string",
              "value": "ğŸ• *Business Hours*\n\nMonday - Friday: 9:00 AM - 6:00 PM\nSaturday: 10:00 AM - 4:00 PM\nSunday: Closed\n\nWe're currently {{ new Date().getHours() >= 9 && new Date().getHours() < 18 ? 'OPEN' : 'CLOSED' }} ğŸŸ¢\n\nNeed immediate help? Type 'contact' for our support details!"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "a6d20145-ed74-40b4-bb4d-f51c1d9e8d79",
      "name": "Pricing Information Response",
      "type": "n8n-nodes-base.set",
      "position": [
        -720,
        -100
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "response-text",
              "name": "response_text",
              "type": "string",
              "value": "ğŸ’° *Our Pricing Plans*\n\nâ€¢ **Basic Package**: $29/month\nâ€¢ **Pro Package**: $59/month  \nâ€¢ **Enterprise**: $99/month\n\nâœ¨ All packages include:\nâœ… 24/7 support\nâœ… Free setup\nâœ… 30-day money-back guarantee\n\nWant a custom quote? Type 'contact' to speak with our team!"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "44f08566-7f73-4596-b51e-4b877a18b283",
      "name": "Location Information Response",
      "type": "n8n-nodes-base.set",
      "position": [
        -720,
        20
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "response-text",
              "name": "response_text",
              "type": "string",
              "value": "ğŸ“ *Find Our Office*\n\nğŸ¢ **Main Office:**\n123 Business Street\nNew York, NY 10001\nUSA\n\nğŸš‡ Nearest Metro: Times Square\nğŸ…¿ï¸ Parking: Available on-site\n\nğŸ“± Want directions? \nGoogle Maps: bit.ly/ouroffice\n\nPlanning a visit? Type 'hours' to check if we're open!"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "ab28d851-6e0f-482b-8588-ddebddc232d7",
      "name": "Contact Information Response",
      "type": "n8n-nodes-base.set",
      "position": [
        -720,
        120
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "response-text",
              "name": "response_text",
              "type": "string",
              "value": "ğŸ“ *Contact Information*\n\nğŸ”¥ **Priority Support:**\nâ€¢ Phone: +1 (555) 123-4567\nâ€¢ Email: support@company.com\nâ€¢ Live Chat: Available on our website\n\nğŸ’¬ **Social Media:**\nâ€¢ Twitter: @company\nâ€¢ LinkedIn: /company/ourcompany\n\nâš¡ **Response Times:**\nâ€¢ Phone: Immediate\nâ€¢ Email: Within 2 hours\nâ€¢ WhatsApp: You're already here! ğŸ˜Š"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "d0544cdd-210a-4041-9955-cfb421e80a8b",
      "name": "Welcome Menu Response",
      "type": "n8n-nodes-base.set",
      "position": [
        -720,
        220
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "response-text",
              "name": "response_text",
              "type": "string",
              "value": "ğŸ‘‹ *Welcome to our support!*\n\nI'm here to help you 24/7. What can I assist you with today?\n\nğŸ“‹ **Quick Menu:**\nâ€¢ Type 'hours' - Business hours\nâ€¢ Type 'pricing' - Our packages\nâ€¢ Type 'location' - Find our office\nâ€¢ Type 'contact' - Support details\n\nğŸ’¡ **Pro tip:** Just type what you need, and I'll understand! \n\nExample: \"What are your prices?\" or \"When are you open?\""
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "e08b7a63-c334-44cb-bf93-f876fe0dfe2e",
      "name": "Helpful Fallback Response",
      "type": "n8n-nodes-base.set",
      "position": [
        -720,
        320
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "response-text",
              "name": "response_text",
              "type": "string",
              "value": "ğŸ¤” *I didn't quite understand that...*\n\nNo worries! Here's what I can help you with:\n\nğŸ“‹ **Available Commands:**\nâ€¢ 'hours' - Business hours\nâ€¢ 'pricing' - Package information  \nâ€¢ 'location' - Office address\nâ€¢ 'contact' - Support details\nâ€¢ 'hello' - Show main menu\n\nğŸ” **Or simply ask:**\nâ€¢ \"When are you open?\"\nâ€¢ \"How much does it cost?\"\nâ€¢ \"Where are you located?\"\n\nğŸ‘¨â€ğŸ’¼ Need to speak with a human? Type 'contact' for our support team!"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "5c1d8fdc-df5d-4f7e-97f6-357538b6080d",
      "name": "Send WhatsApp Reply",
      "type": "n8n-nodes-base.whatsApp",
      "position": [
        -420,
        60
      ],
      "webhookId": "fc8d4c8b-8738-4323-8c5f-928ee49a59a5",
      "parameters": {
        "textBody": "={{ $json.response_text }}",
        "operation": "send",
        "phoneNumberId": "REPLACE_WITH_YOUR_PHONE_NUMBER_ID",
        "additionalFields": {
          "previewUrl": false
        },
        "recipientPhoneNumber": "={{ $('Extract Message Content').item.json.sender_phone }}"
      },
      "typeVersion": 1
    },
    {
      "id": "240af2fb-c864-4d2e-883b-57a5a04c9589",
      "name": "Handle Unsupported Message Types",
      "type": "n8n-nodes-base.whatsApp",
      "position": [
        -1260,
        220
      ],
      "webhookId": "8ea475e8-eb38-4fa9-a979-5dc6051c401e",
      "parameters": {
        "textBody": "ğŸ“ I can only process text messages at the moment.\n\nPlease send your question as a text message, and I'll be happy to help! ğŸ˜Š\n\nType 'hello' to see what I can help you with.",
        "operation": "send",
        "phoneNumberId": "REPLACE_WITH_YOUR_PHONE_NUMBER_ID",
        "additionalFields": {
          "previewUrl": false
        },
        "recipientPhoneNumber": "={{ $json.messages[0].from }}"
      },
      "typeVersion": 1
    },
    {
      "id": "ce073ef5-4d57-4601-863a-542f489da17e",
      "name": "Main Workflow Explanation",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2320,
        -160
      ],
      "parameters": {
        "color": 4,
        "width": 450,
        "height": 1140,
        "content": "# ğŸ“± WhatsApp Customer Support Bot\n\n## What This Workflow Does\nAutomated WhatsApp chatbot that provides instant customer support by responding to common questions with pre-defined answers based on keyword detection.\n\n## How It Works\n1. **WhatsApp Listener**: Receives incoming messages 24/7\n2. **Message Filtering**: Processes only text messages\n3. **Keyword Detection**: Analyzes message content for FAQ topics\n4. **Smart Responses**: Sends appropriate pre-written responses\n5. **Fallback Handling**: Provides helpful guidance for unknown queries\n\n## Supported Topics\nğŸ• **Business Hours** - Hours, open/close times\nğŸ’° **Pricing** - Packages, costs, fees\nğŸ“ **Location** - Address, directions, office info\nğŸ“ **Contact** - Phone, email, support details\nğŸ‘‹ **Greetings** - Welcome message with menu\n\n## Smart Features\nâœ… Case-insensitive keyword matching\nâœ… Natural language understanding\nâœ… Professional formatted responses\nâœ… Menu-driven navigation\nâœ… Graceful fallback for unknown queries\n\n## Setup Required\n1. WhatsApp Business API account\n2. Phone Number ID from Meta\n3. Configure webhook URLs\n4. Customize responses for your business\n5. Activate workflow\n\n## Perfect For\nâ€¢ Small businesses needing 24/7 support\nâ€¢ FAQ automation\nâ€¢ Reducing support team workload\nâ€¢ Instant customer responses\n\n**Handles 80% of common customer questions automatically.**"
      },
      "typeVersion": 1
    },
    {
      "id": "00ea9ba6-8b6e-4535-bc96-3d4900849a36",
      "name": "Step 1 - Message Reception",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2120,
        -500
      ],
      "parameters": {
        "color": 7,
        "width": 300,
        "height": 300,
        "content": "## Step 1: Message Reception\n\n**WhatsApp Trigger** receives all incoming messages from customers 24/7\n\n**Setup**: Requires WhatsApp Business API\n**Webhook**: Automatically configured\n\n*Listens constantly for customer messages*"
      },
      "typeVersion": 1
    },
    {
      "id": "cac18dfa-16c6-4db6-996c-c0823981d15a",
      "name": "Step 2 - Message Type Filter",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1740,
        -500
      ],
      "parameters": {
        "color": 7,
        "width": 300,
        "height": 300,
        "content": "## Step 2: Message Type Filter\n\n**IF Node** ensures we only process text messages\n\nâœ… **Text Messages**: Continue to processing\nâŒ **Other Types**: Send friendly error message\n\n*Keeps bot focused and reliable*"
      },
      "typeVersion": 1
    },
    {
      "id": "ffc8672d-1bb8-445b-9a45-6f856a0e532b",
      "name": "Step 3 - Data Extraction",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1360,
        -480
      ],
      "parameters": {
        "color": 7,
        "width": 300,
        "height": 240,
        "content": "## Step 3: Data Extraction\n\n**Set Node** extracts and cleans message data:\nâ€¢ Message text (lowercase, trimmed)\nâ€¢ Sender phone number\nâ€¢ Message ID\n\n*Prepares data for keyword matching*"
      },
      "typeVersion": 1
    },
    {
      "id": "1aedc060-7858-4a40-910e-c779c6cd9363",
      "name": "Step 4 - Keyword Detection",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1020,
        -480
      ],
      "parameters": {
        "color": 7,
        "width": 300,
        "height": 260,
        "content": "## Step 4: Keyword Detection\n\n**Switch Node** analyzes message content:\nâ€¢ Multiple keywords per category\nâ€¢ Case-insensitive matching\nâ€¢ Natural language friendly\nâ€¢ Fallback for unknown queries\n\n*Intelligent message routing*"
      },
      "typeVersion": 1
    },
    {
      "id": "4a0bd23c-4e6d-4bda-b985-86e970107632",
      "name": "Step 5 - Response Generation",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -600,
        -480
      ],
      "parameters": {
        "color": 7,
        "width": 350,
        "height": 300,
        "content": "## Step 5: Response Generation\n\n**Set Nodes** create professional responses:\nâ€¢ Business hours with real-time status\nâ€¢ Detailed pricing information\nâ€¢ Complete location details\nâ€¢ Contact information\nâ€¢ Welcome menu for navigation\nâ€¢ Helpful fallback messages\n\n*Consistent, professional communication*"
      },
      "typeVersion": 1
    },
    {
      "id": "01fe32eb-6a51-4837-9323-9ec4d86579e5",
      "name": "Step 6 - Message Delivery",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -200,
        -120
      ],
      "parameters": {
        "color": 7,
        "width": 300,
        "height": 280,
        "content": "## Step 6: Message Delivery\n\n**WhatsApp Node** sends formatted response back to customer\n\nâ€¢ Instant delivery\nâ€¢ Professional formatting\nâ€¢ Emoji enhancement\n\n*Complete the customer service loop*"
      },
      "typeVersion": 1
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "f1942fbc-84ed-45d8-b613-147cb9c87a05",
  "connections": {
    "FAQ Keyword Detection": {
      "main": [
        [
          {
            "node": "Business Hours Response",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Pricing Information Response",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Location Information Response",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Contact Information Response",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Welcome Menu Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Welcome Menu Response": {
      "main": [
        [
          {
            "node": "Send WhatsApp Reply",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Business Hours Response": {
      "main": [
        [
          {
            "node": "Send WhatsApp Reply",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract Message Content": {
      "main": [
        [
          {
            "node": "FAQ Keyword Detection",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter Text Messages Only": {
      "main": [
        [
          {
            "node": "Extract Message Content",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Handle Unsupported Message Types",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Helpful Fallback Response": {
      "main": [
        [
          {
            "node": "Send WhatsApp Reply",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Incoming WhatsApp Messages": {
      "main": [
        [
          {
            "node": "Filter Text Messages Only",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Contact Information Response": {
      "main": [
        [
          {
            "node": "Send WhatsApp Reply",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Pricing Information Response": {
      "main": [
        [
          {
            "node": "Send WhatsApp Reply",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Location Information Response": {
      "main": [
        [
          {
            "node": "Send WhatsApp Reply",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}