{
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Auto-Download Social Media Videos with Telegram Bot & MediaDL Integration",
    "wechat": "youandme10086",
    "id": 8981,
    "update_time": "2025-11-10"
  },
  "nodes": [
    {
      "id": "0bbb310f-047c-4d8f-bfb4-a92e9863d8e3",
      "name": "Telegram Trigger",
      "type": "n8n-nodes-base.telegramTrigger",
      "position": [
        1216,
        304
      ],
      "webhookId": "a8cd8cc1-ce39-4adb-a389-cbca39849471",
      "parameters": {
        "updates": [
          "message"
        ],
        "additionalFields": {}
      },
      "credentials": {
        "telegramApi": {
          "id": "jKxgjobC2OVbNXTR",
          "name": "Telegram account"
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "e3f39d0d-ca89-4315-b5c3-a0cf244e0db9",
      "name": "Download",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        2336,
        304
      ],
      "parameters": {
        "url": "https://mediadl.app/api/proxy-download",
        "options": {},
        "sendQuery": true,
        "sendHeaders": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "fileUrl",
              "value": "={{ $json.medias[0].url }}"
            }
          ]
        },
        "headerParameters": {
          "parameters": [
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.9,id;q=0.8,da;q=0.7"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Referer",
              "value": "https://mediadl.app/in?gad_source=1&gad_campaignid=22707685611&gbraid=0AAAAA_JALYirerzrfP-1sYYdbTB1Ig5si&gclid=CjwKCAjwwNbEBhBpEiwAFYLtGMgSfRH09djRgW12vplqCk4gfzg34u365DL6mY7MMNPyn5flg8pRjRoCyLIQAvD_BwE"
            },
            {
              "name": "Sec-Fetch-Dest",
              "value": "empty"
            },
            {
              "name": "Sec-Fetch-Mode",
              "value": "cors"
            },
            {
              "name": "Sec-Fetch-Site",
              "value": "same-origin"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
            },
            {
              "name": "sec-ch-ua",
              "value": "\"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\""
            },
            {
              "name": "sec-ch-ua-mobile",
              "value": "?0"
            },
            {
              "name": "sec-ch-ua-platform",
              "value": "\"Windows\""
            }
          ]
        }
      },
      "typeVersion": 4.2
    },
    {
      "id": "19d3ee22-fd1e-4117-b2ef-aaa8a3517c1f",
      "name": "Sent To Telegram Video",
      "type": "n8n-nodes-base.telegram",
      "position": [
        2560,
        304
      ],
      "webhookId": "ee4a87d1-b5b4-4015-a548-ae05ccbcf816",
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "operation": "sendVideo",
        "binaryData": true,
        "additionalFields": {
          "fileName": "={{ $('Delay 3S').item.json.title }}.mp4"
        }
      },
      "credentials": {
        "telegramApi": {
          "id": "jKxgjobC2OVbNXTR",
          "name": "Telegram account"
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "b055ad08-6df0-44b7-8174-789f6be48b24",
      "name": "Filtering URL Only",
      "type": "n8n-nodes-base.set",
      "position": [
        1888,
        304
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "cc8edbe6-e9c4-41ca-8f3d-c2a2538b07ae",
              "name": "medias[0].url",
              "type": "string",
              "value": "={{ $json.medias[0].url }}"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "b91deb65-fbcc-4fa3-bef2-2fd2c4de8583",
      "name": "Delay 3S",
      "type": "n8n-nodes-base.wait",
      "position": [
        1664,
        304
      ],
      "webhookId": "b2f58186-407f-423b-abfb-238845205460",
      "parameters": {
        "amount": 3
      },
      "typeVersion": 1.1
    },
    {
      "id": "3eda9853-3b20-4072-8361-8930b0a9b861",
      "name": "Delay 3S1",
      "type": "n8n-nodes-base.wait",
      "position": [
        2112,
        304
      ],
      "webhookId": "64a268ce-677e-4aab-8c26-c0bb1d06ebf7",
      "parameters": {
        "amount": 3
      },
      "typeVersion": 1.1
    },
    {
      "id": "875e46f0-d7a9-4610-ba72-c5bc4152b91a",
      "name": "URL Download",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        1440,
        304
      ],
      "parameters": {
        "url": "https://www.mediadl.app/api/download",
        "method": "POST",
        "options": {},
        "sendBody": true,
        "sendHeaders": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "url",
              "value": "={{ $json.message.text }}"
            },
            {
              "name": "format",
              "value": "bestvideo+bestaudio/best"
            }
          ]
        },
        "headerParameters": {
          "parameters": [
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.9,id;q=0.8,da;q=0.7"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Origin",
              "value": "https://www.mediadl.app"
            },
            {
              "name": "Referer",
              "value": "https://www.mediadl.app/en"
            },
            {
              "name": "Sec-Fetch-Dest",
              "value": "empty"
            },
            {
              "name": "Sec-Fetch-Mode",
              "value": "cors"
            },
            {
              "name": "Sec-Fetch-Site",
              "value": "same-origin"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
            },
            {
              "name": "sec-ch-ua",
              "value": "\"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\""
            },
            {
              "name": "sec-ch-ua-mobile",
              "value": "?0"
            },
            {
              "name": "sec-ch-ua-platform",
              "value": "\"Windows\""
            }
          ]
        }
      },
      "notesInFlow": true,
      "typeVersion": 4.2
    },
    {
      "id": "bcd3a17b-8405-4fb7-b3af-7e8f76110634",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1312,
        96
      ],
      "parameters": {
        "color": 4,
        "width": 340,
        "height": 152,
        "content": "## STEP 1 · Overview\nListens to a Telegram message, sends the URL to mediadl to prepare a download, waits, fetches the media via proxy, then replies to the same chat with the video."
      },
      "typeVersion": 1
    },
    {
      "id": "2166082d-bfb9-4efd-b30b-de6819fa8747",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1792,
        -16
      ],
      "parameters": {
        "color": 5,
        "width": 232,
        "height": 294,
        "content": "## STEP 2 · Input & URL handling\n**Telegram Trigger:** expects a URL in `message.text`.\n**URL Download:** POSTs `{ url: message.text }` to mediadl to resolve the media.\n**Set (Filtering URL Only):** forwards `medias[0].url` for the final file fetch."
      },
      "typeVersion": 1
    },
    {
      "id": "df1dc326-d9f1-4824-b143-6ed071b73eeb",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2144,
        -16
      ],
      "parameters": {
        "color": 6,
        "width": 248,
        "height": 278,
        "content": "## STEP 3 · Reliability & Timing\nTwo 3-second Waits create spacing between: URL resolve → proxy fetch → send.\nHeaders/User-Agent mimic a browser for CORS/CDN acceptance.\nIf large files or slow hosts: increase delays or add retry logic."
      },
      "typeVersion": 1
    },
    {
      "id": "c2c732ab-c034-49e3-8e42-aeb043899bd1",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2512,
        0
      ],
      "parameters": {
        "color": 7,
        "width": 248,
        "height": 278,
        "content": "## STEP 4 · Output & Limits\n**Download:** GET `proxy-download?fileUrl=...` to fetch the binary.\n**Send To Telegram Video:** replies to source chat with the file name from title.\nNote: Respect platform ToS/copyright; check Telegram file size limits for bots."
      },
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "Delay 3S": {
      "main": [
        [
          {
            "node": "Filtering URL Only",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download": {
      "main": [
        [
          {
            "node": "Sent To Telegram Video",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Delay 3S1": {
      "main": [
        [
          {
            "node": "Download",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "URL Download": {
      "main": [
        [
          {
            "node": "Delay 3S",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Telegram Trigger": {
      "main": [
        [
          {
            "node": "URL Download",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filtering URL Only": {
      "main": [
        [
          {
            "node": "Delay 3S1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}