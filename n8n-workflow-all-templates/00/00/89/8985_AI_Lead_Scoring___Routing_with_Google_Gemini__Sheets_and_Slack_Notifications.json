{
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "AI Lead Scoring & Routing with Google Gemini, Sheets and Slack Notifications",
    "wechat": "youandme10086",
    "id": 8985,
    "update_time": "2025-11-10"
  },
  "nodes": [
    {
      "id": "e74de2ca-d3e1-499b-893c-972bb6bd9ad0",
      "name": "Google Gemini Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        1424,
        736
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "MOufOXyoLNgKIzCu",
          "name": "Google Gemini(PaLM) Api account 2"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "01b4b86b-8798-405e-93c9-5881f3d27d20",
      "name": "Receive New Lead (Typeform)",
      "type": "n8n-nodes-base.webhook",
      "position": [
        896,
        480
      ],
      "webhookId": "20426827-714d-4a48-ab87-4a3216665bde",
      "parameters": {
        "path": "lead-webhook",
        "options": {},
        "httpMethod": "POST"
      },
      "typeVersion": 2
    },
    {
      "id": "b4007cc1-6332-42d3-a7d1-12db9bc35fec",
      "name": "Prepare Lead Data",
      "type": "n8n-nodes-base.set",
      "position": [
        1120,
        480
      ],
      "parameters": {
        "options": {}
      },
      "typeVersion": 3.4
    },
    {
      "id": "d274436b-f5f6-4c13-948d-f1e2f822e85c",
      "name": "Classify Sentiment (Gemini or other ai model)",
      "type": "@n8n/n8n-nodes-langchain.sentimentAnalysis",
      "position": [
        1344,
        480
      ],
      "parameters": {
        "options": {},
        "inputText": "={{$json[\"message\"] || $json[\"mensagem\"] || $json[\"resposta\"]}}\n"
      },
      "typeVersion": 1
    },
    {
      "id": "20839991-6176-4485-98fe-1d188ac552f1",
      "name": "Combine Lead Data",
      "type": "n8n-nodes-base.merge",
      "position": [
        1920,
        464
      ],
      "parameters": {
        "numberInputs": 3
      },
      "typeVersion": 3.1
    },
    {
      "id": "31b9506f-0537-4b58-9c51-fbdfcf05a3f0",
      "name": "Send a message",
      "type": "n8n-nodes-base.slack",
      "position": [
        2144,
        480
      ],
      "webhookId": "17d27255-fdc2-4b45-ab04-b35b00fabc99",
      "parameters": {
        "text": "wefwe",
        "select": "channel",
        "channelId": {
          "__rl": true,
          "mode": "list",
          "value": "C09BP1AGRT9",
          "cachedResultName": "alle-in-meakcodes"
        },
        "otherOptions": {},
        "authentication": "oAuth2"
      },
      "credentials": {
        "slackOAuth2Api": {
          "id": "BFRW6GiYcJw58eeZ",
          "name": "Slack account"
        }
      },
      "typeVersion": 2.3
    },
    {
      "id": "52a61391-f621-484a-b395-e72bffed9654",
      "name": "Store Neutral Lead",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        1696,
        480
      ],
      "parameters": {
        "columns": {
          "value": {},
          "schema": [
            {
              "id": "Full Name",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Full Name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "First Name",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "First Name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Last Name",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Last Name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Email ",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Email ",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Phone",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Phone",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Submitted",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Submitted",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "appendOrUpdate",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": "gid=0",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1EAA7t2lal9462X_CHmfZQ7LbAVsbrrkpGN1hpDI0p8o/edit#gid=0",
          "cachedResultName": "Tabellenblatt1"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1EAA7t2lal9462X_CHmfZQ7LbAVsbrrkpGN1hpDI0p8o",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1EAA7t2lal9462X_CHmfZQ7LbAVsbrrkpGN1hpDI0p8o/edit?usp=drivesdk",
          "cachedResultName": "Founders Academy Waitlist"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "cjPjcwa3RdiMAu79",
          "name": "Google Sheets account"
        }
      },
      "typeVersion": 4.7
    },
    {
      "id": "4cae6f1b-e73f-4497-9ded-2cf241fb2dfd",
      "name": "Store Cold Lead",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        1696,
        672
      ],
      "parameters": {
        "columns": {
          "value": {},
          "schema": [
            {
              "id": "Full Name",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Full Name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "First Name",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "First Name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Last Name",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Last Name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Email ",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Email ",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Phone",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Phone",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Submitted",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Submitted",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "appendOrUpdate",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": "gid=0",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1EAA7t2lal9462X_CHmfZQ7LbAVsbrrkpGN1hpDI0p8o/edit#gid=0",
          "cachedResultName": "Tabellenblatt1"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1EAA7t2lal9462X_CHmfZQ7LbAVsbrrkpGN1hpDI0p8o",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1EAA7t2lal9462X_CHmfZQ7LbAVsbrrkpGN1hpDI0p8o/edit?usp=drivesdk",
          "cachedResultName": "Founders Academy Waitlist"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "cjPjcwa3RdiMAu79",
          "name": "Google Sheets account"
        }
      },
      "typeVersion": 4.7
    },
    {
      "id": "8d4b6ad0-6ba4-48c2-9662-91bcdfbf7ded",
      "name": "Store Hot Lead",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        1696,
        288
      ],
      "parameters": {
        "columns": {
          "value": {},
          "schema": [
            {
              "id": "Full Name",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Full Name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "First Name",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "First Name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Last Name",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Last Name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Email ",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Email ",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Phone",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Phone",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Submitted",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Submitted",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "appendOrUpdate",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": "gid=0",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1EAA7t2lal9462X_CHmfZQ7LbAVsbrrkpGN1hpDI0p8o/edit#gid=0",
          "cachedResultName": "Tabellenblatt1"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1EAA7t2lal9462X_CHmfZQ7LbAVsbrrkpGN1hpDI0p8o",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1EAA7t2lal9462X_CHmfZQ7LbAVsbrrkpGN1hpDI0p8o/edit?usp=drivesdk",
          "cachedResultName": "Founders Academy Waitlist"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "cjPjcwa3RdiMAu79",
          "name": "Google Sheets account"
        }
      },
      "typeVersion": 4.7
    },
    {
      "id": "23596639-84c4-438f-a820-1809957a6cdf",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        896,
        192
      ],
      "parameters": {
        "color": 4,
        "height": 256,
        "content": "## STEP 1 路 Intake (Webhook)\n**Receive New Lead (Typeform):** POST /lead-webhook\n**Prepare Lead Data:** clean/map fields you need (name, email, message, timestamp).\nTip: Ensure the Typeform payload keys match what you reference later."
      },
      "typeVersion": 1
    },
    {
      "id": "b5c93a1c-55df-47d9-b9bc-b97831a331fa",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1328,
        176
      ],
      "parameters": {
        "color": 5,
        "height": 272,
        "content": "## STEP 2 路 Sentiment Classification\n**Sentiment node** analyzes message text (fallbacks: message | mensagem | resposta).\n**Gemini model** (via LLM node) powers the classifier.\nOutput branches: Hot / Neutral / Cold (used for routing)."
      },
      "typeVersion": 1
    },
    {
      "id": "c25b0dc7-9bf5-463c-bfb4-b03f5c24960d",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1632,
        0
      ],
      "parameters": {
        "color": 6,
        "height": 256,
        "content": "## STEP 3 路 Store by Segment (Sheets)\nEach branch writes to Google Sheets (appendOrUpdate).\nTip: Set **matchingColumns** (e.g., Email or Submitted) to avoid duplicates.\nIf no mapping is defined, enable auto-map or define column mapping explicitly."
      },
      "typeVersion": 1
    },
    {
      "id": "34e7fb02-48d3-43ff-ab15-bab12a60f3ea",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1968,
        176
      ],
      "parameters": {
        "color": 7,
        "height": 256,
        "content": "## STEP 4 路 Combine & Notify\n**Merge (3 inputs)** recombines Hot/Neutral/Cold.\n**Slack message** posts to the channel.\nTip: Replace placeholder text with a formatted summary (name, sentiment, link to row)."
      },
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "Store Hot Lead": {
      "main": [
        [
          {
            "node": "Combine Lead Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Store Cold Lead": {
      "main": [
        [
          {
            "node": "Combine Lead Data",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "Combine Lead Data": {
      "main": [
        [
          {
            "node": "Send a message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Prepare Lead Data": {
      "main": [
        [
          {
            "node": "Classify Sentiment (Gemini or other ai model)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Store Neutral Lead": {
      "main": [
        [
          {
            "node": "Combine Lead Data",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Classify Sentiment (Gemini or other ai model)",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Receive New Lead (Typeform)": {
      "main": [
        [
          {
            "node": "Prepare Lead Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Classify Sentiment (Gemini or other ai model)": {
      "main": [
        [
          {
            "node": "Store Hot Lead",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Store Neutral Lead",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Store Cold Lead",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}