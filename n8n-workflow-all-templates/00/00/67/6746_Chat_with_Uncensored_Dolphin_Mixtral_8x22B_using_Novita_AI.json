{
  "id": "k4dOhz5YNYLVPUs1",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Chat with Uncensored Dolphin Mixtral 8x22B using Novita AI",
    "wechat": "youandme10086",
    "id": 6746,
    "update_time": "2025-11-10"
  },
  "name": "dolphin",
  "tags": [],
  "nodes": [
    {
      "id": "15298662-69ee-4458-a792-9f4878b5fcbd",
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "position": [
        -272,
        0
      ],
      "webhookId": "147714d9-629d-4a94-9e62-02f45886c7b6",
      "parameters": {
        "options": {}
      },
      "typeVersion": 1.1
    },
    {
      "id": "db22e3ea-e88c-463f-bfc8-5897765e10c9",
      "name": "Generate Chat Completion",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        176,
        0
      ],
      "parameters": {
        "url": "https://api.novita.ai/v3/openai/chat/completions",
        "method": "POST",
        "options": {},
        "jsonBody": "={\n  \"model\": \"cognitivecomputations/dolphin-mixtral-8x22b\",\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"{{ $json.systemPrompt }}\"\n    },\n    {\n      \"role\": \"user\",\n      \"content\": \"{{ $('When chat message received').item.json.chatInput }}\"\n    }\n  ],\n  \"max_tokens\": {{ $json.MaxTokens }}\n}",
        "sendBody": true,
        "sendHeaders": true,
        "specifyBody": "json",
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "=Bearer {{ $json.NovitaKey }}"
            }
          ]
        }
      },
      "typeVersion": 4.2
    },
    {
      "id": "301be5e4-8b78-44c6-83d2-c5a62f6074ef",
      "name": "Return output",
      "type": "n8n-nodes-base.set",
      "position": [
        400,
        0
      ],
      "parameters": {
        "options": {
          "ignoreConversionErrors": false
        },
        "assignments": {
          "assignments": [
            {
              "id": "a497c430-1449-48dd-915b-6c922ec0d56d",
              "name": "output",
              "type": "string",
              "value": "={{ $json.choices[0].message.content.trim() }}"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "0fead77e-12d8-40d5-a305-0dec2ea6663a",
      "name": "Set fields",
      "type": "n8n-nodes-base.set",
      "position": [
        -64,
        0
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "fef0c4b6-9451-4848-b681-7ed11461637e",
              "name": "NovitaKey",
              "type": "string",
              "value": "yourNovitakey"
            },
            {
              "id": "215393bd-94bf-4de1-8915-89ccb38f531e",
              "name": "MaxTokens",
              "type": "number",
              "value": 500
            },
            {
              "id": "f987e35d-b291-47b6-b9de-1e5a0d16d468",
              "name": "systemPrompt",
              "type": "string",
              "value": "you are a professional AI helper."
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "3fb3452f-0d2a-4da8-9306-f2ca6de2cf0c",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -288,
        208
      ],
      "parameters": {
        "width": 800,
        "height": 240,
        "content": "## Requirements \n- Create a [Novita](https://novita.ai/?ref=mze5m2e&utm_source=affiliate) account\n- Get your Novita api key\n\n## How it works\n- Set your fields and add more parameters as needed into the endpoint\n- Review the [novita docs](https://novita.ai/docs/api-reference/model-apis-llm-create-chat-completion) for chat completions"
      },
      "typeVersion": 1
    },
    {
      "id": "f0781099-1e79-47e0-997e-fa34593406df",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -128,
        -128
      ],
      "parameters": {
        "color": 4,
        "width": 224,
        "height": 320,
        "content": "## Config \nSet fields to pass into the chat completion api"
      },
      "typeVersion": 1
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "9bd09b4b-66e4-472c-b7ff-410e7ff59f2f",
  "connections": {
    "Set fields": {
      "main": [
        [
          {
            "node": "Generate Chat Completion",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Chat Completion": {
      "main": [
        [
          {
            "node": "Return output",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "Set fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}