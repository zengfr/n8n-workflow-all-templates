{
  "id": "Ub9navVkcvzlgJJZ",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Create Shopify customers from a Google Sheet",
    "wechat": "youandme10086",
    "id": 4866,
    "update_time": "2025-11-10"
  },
  "name": "CreateCustomers",
  "tags": [
    {
      "id": "vMF1giVsFs9aUam0",
      "name": "shopify",
      "createdAt": "2025-06-11T02:39:27.034Z",
      "updatedAt": "2025-06-11T02:39:27.034Z"
    },
    {
      "id": "VV6xlvjylfTgqbEQ",
      "name": "gsheet",
      "createdAt": "2025-06-11T02:39:33.368Z",
      "updatedAt": "2025-06-11T02:39:33.368Z"
    },
    {
      "id": "cWC39BXOsHlOhwEC",
      "name": "google-sheet",
      "createdAt": "2025-06-11T02:39:38.743Z",
      "updatedAt": "2025-06-11T02:39:38.743Z"
    }
  ],
  "nodes": [
    {
      "id": "477e1ae3-92d1-4bc4-a232-177f30c12bd5",
      "name": "Start Workflow",
      "type": "n8n-nodes-base.manualTrigger",
      "position": [
        -500,
        -60
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "2be0e108-296c-4eaa-ad58-883923416470",
      "name": "Google Sheet, Fetch Customers",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -140,
        -60
      ],
      "parameters": {
        "options": {},
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 2054184606,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1IxiuRiu6XKBkEa1NIUebBWn73jIKUrgE9Sqj4XtQgBk/edit#gid=2054184606",
          "cachedResultName": "Customers"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1IxiuRiu6XKBkEa1NIUebBWn73jIKUrgE9Sqj4XtQgBk",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1IxiuRiu6XKBkEa1NIUebBWn73jIKUrgE9Sqj4XtQgBk/edit?usp=drivesdk",
          "cachedResultName": "Shopify Test Store Data"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "GQE41DhnGDDJ8Hfq",
          "name": "Google Sheets account"
        }
      },
      "typeVersion": 4.6
    },
    {
      "id": "2aae5550-f480-49b0-9e69-b299756963ce",
      "name": "Shopify, CustomerCreate",
      "type": "n8n-nodes-base.graphql",
      "position": [
        280,
        -60
      ],
      "parameters": {
        "query": "=mutation customerCreate($input: CustomerInput!) {\n    customerCreate(input: $input) {\n        userErrors {\n            field\n            message\n        }\n        customer {\n            id\n            email\n            phone\n            taxExempt\n            firstName\n            lastName\n            amountSpent {\n                amount\n                currencyCode\n            }\n            smsMarketingConsent {\n                marketingState\n                marketingOptInLevel\n                consentUpdatedAt\n            }\n        }\n    }\n}",
        "endpoint": "https://store99563.myshopify.com/admin/api/2025-04/graphql.json",
        "variables": "={\n    \"input\": {\n        \"email\": \"{{ $json.email }}\",\n        \"phone\": \"{{ $json.mobile_phone }}\",\n        \"firstName\": \"{{ $json.first_name }}\",\n        \"lastName\": \"{{ $json.last_name }}\",\n        \"smsMarketingConsent\": {\n            \"marketingState\": \"SUBSCRIBED\",\n            \"marketingOptInLevel\": \"SINGLE_OPT_IN\"\n        }\n    }\n}",
        "authentication": "headerAuth"
      },
      "credentials": {
        "httpHeaderAuth": {
          "id": "mHtpN3u5aCWsxWih",
          "name": "Shopify GraphQL Header Auth account"
        }
      },
      "typeVersion": 1.1
    },
    {
      "id": "76d165e1-6beb-475c-bd94-ed0f30ef0d06",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -300,
        140
      ],
      "parameters": {
        "width": 400,
        "height": 320,
        "content": "## Google Sheet Format\n\nColumns can be in any order. N8N will treat the first row in the sheet as a column name, so use the column names below in row 1 of your sheet. The google sheet uses the following columns : \n- first_name : Any string\n- last_name : Any string\n- email : Valid email \n- mobile_phone : International mobile phone format with no spaces eg. +61414708406 (Shopify will reject anything else).\n"
      },
      "typeVersion": 1
    },
    {
      "id": "01df3900-33ae-4f8b-b63a-d48ee012c2ea",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        160,
        140
      ],
      "parameters": {
        "width": 400,
        "height": 680,
        "content": "## Shopify Admin API (GraphQL)\n\nShopify's Admin API uses 'Header Auth' with a **key** of X-Shopify-Access-Token and a **value** of your shopify access token which starts with shpat_ .\n\n### How to generate a Shopify Access Token \nTo generate a Shopify Access Token create an app, grant the app the necessary scopes, then generate a token. \n\n#### From inside a store do the following :\n1. click Settings (nav link) \n2. click Apps and sales channels (nav link) \n3. click Develop Apps (button)\n4. click Create App (button)\n5. give the app a name\n6. click configure Admin API Scopes (button)\n7. at a minimum grant read_customers and write_customers scope. Grant additional scopes if you plan on accessing other parts of the API.\n8. click save\n\n#### To generate the token \n1. click install app (button)\n2. click install on the dialog that pops up (button)\n3. click 'reveal token once' (button)\n4. copy the token into a password vault or somewhere secure.\n"
      },
      "typeVersion": 1
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "13bf8d4d-bd24-4b1d-be18-70e131443179",
  "connections": {
    "Start Workflow": {
      "main": [
        [
          {
            "node": "Google Sheet, Fetch Customers",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheet, Fetch Customers": {
      "main": [
        [
          {
            "node": "Shopify, CustomerCreate",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}