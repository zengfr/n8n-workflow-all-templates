{
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "üõ†Ô∏è Change Binary MimeType/Extension",
    "wechat": "youandme10086",
    "id": 5155,
    "update_time": "2025-11-10"
  },
  "nodes": [
    {
      "id": "491b237e-9d42-4017-bc80-9301367e4469",
      "cid": "Ikx1Y2FzIFBleXJpbiI",
      "name": "Extract from File",
      "type": "n8n-nodes-base.extractFromFile",
      "notes": "¬© 2025 Lucas Peyrin",
      "creator": "Lucas Peyrin",
      "position": [
        224,
        -80
      ],
      "parameters": {
        "options": {},
        "operation": "binaryToPropery",
        "binaryPropertyName": "={{ Object.keys($binary).first() }}"
      },
      "typeVersion": 1
    },
    {
      "id": "2a7ea7bd-b009-4219-a5da-5d62976185a5",
      "cid": "Ikx1Y2FzIFBleXJpbiI",
      "name": "SET OUTPUT FILE NAME",
      "type": "n8n-nodes-base.set",
      "notes": "¬© 2025 Lucas Peyrin",
      "creator": "Lucas Peyrin",
      "position": [
        -160,
        -80
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "db6b30b5-a420-430b-87ae-a4887bfe9628",
              "name": "binary_key",
              "type": "string",
              "value": "={{ Object.keys($binary).first() }}"
            },
            {
              "id": "8e1643f7-e794-43b2-a5ac-80b6b621b547",
              "name": "output_file_name",
              "type": "string",
              "value": "SET YOUR OUTPUT FILE NAME AND EXTENSION !! (ex: .mp3 or .png)"
            }
          ]
        },
        "includeOtherFields": true
      },
      "typeVersion": 3.4
    },
    {
      "id": "b9e1072b-c9c2-4d5b-a13a-4eed7a920203",
      "cid": "Ikx1Y2FzIFBleXJpbiI",
      "name": "Change Binary Data Type",
      "type": "n8n-nodes-base.code",
      "notes": "¬© 2025 Lucas Peyrin",
      "creator": "Lucas Peyrin",
      "position": [
        448,
        -80
      ],
      "parameters": {
        "jsCode": "const myBuffer = Buffer.from($json.data, 'base64');\n\n$input.item.binary = {\n  [$('SET OUTPUT FILE NAME').last().json.binary_key]: await this.helpers.prepareBinaryData(myBuffer, $('SET OUTPUT FILE NAME').last().json.output_file_name)\n};\n\nreturn $input.item;\n"
      },
      "typeVersion": 2
    },
    {
      "id": "e5fc3b22-3f86-4cef-b0c7-d2f8b7261784",
      "cid": "Ikx1Y2FzIFBleXJpbiI",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "notes": "¬© 2025 Lucas Peyrin",
      "creator": "Lucas Peyrin",
      "position": [
        -320,
        -416
      ],
      "parameters": {
        "color": 3,
        "width": 420,
        "height": 500,
        "content": "### ‚öôÔ∏è CONFIGURE HERE ‚öôÔ∏è\n\nThis is the main node you need to edit.\n\n1.  **`output_file_name`**: Change this value to the desired file name and extension. The extension is what determines the new MIME type.\n    *   **Example:** To convert to an MP3, set the value to `audio.mp3`.\n    *   **Example:** To ensure a file is treated as a PNG, set it to `image.png`.\n\n2.  **`binary_key`**: This field is dynamic and automatically finds the name of the incoming binary property. **Do not change this.**"
      },
      "typeVersion": 1
    },
    {
      "id": "41ac8c2b-6530-46bc-9153-8b3c312076f9",
      "cid": "Ikx1Y2FzIFBleXJpbiI",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "notes": "¬© 2025 Lucas Peyrin",
      "creator": "Lucas Peyrin",
      "position": [
        144,
        -336
      ],
      "parameters": {
        "color": 7,
        "width": 480,
        "height": 420,
        "content": "### ‚öôÔ∏è Core Logic (No Edit Needed)\n\nThese nodes work together to perform the conversion:\n\n1.  **Extract from File:** Converts the binary into text (Base64).\n2.  **Code:** Rebuilds the binary file using the new file name you provided in the previous step.\n\nThis process effectively changes the file's perceived format for other n8n nodes or external services."
      },
      "typeVersion": 1
    },
    {
      "id": "d7de41a8-eb35-4b84-862f-9a2deb438d93",
      "cid": "Ikx1Y2FzIFBleXJpbiI",
      "name": "Change Binary MimeType/Extension",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "notes": "¬© 2025 Lucas Peyrin",
      "creator": "Lucas Peyrin",
      "position": [
        -528,
        -80
      ],
      "parameters": {
        "inputSource": "passthrough"
      },
      "typeVersion": 1.1
    },
    {
      "id": "096abf54-87bf-4d42-b3fa-b39c79eafca0",
      "cid": "Ikx1Y2FzIFBleXJpbiI",
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "notes": "¬© 2025 Lucas Peyrin",
      "creator": "Lucas Peyrin",
      "position": [
        672,
        -704
      ],
      "parameters": {
        "color": 4,
        "width": 540,
        "height": 784,
        "content": "## Was this helpful? Let me know!\n\nI really hope this tutorial helped you understand how to manipulate Binary data better. Your feedback is incredibly valuable and helps me create better resources for the n8n community.\n\n### **Share Your Thoughts & Ideas**\n\nWhether you have a suggestion, found a typo, or just want to say thanks, I'd love to hear from you!\nHere's a simple n8n form built for this purpose:\n\n#### ‚û°Ô∏è **[Click here to give feedback](https://api.ia2s.app/form/templates/feedback?template=Binary%20MimeType)**\n\n### **Ready to Build Something Great?**\n\nIf you're looking to take your n8n skills or business automation to the next level, I can help.\n\n**üéì n8n Coaching:** Want to become an n8n pro? I offer one-on-one coaching sessions to help you master workflows, tackle specific problems, and build with confidence.\n#### ‚û°Ô∏è **[Book a Coaching Session](https://api.ia2s.app/form/templates/coaching?template=Binary%20MimeType)**\n\n**üíº n8n Consulting:** Have a complex project, an integration challenge, or need a custom workflow built for your business? Let's work together to create a powerful automation solution.\n#### ‚û°Ô∏è **[Inquire About Consulting Services](https://api.ia2s.app/form/templates/consulting?template=Binary%20MimeType)**\n\n---\n\nHappy Automating!\nLucas Peyrin"
      },
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "Extract from File": {
      "main": [
        [
          {
            "node": "Change Binary Data Type",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "SET OUTPUT FILE NAME": {
      "main": [
        [
          {
            "node": "Extract from File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Change Binary MimeType/Extension": {
      "main": [
        [
          {
            "node": "SET OUTPUT FILE NAME",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}