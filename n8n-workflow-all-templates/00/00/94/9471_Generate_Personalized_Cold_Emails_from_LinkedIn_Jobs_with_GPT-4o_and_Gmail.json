{
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Generate Personalized Cold Emails from LinkedIn Jobs with GPT-4o and Gmail",
    "wechat": "youandme10086",
    "id": 9471,
    "update_time": "2025-11-10"
  },
  "nodes": [
    {
      "id": "bee7c975-c5e3-4c07-82a7-dc47caf91c13",
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        -320,
        -32
      ],
      "parameters": {
        "rule": {
          "interval": [
            {
              "triggerAtHour": 8
            }
          ]
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "45776113-89ec-4114-ab85-ee99b023ad48",
      "name": "Linkedin_jobs_scrapper",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        112,
        -32
      ],
      "parameters": {
        "url": "https://api.apify.com/v2/acts/curious_coder~linkedin-jobs-scraper/run-sync-get-dataset-items?token=apify_api_YOUR_TOKEN_HERE",
        "method": "POST",
        "options": {},
        "jsonBody": "{\n    \"count\": 100,\n    \"scrapeCompany\": true,\n    \"urls\": [\n\"https://www.linkedin.com/jobs/search/?currentJobId=4226232719&distance=25&f_E=2%2C3%2C4%2C5%2C6&geoId=101644197&keywords=digital%20marketing%20manager&origin=JOB_SEARCH_PAGE_KEYWORD_HISTORY&refresh=true\",\n\"https://www.linkedin.com/jobs/search/?currentJobId=4230490958&distance=25&f_E=2%2C3%2C4%2C5%2C6&geoId=101644197&keywords=marketing%20manger&origin=JOB_SEARCH_PAGE_SEARCH_BUTTON&refresh=true\"\n    ]\n}",
        "sendBody": true,
        "specifyBody": "json",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpQueryAuth"
      },
      "credentials": {
        "httpQueryAuth": {
          "id": "ZKDMMEtsGERsYgsO",
          "name": "Query Auth account"
        }
      },
      "typeVersion": 4.2
    },
    {
      "id": "d3145b60-0264-4369-bfe5-01acff4e7596",
      "name": "Save_usefull_infos",
      "type": "n8n-nodes-base.set",
      "position": [
        1424,
        16
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "b721af74-da7b-406e-89fa-067c354f886d",
              "name": "JobUrl",
              "type": "string",
              "value": "={{ $json.link }}"
            },
            {
              "id": "6a0433ec-4010-4da8-ad7b-98f513d77287",
              "name": "companyLinkedinUrl",
              "type": "string",
              "value": "={{ $json.companyLinkedinUrl }}"
            },
            {
              "id": "5b8e0cce-53c1-490d-81aa-4afb5da23a57",
              "name": "companySize",
              "type": "string",
              "value": "={{ $json.companyEmployeesCount }}"
            },
            {
              "id": "116f312f-8e98-4e62-84a7-68e6d4895630",
              "name": "companyName",
              "type": "string",
              "value": "={{ $json.companyName }}"
            },
            {
              "id": "ac1063f8-40f9-405c-a3a9-28bf8bc4d749",
              "name": "companyWebsite",
              "type": "string",
              "value": "={{ $json.companyWebsite }}"
            },
            {
              "id": "0aa89f48-9b17-4d69-ad92-12f393d2483e",
              "name": "companyDescription",
              "type": "string",
              "value": "={{ $json.companyDescription }}"
            },
            {
              "id": "dfb910c4-4ca4-4ec0-8965-7e632fcaf452",
              "name": "jobSalary",
              "type": "string",
              "value": "={{ $json.salaryInfo }}"
            },
            {
              "id": "75e71682-c7e5-4f3d-a563-64c6a190d159",
              "name": "jobDescription",
              "type": "string",
              "value": "={{ $json.descriptionText }}"
            },
            {
              "id": "227ca947-a5bf-4a27-9673-799d459cf539",
              "name": "applicantsCount",
              "type": "string",
              "value": "={{ $json.applicantsCount }}"
            },
            {
              "id": "165710ad-3a4e-4e2c-a22e-f3d26f871fef",
              "name": "industries",
              "type": "string",
              "value": "={{ $json.industries }}"
            },
            {
              "id": "d03866b2-cc87-4779-bad5-a2ce6e7f99cd",
              "name": "jobPosterProfileUrl",
              "type": "string",
              "value": "={{ $json.jobPosterProfileUrl }}"
            },
            {
              "id": "29b36e43-6150-4b9f-8171-36a559fdbb91",
              "name": "jobPosterName",
              "type": "string",
              "value": "={{ $json.jobPosterName }}"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "36763898-7847-4e59-a69f-7f96d83c4598",
      "name": "Remove_duplicates",
      "type": "n8n-nodes-base.removeDuplicates",
      "position": [
        528,
        -32
      ],
      "parameters": {
        "compare": "selectedFields",
        "options": {},
        "fieldsToCompare": "companyName"
      },
      "typeVersion": 2
    },
    {
      "id": "a35e03a2-3b6d-46fb-b678-f7db354e4ad7",
      "name": "Ceo_email",
      "type": "n8n-nodes-base.httpRequest",
      "onError": "continueRegularOutput",
      "position": [
        16,
        288
      ],
      "parameters": {
        "url": "https://api.anymailfinder.com/v5.0/search/decision-maker.json",
        "method": "POST",
        "options": {},
        "jsonBody": "={\n  \"domain\": \"{{ $json.companyWebsite }}\",\n  \"company_name\": \"{{ $json.companyName }}\",\n  \"decision_maker_category\": \"ceo\"\n}",
        "sendBody": true,
        "specifyBody": "json",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth"
      },
      "credentials": {
        "httpHeaderAuth": {
          "id": "DkhHE2bsbKozNCAG",
          "name": "Header Auth account"
        }
      },
      "typeVersion": 4.2
    },
    {
      "id": "9f1783a9-63f5-4068-8bf9-8f2ccdc9b266",
      "name": "Sales_email",
      "type": "n8n-nodes-base.httpRequest",
      "onError": "continueRegularOutput",
      "position": [
        16,
        448
      ],
      "parameters": {
        "url": "https://api.anymailfinder.com/v5.0/search/decision-maker.json",
        "method": "POST",
        "options": {},
        "jsonBody": "={\n  \"domain\": \"{{ $json.companyWebsite }}\",\n  \"company_name\": \"{{ $json.companyName }}\",\n  \"decision_maker_category\": \"sales\"\n}",
        "sendBody": true,
        "specifyBody": "json",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth"
      },
      "credentials": {
        "httpHeaderAuth": {
          "id": "DkhHE2bsbKozNCAG",
          "name": "Header Auth account"
        }
      },
      "typeVersion": 4.2,
      "alwaysOutputData": false
    },
    {
      "id": "2788d829-0cc1-42d0-a8cb-00601a77e1f6",
      "name": "Marketing_email",
      "type": "n8n-nodes-base.httpRequest",
      "onError": "continueRegularOutput",
      "position": [
        16,
        608
      ],
      "parameters": {
        "url": "https://api.anymailfinder.com/v5.0/search/decision-maker.json",
        "method": "POST",
        "options": {},
        "jsonBody": "={\n  \"domain\": \"{{ $json.companyWebsite }}\",\n  \"company_name\": \"{{ $json.companyName }}\",\n  \"decision_maker_category\": \"marketing\"\n}",
        "sendBody": true,
        "specifyBody": "json",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth"
      },
      "credentials": {
        "httpHeaderAuth": {
          "id": "DkhHE2bsbKozNCAG",
          "name": "Header Auth account"
        }
      },
      "typeVersion": 4.2,
      "alwaysOutputData": false
    },
    {
      "id": "eb7d8833-9c8d-43f6-ae29-1bcef44f3a77",
      "name": "Filter_staffing",
      "type": "n8n-nodes-base.filter",
      "position": [
        960,
        -32
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "2dc03eae-2120-4ebb-823e-ae19af3121ee",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              },
              "leftValue": "={{ ($json.title && ($json.title.toLowerCase().includes('marketing manager') || $json.title.toLowerCase().includes('digital marketing manager'))) && ($json.location && ($json.location.toLowerCase().includes('belgium') || $json.location.toLowerCase().includes('wallonia') || $json.location.toLowerCase().includes('walloon'))) && ($json.seniorityLevel && ($json.seniorityLevel.toLowerCase().includes('associate') || $json.seniorityLevel.toLowerCase().includes('mid-senior') || $json.seniorityLevel.toLowerCase().includes('director') || $json.seniorityLevel.toLowerCase().includes('executive'))) && (!$json.companyDescription || !($json.companyDescription.toLowerCase().includes('head hunter') || $json.companyDescription.toLowerCase().includes('headhunter') || $json.companyDescription.toLowerCase().includes('job seeking') || $json.companyDescription.toLowerCase().includes('hr compan') || $json.companyDescription.toLowerCase().includes('selectiekantoor') || $json.companyDescription.toLowerCase().includes('cabinet de recrutement') || $json.companyDescription.toLowerCase().includes('placement company') || $json.companyDescription.toLowerCase().includes('placement talent') || $json.companyDescription.toLowerCase().includes('interim'))) }}",
              "rightValue": "="
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "25e4df6a-93c7-4083-9e1b-b52b1ca4acbe",
      "name": "Filter_domain_and_size",
      "type": "n8n-nodes-base.filter",
      "position": [
        -368,
        272
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "7e6f56a1-663e-4274-b380-60fb11474c28",
              "operator": {
                "type": "string",
                "operation": "notEmpty",
                "singleValue": true
              },
              "leftValue": "={{ $json.companySize }}",
              "rightValue": ""
            },
            {
              "id": "fd014a8f-81be-4498-a719-f99b29a96325",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              },
              "leftValue": "={{ $json.companyWebsite && !$json.companyWebsite.includes(\"bit.ly\") }}",
              "rightValue": ""
            },
            {
              "id": "e2ced613-ccb3-440d-a731-89b2cd6869a6",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              },
              "leftValue": "={{ !$json.companySize || $json.companySize < 100 }}",
              "rightValue": ""
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "37b8d13f-1286-4690-aa34-81fdae2b6019",
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        -192,
        432
      ],
      "parameters": {
        "options": {}
      },
      "typeVersion": 3
    },
    {
      "id": "27fa2975-7e47-4b0c-a984-ce07488fa741",
      "name": "Merge",
      "type": "n8n-nodes-base.merge",
      "position": [
        256,
        432
      ],
      "parameters": {
        "numberInputs": 3
      },
      "typeVersion": 3.1
    },
    {
      "id": "468c3a02-927d-47d2-9224-fb9c81052b53",
      "name": "Wait",
      "type": "n8n-nodes-base.wait",
      "position": [
        1408,
        640
      ],
      "webhookId": "1188a578-634f-4121-b4ae-65d70fa38a24",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "e2694d3a-4bd4-4677-a2a4-333df3162ec5",
      "name": "If",
      "type": "n8n-nodes-base.if",
      "position": [
        400,
        592
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "d8ac3b4e-5ae4-49d1-8e79-08a684b1714c",
              "operator": {
                "type": "number",
                "operation": "notEquals"
              },
              "leftValue": "={{ $json.error.status }}",
              "rightValue": 404
            },
            {
              "id": "b8ecf814-cc43-4b8e-9b5e-aa982c65555b",
              "operator": {
                "type": "string",
                "operation": "notEmpty",
                "singleValue": true
              },
              "leftValue": "={{ $json.result.email }}",
              "rightValue": ""
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "328a15bd-991d-46fc-9bd4-77bcf0bbf668",
      "name": "Remove_duplicates1",
      "type": "n8n-nodes-base.removeDuplicates",
      "position": [
        720,
        352
      ],
      "parameters": {
        "compare": "selectedFields",
        "options": {},
        "fieldsToCompare": "result.email"
      },
      "typeVersion": 2
    },
    {
      "id": "e1643e85-34fe-4666-b5dd-1de1ce98907b",
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "position": [
        544,
        352
      ],
      "parameters": {
        "options": {},
        "fieldToSplitOut": "result.email, result.personFullName, result.personLinkedinUrl"
      },
      "typeVersion": 1
    },
    {
      "id": "f3c37b3e-6f83-4d46-9fff-59b73c2833c2",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -400,
        208
      ],
      "parameters": {
        "color": 6,
        "width": 200,
        "height": 200,
        "content": "### Target specific company size"
      },
      "typeVersion": 1
    },
    {
      "id": "cd409eab-d676-4daf-81b2-5bf1b6aec99c",
      "name": "Extract_lead_name",
      "type": "n8n-nodes-base.code",
      "position": [
        896,
        352
      ],
      "parameters": {
        "jsCode": "return items.map((item) => {\n  const fullname = item.json[\"result.personFullName\"] || \"\";\n  let firstName = \"\";\n  let lastName = \"\";\n\n  const nameParts = fullname.trim().split(/\\s+/);\n  firstName = nameParts[0] || \"\";\n  lastName = nameParts.slice(1).join(\" \") || \"\";\n\n  return {\n    json: {\n      firstName: capitalize(firstName),\n      lastName: capitalize(lastName),\n    },\n  };\n});\n\nfunction capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase();\n}\n"
      },
      "typeVersion": 2
    },
    {
      "id": "5c08462f-7083-4417-98a1-d1525c63e5c7",
      "name": "Add_lead_info",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        1120,
        352
      ],
      "parameters": {
        "columns": {
          "value": {
            "email": "={{ $('Remove_duplicates1').item.json['result.email'] }}",
            "job url": "={{ $('Loop Over Items').item.json.JobUrl }}",
            "fullname": "={{ $('Remove_duplicates1').item.json['result.personFullName'] }}",
            "job title": "={{ $('If').item.json.result.personJobTitle }}",
            "first name": "={{ $('Extract_lead_name').item.json.firstName }}",
            "companyName": "={{ $('Loop Over Items').item.json.companyName }}",
            "job country": "={{ $('Filter_staffing').item.json.companyAddress.addressCountry }}",
            "company size": "={{ $('Loop Over Items').item.json.companySize }}",
            "company domain": "={{ $('Loop Over Items').item.json.companyWebsite }}",
            "email verified": "={{ $('If').item.json.result.emailVerified }}",
            "company industry": "={{ $('Loop Over Items').item.json.industries }}",
            "company linkedin": "={{ $('Loop Over Items').item.json.companyLinkedinUrl }}",
            "company description": "={{ $('Loop Over Items').item.json.companyDescription }}",
            "linkedin profile url": "={{ $('Remove_duplicates1').item.json['result.personLinkedinUrl'] }}"
          },
          "schema": [
            {
              "id": "job url",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "job url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "email",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "email",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "first name",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "first name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "fullname",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "fullname",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "job title",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "job title",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "companyName",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "companyName",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "company linkedin",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "company linkedin",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "company domain",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "company domain",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "company description",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "company description",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "company industry",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "company industry",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "company size",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "company size",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "job country",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "job country",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "linkedin profile url",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "linkedin profile url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "email verified",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "email verified",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "append",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": "gid=0",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1BO39ak3eL3Lhv32WiH1l4WoTYYYHu4PHVHafic001po/edit#gid=0",
          "cachedResultName": "Tabellenblatt1"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1BO39ak3eL3Lhv32WiH1l4WoTYYYHu4PHVHafic001po",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1BO39ak3eL3Lhv32WiH1l4WoTYYYHu4PHVHafic001po/edit?usp=drivesdk",
          "cachedResultName": "LinkedIn Job Scraper"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "cjPjcwa3RdiMAu79",
          "name": "Google Sheets account"
        }
      },
      "retryOnFail": true,
      "typeVersion": 4.5,
      "waitBetweenTries": 5000
    },
    {
      "id": "3d5a94bd-7c5d-42e0-92d6-5fc4073a6f61",
      "name": "Generate custom script",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        1376,
        352
      ],
      "parameters": {
        "modelId": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o",
          "cachedResultName": "GPT-4O"
        },
        "options": {},
        "messages": {
          "values": [
            {
              "role": "system",
              "content": "=You are an expert cold email marketing specialist working for a Belgium-focused marketing agency. Your primary responsibility is to craft highly personalized, conversion-focused outreach emails targeting Belgian companies that have recently posted job openings for marketing managers or similar marketing roles.\nYour agency's value proposition is positioning itself as a superior alternative to hiring in-house marketing staff. You help companies avoid the lengthy, expensive, and risky process of recruitment, onboarding, training, and managing internal marketing employees by offering comprehensive marketing agency services instead.\nCore Writing Guidelines:\n\nWrite exclusively in English, even when contacting Belgian companies\nMaintain a professional yet approachable and friendly tone throughout\nKeep emails concise and impactful (maximum 100-120 words total)\nFocus on value proposition rather than pushy sales tactics\nUse conversational language that feels personal, not templated\nDemonstrate understanding of their specific hiring challenge\nPosition the agency as a strategic partner, not just a service provider\n\nEmail Structure Requirements:\n\nContext Opening: Reference their specific job posting to show you've done research\nValue Introduction: Introduce what your agency does as an alternative solution\nProblem-Solution Framework: Highlight recruitment pain points and how agency partnership solves them\nSocial Proof: Include brief example or case study reference\nSoft Call-to-Action: Request a brief, low-commitment conversation\n\nPersonalization Standards:\n\nAlways use the prospect's first name in greeting\nReference specific job title and company name\nMention the job posting URL as proof of research\nIncorporate company industry or description when relevant\nEnsure each email feels individually crafted, not mass-generated\n\nProhibited Elements:\n\nGeneric, templated language\nAggressive sales tactics or pressure\nLengthy explanations or feature lists\nMultiple calls-to-action\nOverly formal or corporate language\nAny spelling or grammar errors\n\nOUTPUT FORMAT REQUIREMENT:\nAlways output the email as plain text without any markdown formatting, code blocks, backticks, or special formatting characters. The email should be ready to copy and paste directly into an email client without any modifications."
            },
            {
              "content": "Write a personalized cold email following the exact structure and tone established in the system instructions. The email should target a Belgian company that has posted a marketing manager job opening. Use the proven template framework while adapting the content to feel natural and personalized based on the provided company and job data.\nRequired Email Structure:\n\nOpening: Start with a personalized greeting using the prospect's first name, immediately followed by acknowledging their specific job posting. Reference the exact job title and include a mention that you've created a personalized video for them.\nVideo Integration: Include the placeholder \"[VIDEO PLACEHOLDER]\" exactly as shown, positioned naturally after mentioning the job posting discovery.\nValue Proposition: Transition smoothly into presenting agency partnership as an alternative to internal hiring. Focus on the benefits of avoiding recruitment hassles, management overhead, and onboarding complexities.\nSocial Proof: Include a brief, credible example of another company (you can use a generic reference like \"Company X\" or create a believable industry-relevant example) that chose agency partnership over internal hiring. Mention specific benefits they achieved: faster results, more flexibility, no overhead costs.\nCall-to-Action: End with a soft, low-pressure request for a brief 10-minute phone conversation. Frame it as a quick discussion rather than a sales meeting.\nClosing: Use a professional but friendly sign-off.\n\nTemplate Reference (adapt this structure, don't copy verbatim):\n\"Hi [FirstName],\nI noticed you're hiring a [job title] — so I made quick video for you:\n[VIDEO PLACEHOLDER]\nInstead of going through the lengthy process of recruitment, onboarding, and management, have you considered working with an agency?\nThat's exactly what we did with [relevant example]. They were planning to hire in-house but decided to partner with us instead. We now handle their marketing execution end-to-end — faster results, more flexibility, no overhead.\nWould it be a bad idea to hop on a quick 10-minute call this week?\nBest regards,\"\nQuality Requirements:\n\nEmail must feel personally written for this specific prospect\nNatural flow between sentences and paragraphs\nProfessional tone without being overly formal\nClear value proposition that addresses their immediate need\nCredible and relevant social proof example\nCompelling but non-pushy call-to-action\n\nOUTPUT FORMAT REQUIREMENT:\nAlways output the email as plain text without any markdown formatting, code blocks, backticks, or special formatting characters. The email should be ready to copy and paste directly into an email client without any modifications."
            },
            {
              "content": "=Now personalize the email using the following scraped LinkedIn job posting data. Integrate the relevant information naturally into the email structure, ensuring it feels specifically tailored to this prospect and opportunity. Only use data points that enhance personalization and credibility - don't force unnecessary details into the email.\nJSON Data:\n{\n\"email\": \"{{ $json.email }}\",\n\"first_name\": \"{{ $json['first name'] }}\",\n\"linkedin_profile_url\": \"{{ $json['linkedin profile url'] }}\",\n\"full_name\": \"{{ $json.fullname }}\",\n\"job_url\": \"{{ $json['job url'] }}\",\n\"job_title\": \"{{ $json['job title'] }}\",\n\"company_name\": \"{{ $json.companyName }}\",\n\"company_linkedin\": \"{{ $json['company linkedin'] }}\",\n\"company_domain\": \"{{ $json['company domain'] }}\",\n\"company_description\": \"{{ $json['company description'] }}\",\n\"company_industry\": \"{{ $json['company industry'] }}\",\n\"company_size\": \"{{ $json['company size'] }}\",\n\"email_verified\": \"{{ $json['email verified'] }}\",\n\"job_country\": \"{{ $json['job country'] }}\"\n}\nAvailable Personalization Variables:\nContact Information:\n\nfirst_name: {{ $json['first name'] }} - Use this for the personal greeting and throughout the email\nfull_name: {{ $json.fullname }} - Available if needed for formal reference\nemail: {{ $json.email }} - Recipient's email address\n\nJob Posting Details:\n\njob_title: {{ $json['job title'] }} - Reference this specific position in your opening\njob_url: {{ $json['job url'] }} - Use as proof of research and context\njob_country: {{ $json['job country'] }} - Should be Belgium, confirms targeting accuracy\n\nCompany Information:\n\ncompany_name: {{ $json.companyName }} - Essential for personalization throughout\ncompany_description: {{ $json['company description'] }} - Use for industry context if relevant\ncompany_industry: {{ $json['company industry'] }} - Helpful for tailoring value proposition\ncompany_size: {{ $json['company size'] }} - Can inform approach (startup vs enterprise)\ncompany_domain: {{ $json['company domain'] }} - Available for additional research context\ncompany_linkedin: {{ $json['company linkedin'] }} - LinkedIn company page reference\n\nPersonalization Instructions:\n\nMandatory Usage: Always use {{ $json['first name'] }}, {{ $json['job title'] }}, and {{ $json.companyName }}\nContextual Integration: Incorporate {{ $json['company industry'] }} or {{ $json['company description'] }} if it adds relevant value to your positioning\nSocial Proof Matching: If possible, reference a similar company size or industry in your example\nJob Reference: Naturally mention you found their {{ $json['job title'] }} posting\nProfessional Relevance: Only include details that strengthen your credibility or relevance\n\nExample Integration Patterns:\n\n\"Hi {{ $json['first name'] }}, I noticed {{ $json.companyName }} is hiring a {{ $json['job title'] }}...\"\n\"...especially for [industry] companies like {{ $json.companyName }}...\"\n\"...similar to what we did with another [industry/size] company...\"\n\nFinal Requirements:\n\nEnsure all variable placeholders are properly formatted for N8n workflow integration using the JSON format above\nMaintain the exact [VIDEO PLACEHOLDER] text for manual video insertion\nKeep the email under 120 words while including personalized elements\nDouble-check that the email flows naturally despite variable insertions\nVerify the call-to-action remains clear and compelling\n\nOUTPUT FORMAT REQUIREMENT:\nAlways output the email as plain text without any markdown formatting, code blocks, backticks, or special formatting characters. The email should be ready to copy and paste directly into an email client without any modifications.\n"
            }
          ]
        }
      },
      "credentials": {
        "openAiApi": {
          "id": "Kzhpo6yW8AwY3uMm",
          "name": "OpenAI account"
        }
      },
      "typeVersion": 1.8
    },
    {
      "id": "efbcdfa2-c34b-4c82-96a5-a1469d989055",
      "name": "Generate custom title",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        1744,
        352
      ],
      "parameters": {
        "modelId": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o",
          "cachedResultName": "GPT-4O"
        },
        "options": {},
        "messages": {
          "values": [
            {
              "role": "system",
              "content": "=You are an expert cold email marketing specialist working for a Belgium-focused marketing agency. Your primary responsibility is to craft highly personalized, conversion-focused outreach emails targeting Belgian companies that have recently posted job openings for marketing managers or similar marketing roles.\nYour agency's value proposition is positioning itself as a superior alternative to hiring in-house marketing staff. You help companies avoid the lengthy, expensive, and risky process of recruitment, onboarding, training, and managing internal marketing employees by offering comprehensive marketing agency services instead.\nCore Writing Guidelines:\n\nWrite exclusively in English, even when contacting Belgian companies\nMaintain a professional yet approachable and friendly tone throughout\nKeep emails concise and impactful (maximum 100-120 words total)\nFocus on value proposition rather than pushy sales tactics\nUse conversational language that feels personal, not templated\nDemonstrate understanding of their specific hiring challenge\nPosition the agency as a strategic partner, not just a service provider\n\nEmail Structure Requirements:\n\nContext Opening: Reference their specific job posting to show you've done research\nValue Introduction: Introduce what your agency does as an alternative solution\nProblem-Solution Framework: Highlight recruitment pain points and how agency partnership solves them\nSocial Proof: Include brief example or case study reference\nSoft Call-to-Action: Request a brief, low-commitment conversation\n\nPersonalization Standards:\n\nAlways use the prospect's first name in greeting\nReference specific job title and company name\nMention the job posting URL as proof of research\nIncorporate company industry or description when relevant\nEnsure each email feels individually crafted, not mass-generated\n\nProhibited Elements:\n\nGeneric, templated language\nAggressive sales tactics or pressure\nLengthy explanations or feature lists\nMultiple calls-to-action\nOverly formal or corporate language\nAny spelling or grammar errors\n\nOUTPUT FORMAT REQUIREMENT:\nAlways output the email as plain text without any markdown formatting, code blocks, backticks, or special formatting characters. The email should be ready to copy and paste directly into an email client without any modifications."
            },
            {
              "content": "Write a personalized cold email following the exact structure and tone established in the system instructions. The email should target a Belgian company that has posted a marketing manager job opening. Use the proven template framework while adapting the content to feel natural and personalized based on the provided company and job data.\nRequired Email Structure:\n\nOpening: Start with a personalized greeting using the prospect's first name, immediately followed by acknowledging their specific job posting. Reference the exact job title and include a mention that you've created a personalized video for them.\nVideo Integration: Include the placeholder \"[VIDEO PLACEHOLDER]\" exactly as shown, positioned naturally after mentioning the job posting discovery.\nValue Proposition: Transition smoothly into presenting agency partnership as an alternative to internal hiring. Focus on the benefits of avoiding recruitment hassles, management overhead, and onboarding complexities.\nSocial Proof: Include a brief, credible example of another company (you can use a generic reference like \"Company X\" or create a believable industry-relevant example) that chose agency partnership over internal hiring. Mention specific benefits they achieved: faster results, more flexibility, no overhead costs.\nCall-to-Action: End with a soft, low-pressure request for a brief 10-minute phone conversation. Frame it as a quick discussion rather than a sales meeting.\nClosing: Use a professional but friendly sign-off.\n\nTemplate Reference (adapt this structure, don't copy verbatim):\n\"Hi [FirstName],\nI noticed you're hiring a [job title] — so I made quick video for you:\n[VIDEO PLACEHOLDER]\nInstead of going through the lengthy process of recruitment, onboarding, and management, have you considered working with an agency?\nThat's exactly what we did with [relevant example]. They were planning to hire in-house but decided to partner with us instead. We now handle their marketing execution end-to-end — faster results, more flexibility, no overhead.\nWould it be a bad idea to hop on a quick 10-minute call this week?\nBest regards,\"\nQuality Requirements:\n\nEmail must feel personally written for this specific prospect\nNatural flow between sentences and paragraphs\nProfessional tone without being overly formal\nClear value proposition that addresses their immediate need\nCredible and relevant social proof example\nCompelling but non-pushy call-to-action\n\nOUTPUT FORMAT REQUIREMENT:\nAlways output the email as plain text without any markdown formatting, code blocks, backticks, or special formatting characters. The email should be ready to copy and paste directly into an email client without any modifications."
            },
            {
              "content": "=Now personalize the email using the following scraped LinkedIn job posting data. Integrate the relevant information naturally into the email structure, ensuring it feels specifically tailored to this prospect and opportunity. Only use data points that enhance personalization and credibility - don't force unnecessary details into the email.\nJSON Data:\njson{\n\"email\": \"{{ $json.email }}\",\n\"first_name\": \"{{ $json['first name'] }}\",\n\"linkedin_profile_url\": \"{{ $json['linkedin profile url'] }}\",\n\"full_name\": \"{{ $json.fullname }}\",\n\"job_url\": \"{{ $json['job url'] }}\",\n\"job_title\": \"{{ $json['job title'] }}\",\n\"company_name\": \"{{ $json.companyName }}\",\n\"company_linkedin\": \"{{ $json['company linkedin'] }}\",\n\"company_domain\": \"{{ $json['company domain'] }}\",\n\"company_description\": \"{{ $json['company description'] }}\",\n\"company_industry\": \"{{ $json['company industry'] }}\",\n\"company_size\": \"{{ $json['company size'] }}\",\n\"email_verified\": \"{{ $json['email verified'] }}\",\n\"job_country\": \"{{ $json['job country'] }}\"\n}\nAvailable Personalization Variables:\nContact Information:\n\nfirst_name: {{ $json['first name'] }} - Use this for the personal greeting and throughout the email\nfull_name: {{ $json.fullname }} - Available if needed for formal reference\nemail: {{ $json.email }} - Recipient's email address\n\nJob Posting Details:\n\njob_title: {{ $json['job title'] }} - Reference this specific position in your opening\njob_url: {{ $json['job url'] }} - Use as proof of research and context\njob_country: {{ $json['job country'] }} - Should be Belgium, confirms targeting accuracy\n\nCompany Information:\n\ncompany_name: {{ $json.companyName }} - Essential for personalization throughout\ncompany_description: {{ $json['company description'] }} - Use for industry context if relevant\ncompany_industry: {{ $json['company industry'] }} - Helpful for tailoring value proposition\ncompany_size: {{ $json['company size'] }} - Can inform approach (startup vs enterprise)\ncompany_domain: {{ $json['company domain'] }} - Available for additional research context\ncompany_linkedin: {{ $json['company linkedin'] }} - LinkedIn company page reference\n\nPersonalization Instructions:\n\nMandatory Usage: Always use {{ $json['first name'] }}, {{ $json['job title'] }}, and {{ $json.companyName }}\nContextual Integration: Incorporate {{ $json['company industry'] }} or {{ $json['company description'] }} if it adds relevant value to your positioning\nSocial Proof Matching: If possible, reference a similar company size or industry in your example\nJob Reference: Naturally mention you found their {{ $json['job title'] }} posting\nProfessional Relevance: Only include details that strengthen your credibility or relevance\n\nExample Integration Patterns:\n\n\"Hi {{ $json['first name'] }}, I noticed {{ $json.companyName }} is hiring a {{ $json['job title'] }}...\"\n\"...especially for [industry] companies like {{ $json.companyName }}...\"\n\"...similar to what we did with another [industry/size] company...\"\n\nFinal Requirements:\n\nEnsure all variable placeholders are properly formatted for N8n workflow integration using the JSON format above\nMaintain the exact [VIDEO PLACEHOLDER] text for manual video insertion\nKeep the email under 120 words while including personalized elements\nDouble-check that the email flows naturally despite variable insertions\nVerify the call-to-action remains clear and compelling\n\nOUTPUT FORMAT REQUIREMENT:\nAlways output the email as plain text without any markdown formatting, code blocks, backticks, or special formatting characters. The email should be ready to copy and paste directly into an email client without any modifications.\n"
            },
            {
              "content": "=Create a short, casual but smart subject line for the cold outreach email that includes the prospect's first name and serves as an icebreaker. The subject line should be optimized for cold email open rates and feel personal rather than salesy.\nSubject Line Requirements:\n\nInclude the prospect's first name: {{ $('Add_lead_info').item.json['first name'] }}\nMaximum 6-8 words total\nCasual but professional tone\nCreate curiosity without being clickbaity\nReference the hiring context subtly if possible\nAvoid spam trigger words\nSound like it could be from a real person, not a marketing automation\n\nSubject Line Style Examples:\n\n\"{{ $('Add_lead_info').item.json['first name'] }}, quick question about [company/hiring]\"\n\"{{ $('Add_lead_info').item.json['first name'] }}, saw your [job title] posting\"\n\"{{ $('Add_lead_info').item.json['first name'] }}, alternative to hiring?\"\n\"{{ $('Add_lead_info').item.json['first name'] }}, made you a video\"\n\"{{ $('Add_lead_info').item.json['first name'] }}, skip the recruitment hassle?\"\n\nAvailable Variables for Subject Line:\n\nfirst_name: {{ $('Add_lead_info').item.json['first name'] }}\ncompany_name: {{ $('Add_lead_info').item.json.companyName }}\njob_title: {{ $('Merge').item.json.result.personJobTitle }}\n\nOUTPUT FORMAT REQUIREMENT:\nProvide only the subject line text as plain text without any formatting, quotation marks, or special characters. The output should be ready to use directly in the email campaign without any modifications."
            }
          ]
        }
      },
      "credentials": {
        "openAiApi": {
          "id": "Kzhpo6yW8AwY3uMm",
          "name": "OpenAI account"
        }
      },
      "typeVersion": 1.8
    },
    {
      "id": "479fd5b4-9156-4d03-a59c-f1bd6030e5ba",
      "name": "Send Draft",
      "type": "n8n-nodes-base.gmail",
      "position": [
        2176,
        352
      ],
      "webhookId": "382c6e0b-fabc-4751-8089-50d9fb47e5f1",
      "parameters": {
        "message": "={{ $('Generate custom script').item.json.message.content }}",
        "options": {
          "ccList": "={{ $('Add_lead_info').item.json.email }}"
        },
        "subject": "={{ $json.message.content }}",
        "resource": "draft"
      },
      "credentials": {
        "gmailOAuth2": {
          "id": "vdI9VLsEmuPzPxxo",
          "name": "Gmail account"
        }
      },
      "typeVersion": 2.1
    },
    {
      "id": "7faa2892-8797-46ea-b0fd-ad38407cdfb7",
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1728,
        288
      ],
      "parameters": {
        "color": 7,
        "width": 340,
        "height": 220,
        "content": "### Generate custom title (GPT API)\n"
      },
      "typeVersion": 1
    },
    {
      "id": "ff91718d-e100-4bb8-95d5-5f6d0b686cdc",
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1344,
        288
      ],
      "parameters": {
        "color": 7,
        "width": 340,
        "height": 220,
        "content": "### Generate custom script (GPT API)\n"
      },
      "typeVersion": 1
    },
    {
      "id": "3a2008e2-53b2-49ed-85aa-26d26a45c710",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1088,
        288
      ],
      "parameters": {
        "color": 5,
        "width": 220,
        "height": 220,
        "content": "### Add lead to email campaign with all infos"
      },
      "typeVersion": 1
    },
    {
      "id": "de7589a3-b062-4cc0-83ee-89c0317738a1",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        688,
        288
      ],
      "parameters": {
        "color": 7,
        "width": 360,
        "height": 220,
        "content": "### Retrieve lead name and remove duplicate emails found"
      },
      "typeVersion": 1
    },
    {
      "id": "e0736f53-769f-4e31-96dd-979b07026326",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -192,
        208
      ],
      "parameters": {
        "color": 4,
        "width": 840,
        "height": 580,
        "content": "## Find main decisions maker emails on each relevant company"
      },
      "typeVersion": 1
    },
    {
      "id": "15df698c-59ab-4543-a38e-39d8e5de2a7f",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -384,
        -112
      ],
      "parameters": {
        "color": 5,
        "width": 720,
        "height": 280,
        "content": "## Everyday we scrap jobs from multiple searchs in linkedin jobs"
      },
      "typeVersion": 1
    },
    {
      "id": "6524d98c-ef04-4bd8-b89c-ae6e3d939003",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        416,
        -112
      ],
      "parameters": {
        "color": 3,
        "width": 1160,
        "height": 280,
        "content": "## Filter human ressource or staffing company as well as duplicate and save the remaining infos"
      },
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "If": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Ceo_email": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Remove_duplicates1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send Draft": {
      "main": [
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Sales_email": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Add_lead_info": {
      "main": [
        [
          {
            "node": "Generate custom script",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter_staffing": {
      "main": [
        [
          {
            "node": "Save_usefull_infos",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [],
        [
          {
            "node": "Ceo_email",
            "type": "main",
            "index": 0
          },
          {
            "node": "Sales_email",
            "type": "main",
            "index": 0
          },
          {
            "node": "Marketing_email",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Marketing_email": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Linkedin_jobs_scrapper",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract_lead_name": {
      "main": [
        [
          {
            "node": "Add_lead_info",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Remove_duplicates": {
      "main": [
        [
          {
            "node": "Filter_staffing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Remove_duplicates1": {
      "main": [
        [
          {
            "node": "Extract_lead_name",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Save_usefull_infos": {
      "main": [
        [
          {
            "node": "Filter_domain_and_size",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate custom title": {
      "main": [
        [
          {
            "node": "Send Draft",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter_domain_and_size": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate custom script": {
      "main": [
        [
          {
            "node": "Generate custom title",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Linkedin_jobs_scrapper": {
      "main": [
        [
          {
            "node": "Remove_duplicates",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}