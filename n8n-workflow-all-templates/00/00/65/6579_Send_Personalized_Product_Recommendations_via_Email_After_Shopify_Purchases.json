{
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Send Personalized Product Recommendations via Email After Shopify Purchases",
    "wechat": "youandme10086",
    "id": 6579,
    "update_time": "2025-11-10"
  },
  "nodes": [
    {
      "id": "eb7a7d59-909a-4f67-8494-c30382677ed6",
      "name": "Order Created Trigger",
      "type": "n8n-nodes-base.shopifyTrigger",
      "position": [
        432,
        400
      ],
      "webhookId": "order-upsell-webhook",
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "d81c2bcd-30e6-4773-a006-e43c54d820ad",
      "name": "Wait 10 Minutes",
      "type": "n8n-nodes-base.wait",
      "position": [
        624,
        400
      ],
      "webhookId": "d48d9277-4e9c-4237-8f2b-adb771ea8dd2",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "8e416cac-b423-4b2f-8e9d-f5d01f842998",
      "name": "Generate Recommendation IDs",
      "type": "n8n-nodes-base.code",
      "position": [
        832,
        400
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "a752436a-3915-4e0b-aeae-ee25394fabf0",
      "name": "If Recommendations Exist",
      "type": "n8n-nodes-base.if",
      "position": [
        1024,
        400
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "dfcc208c-9e4e-4345-a381-49844fc8d09e",
      "name": "Split Recommended Products",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        1264,
        288
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "0ead3deb-4ba2-4770-9e4e-dc2887064be3",
      "name": "Get Product Details",
      "type": "n8n-nodes-base.shopify",
      "position": [
        1472,
        288
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "41b7b7b9-f85b-4884-8b0a-ea7fcb81970e",
      "name": "Merge Product Details (v3.2)",
      "type": "n8n-nodes-base.merge",
      "position": [
        1664,
        288
      ],
      "parameters": {},
      "typeVersion": 3.2
    },
    {
      "id": "77521698-b12b-4231-b1dd-c29f5777896f",
      "name": "Format Recommendations HTML",
      "type": "n8n-nodes-base.code",
      "position": [
        1872,
        288
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "8591bf4c-53ca-404a-9a0a-6019ad205b1d",
      "name": "Send Upsell Email",
      "type": "n8n-nodes-base.emailSend",
      "position": [
        2144,
        288
      ],
      "webhookId": "4428bd0d-ab9c-4580-a656-230f0b6ee219",
      "parameters": {},
      "typeVersion": 2.1
    },
    {
      "id": "73ecb5d4-aa6b-42fc-b445-5d5e50ccefa2",
      "name": "Workflow Info",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        416,
        -416
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "2916081a-1359-454c-944b-5ad08bf4873c",
      "name": "Features & Config",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1312,
        -128
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "a9fa8be1-7807-477f-88e4-78200c51ec54",
      "name": "Business Value",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1680,
        -160
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "Wait 10 Minutes": {
      "main": [
        [
          {
            "node": "Generate Recommendation IDs",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Product Details": {
      "main": [
        [
          {
            "node": "Merge Product Details (v3.2)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Order Created Trigger": {
      "main": [
        [
          {
            "node": "Wait 10 Minutes",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If Recommendations Exist": {
      "main": [
        [
          {
            "node": "Split Recommended Products",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Recommended Products": {
      "main": [
        [
          {
            "node": "Get Product Details",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Format Recommendations HTML": {
      "main": [
        [
          {
            "node": "Send Upsell Email",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Recommendation IDs": {
      "main": [
        [
          {
            "node": "If Recommendations Exist",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge Product Details (v3.2)": {
      "main": [
        [
          {
            "node": "Format Recommendations HTML",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}