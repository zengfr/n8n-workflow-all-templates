{
  "id": "3zGzoLsR5v0Zzmno",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Create Notion Tasks from Telegram Messages with GPT-3.5",
    "wechat": "youandme10086",
    "id": 7087,
    "update_time": "2025-11-10"
  },
  "name": "Telegram New Notion Task",
  "tags": [
    {
      "id": "KOVOG8f4IK9bMwas",
      "name": "ðŸ¤– AI Powered",
      "createdAt": "2025-07-26T12:59:39.942Z",
      "updatedAt": "2025-07-26T13:02:41.754Z"
    }
  ],
  "nodes": [
    {
      "id": "3b50fa4c-5308-44d7-b0d8-57a2d96805c4",
      "name": "Telegram Trigger",
      "type": "n8n-nodes-base.telegramTrigger",
      "position": [
        48,
        -96
      ],
      "webhookId": "90c5bab8-cfa8-4525-aca8-e3d8bdd02a1b",
      "parameters": {
        "updates": [
          "message"
        ],
        "additionalFields": {
          "userIds": "8353510776",
          "download": true
        }
      },
      "credentials": {
        "telegramApi": {
          "id": "1ePYQREXPprmgaYm",
          "name": "Telegram account"
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "485a384d-551b-4aae-a7ca-b7846cc1daa9",
      "name": "Switch text vs audio",
      "type": "n8n-nodes-base.switch",
      "position": [
        224,
        -96
      ],
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "ef952069-0a19-45b5-bff6-f337be61c98f",
                    "operator": {
                      "type": "object",
                      "operation": "exists",
                      "singleValue": true
                    },
                    "leftValue": "={{ $json.message.voice }}",
                    "rightValue": ""
                  }
                ]
              }
            },
            {
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "1418a821-3cfe-4dc3-a75b-c003d875dcc0",
                    "operator": {
                      "type": "string",
                      "operation": "exists",
                      "singleValue": true
                    },
                    "leftValue": "={{ $json.message.text }}",
                    "rightValue": ""
                  }
                ]
              }
            }
          ]
        },
        "options": {}
      },
      "typeVersion": 3.2
    },
    {
      "id": "9ff44832-b7e2-46b1-9475-0b114356a1ff",
      "name": "Download recording",
      "type": "n8n-nodes-base.telegram",
      "position": [
        448,
        -240
      ],
      "webhookId": "67ac3dc3-30fa-432a-81d0-53dc09ecfca4",
      "parameters": {
        "fileId": "={{ $json.message.voice.file_id }}",
        "resource": "file"
      },
      "credentials": {
        "telegramApi": {
          "id": "1ePYQREXPprmgaYm",
          "name": "Telegram account"
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "bf9db602-fbdc-4a28-8a58-35a34842e69b",
      "name": "Confirmation message",
      "type": "n8n-nodes-base.telegram",
      "position": [
        1232,
        -80
      ],
      "webhookId": "7c039879-e733-48bd-9022-910573624191",
      "parameters": {
        "text": "={{ $json.message.content }}",
        "chatId": "8353510776",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "credentials": {
        "telegramApi": {
          "id": "1ePYQREXPprmgaYm",
          "name": "Telegram account"
        }
      },
      "notesInFlow": false,
      "typeVersion": 1.2
    },
    {
      "id": "a4dc46b9-7db8-4217-b200-78be740e0ebc",
      "name": "Transcribe recording",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        672,
        -240
      ],
      "parameters": {
        "options": {},
        "resource": "audio",
        "operation": "transcribe"
      },
      "credentials": {
        "openAiApi": {
          "id": "NPgH1qw6QE8eTcZq",
          "name": "OpenAi account 3"
        }
      },
      "typeVersion": 1.8
    },
    {
      "id": "b241e830-b313-4c5c-9cd2-af6e2906575a",
      "name": "Create new Task in Notion",
      "type": "n8n-nodes-base.notionTool",
      "position": [
        1008,
        128
      ],
      "parameters": {
        "title": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Title', ``, 'string') }}",
        "options": {},
        "resource": "databasePage",
        "databaseId": {
          "__rl": true,
          "mode": "list",
          "value": "22c1b7ff-072a-807a-b0c7-cb5733cb7997",
          "cachedResultName": "Tasks"
        },
        "propertiesUi": {
          "propertyValues": [
            {
              "key": "Do Date|date",
              "date": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('propertyValues0_Date', ``, 'string') }}",
              "timezone": "America/New_York"
            }
          ]
        }
      },
      "credentials": {
        "notionApi": {
          "id": "nC8XWBtNRIPtVuXV",
          "name": "Notion account"
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "fa869e10-c357-4427-960f-0b7accdab483",
      "name": "Handle Text Message",
      "type": "n8n-nodes-base.code",
      "position": [
        560,
        -80
      ],
      "parameters": {
        "jsCode": "return [{ json: { text: $input.first().json.message.text }}]\n"
      },
      "typeVersion": 2
    },
    {
      "id": "8cec9f54-5dab-430d-a2bd-84c5a85ed88a",
      "name": "Interpret Request",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        864,
        -80
      ],
      "parameters": {
        "modelId": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-3.5-turbo",
          "cachedResultName": "GPT-3.5-TURBO"
        },
        "options": {},
        "messages": {
          "values": [
            {
              "role": "system",
              "content": "=You are a friendly helpful assistant!\n\nTodayâ€™s date is: {{ (new Date()).toISOString() }}\n\nThe incoming messages you receive will typically be requests to add new Tasks to a Notion Database. I will probably preface these messages with something like \"remember to\" (or \"don't forget\") which basically all mean to create a new task. Use the Notion tool to create those new tasks.  Some tasks will simply be a title while others may also include a Do Date.  Be sure to set the Do Date field if provided in the original message.\n\nWhenever you do successfully create a new task, please respond with a simple confirmation message. Make the message clever/funny and feel free to include a random or appropriate emoji.  Remember you are only confirming that you've added the task/event, the context of your response doesn't necessarily need to have anything to do with the actual item itself."
            },
            {
              "content": "={{ $json.text }}"
            }
          ]
        }
      },
      "credentials": {
        "openAiApi": {
          "id": "NPgH1qw6QE8eTcZq",
          "name": "OpenAi account 3"
        }
      },
      "typeVersion": 1.8
    },
    {
      "id": "7d031162-e51e-4a92-8245-0796994a5e72",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -448,
        -240
      ],
      "parameters": {
        "color": 5,
        "width": 432,
        "height": 400,
        "content": "## Telegram Add Notion Tasks Workflow\n\nThis workflow will accept incoming messages to your Telegram bot and will decipher them to add a new task to your Notion Tasks database.  You can send the message using plain text or voice recording.  The content of the message is determined by ChatGPT along with the do date and everything added to Notion.\n\n- Configure Telegram in the first step and last steps (your chatId)\n- The system prompt for ChatGPT should be sufficient as is but feel free to adjust slightly to your preferences.\n- Make sure the timezone set in the Notion Task creation step matches the timezone in your workflow settings."
      },
      "typeVersion": 1
    },
    {
      "id": "92a5115b-013e-42fc-ba48-59ba44cb1152",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        752,
        96
      ],
      "parameters": {
        "width": 384,
        "height": 192,
        "content": "Make sure to adjust the timezone\nto your preferred setting."
      },
      "typeVersion": 1
    },
    {
      "id": "d277326d-1006-4e3f-8f13-5daba98bc6b4",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        848,
        -176
      ],
      "parameters": {
        "width": 304,
        "height": 224,
        "content": "**Optional:** Adjust the system prompt here with any specific instructions you deem necessary."
      },
      "typeVersion": 1
    }
  ],
  "active": true,
  "pinData": {},
  "settings": {
    "callerPolicy": "workflowsFromSameOwner",
    "executionOrder": "v1",
    "executionTimeout": -1
  },
  "versionId": "318e6a82-00b3-4967-ba87-5a312faeba30",
  "connections": {
    "Telegram Trigger": {
      "main": [
        [
          {
            "node": "Switch text vs audio",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Interpret Request": {
      "main": [
        [
          {
            "node": "Confirmation message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download recording": {
      "main": [
        [
          {
            "node": "Transcribe recording",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Handle Text Message": {
      "main": [
        [
          {
            "node": "Interpret Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Confirmation message": {
      "main": [
        []
      ]
    },
    "Switch text vs audio": {
      "main": [
        [
          {
            "node": "Download recording",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Handle Text Message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Transcribe recording": {
      "main": [
        [
          {
            "node": "Interpret Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create new Task in Notion": {
      "ai_tool": [
        [
          {
            "node": "Interpret Request",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  }
}