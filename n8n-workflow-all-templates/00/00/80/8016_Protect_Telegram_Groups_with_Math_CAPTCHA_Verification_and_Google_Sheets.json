{
  "id": "FAcGmhcUXdRo9wXG",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Protect Telegram Groups with Math CAPTCHA Verification and Google Sheets",
    "wechat": "youandme10086",
    "id": 8016,
    "update_time": "2025-11-10"
  },
  "name": "NahornyiMainActive",
  "tags": [
    {
      "id": "reI5hAhYO3fQUm7X",
      "name": "Develop",
      "createdAt": "2025-08-05T15:02:04.949Z",
      "updatedAt": "2025-08-05T15:02:04.949Z"
    }
  ],
  "nodes": [
    {
      "id": "39bd8e27-b1f0-49db-b9a8-ce39b3de84a1",
      "name": "ğŸ“± Telegram Trigger",
      "type": "n8n-nodes-base.telegramTrigger",
      "position": [
        -832,
        1584
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "6586948d-a6d9-43d5-b9ee-732a5ce5e650",
      "name": "ğŸ” Check New Member",
      "type": "n8n-nodes-base.if",
      "position": [
        -240,
        1584
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "79711fa2-bc10-4726-9c2c-3a1c0be98e2c",
      "name": "ğŸ² Generate CAPTCHA Question",
      "type": "n8n-nodes-base.code",
      "position": [
        32,
        1568
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "a44702e7-5b0b-4179-bb60-f52e033b628b",
      "name": "ğŸ’¾ Store User Answer",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        976,
        1568
      ],
      "parameters": {},
      "typeVersion": 4.7
    },
    {
      "id": "8ef6f964-eb9a-4e7a-9cf4-3719454c4e27",
      "name": "â“ Send CAPTCHA Question",
      "type": "n8n-nodes-base.telegram",
      "position": [
        384,
        1568
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "e08af060-3440-4d2b-b923-4320bf870723",
      "name": "ğŸš« Ban User (Failed CAPTCHA)",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        1120,
        2736
      ],
      "parameters": {},
      "typeVersion": 4.2,
      "alwaysOutputData": true
    },
    {
      "id": "720132cf-0360-4835-a0c0-731aa7b7721b",
      "name": "âœ… Verify Answer",
      "type": "n8n-nodes-base.if",
      "position": [
        464,
        2176
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "8a438f77-69f6-49e0-86ae-a54f1037b67a",
      "name": "ğŸ‰ Welcome New Member",
      "type": "n8n-nodes-base.telegram",
      "position": [
        912,
        2160
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "d7a8b01c-07e7-4e98-a0f5-923c3df11dd1",
      "name": "ğŸ—‘ï¸ Clean User Data (Success)",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        1520,
        2160
      ],
      "parameters": {},
      "typeVersion": 4.7
    },
    {
      "id": "c6801550-2d59-4d69-a25f-18068f53582d",
      "name": "ğŸ—‘ï¸ Delete Join Message",
      "type": "n8n-nodes-base.telegram",
      "position": [
        704,
        1568
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "7999e2ba-9006-47b2-86b7-95ce7f5520ca",
      "name": "ğŸ—‘ï¸ Delete CAPTCHA Question (Success)",
      "type": "n8n-nodes-base.telegram",
      "position": [
        208,
        2176
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "9f2f2aed-2c87-4eb2-bbca-31fe44e0ab03",
      "name": "ğŸ“‹ Find Pending CAPTCHA",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -32,
        2176
      ],
      "parameters": {},
      "typeVersion": 4.7,
      "alwaysOutputData": false
    },
    {
      "id": "6184cdad-3150-4121-b5af-ad4fbbff0a3b",
      "name": "ğŸ—‘ï¸ Delete User Message",
      "type": "n8n-nodes-base.telegram",
      "position": [
        1328,
        2160
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "7833a78b-1fa9-43dd-be67-50150bd3d2c9",
      "name": "âš™ï¸ Bot Configuration",
      "type": "n8n-nodes-base.set",
      "position": [
        -592,
        1584
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "1f5ef6ae-75d3-4596-9d4a-b41083e6c313",
      "name": "ğŸ“‹ Template Description",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1424,
        1152
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "a9725ae0-2bbf-4f83-9b5a-afc4abd8efa4",
      "name": "ğŸ“ Step 1 Guide",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -352,
        1136
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "ab484e4a-a231-49aa-8d2d-f717c22a6c22",
      "name": "ğŸ“ Step 2 Guide",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -16,
        1136
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "3f34fb20-1704-4dfd-997d-020b371688de",
      "name": "ğŸ“ Step 3 Guide",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        288,
        1136
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "269b30f6-a972-46b8-8c12-3c08ce523947",
      "name": "ğŸ“ Step 4 Guide",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        416,
        1808
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "63feef23-1375-452c-b687-5d7fe111aa88",
      "name": "âœ… Success Path Guide",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        800,
        1808
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "409acb7f-45db-404b-9925-6ca8505f7655",
      "name": "ğŸš« Failure Path Guide",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        832,
        2448
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "3f505a85-c348-496f-87c8-89df5c9193c0",
      "name": "ğŸ§¹ Cleanup Guide",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1264,
        1808
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "b8c22f69-87f4-4f85-afed-c638cf9eb3ae",
      "name": "âš™ï¸ Config Guide",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -672,
        1136
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "18ced02a-4fb3-46a5-a124-66be22b5041b",
      "name": "ğŸ“Š Sheets Guide",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        896,
        1120
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "5a3802ea-46fe-4edc-befb-a50d5a892369",
      "name": "Create URL for banrequest",
      "type": "n8n-nodes-base.set",
      "position": [
        848,
        2736
      ],
      "parameters": {},
      "typeVersion": 3.4
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "a613992c-d92d-433b-9445-6141cdb87c41",
  "connections": {
    "âœ… Verify Answer": {
      "main": [
        [
          {
            "node": "ğŸ‰ Welcome New Member",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Create URL for banrequest",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“± Telegram Trigger": {
      "main": [
        [
          {
            "node": "âš™ï¸ Bot Configuration",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ” Check New Member": {
      "main": [
        [
          {
            "node": "ğŸ² Generate CAPTCHA Question",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ğŸ“‹ Find Pending CAPTCHA",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ‰ Welcome New Member": {
      "main": [
        [
          {
            "node": "ğŸ—‘ï¸ Delete User Message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "âš™ï¸ Bot Configuration": {
      "main": [
        [
          {
            "node": "ğŸ” Check New Member",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create URL for banrequest": {
      "main": [
        [
          {
            "node": "ğŸš« Ban User (Failed CAPTCHA)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "â“ Send CAPTCHA Question": {
      "main": [
        [
          {
            "node": "ğŸ—‘ï¸ Delete Join Message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“‹ Find Pending CAPTCHA": {
      "main": [
        [
          {
            "node": "ğŸ—‘ï¸ Delete CAPTCHA Question (Success)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ—‘ï¸ Delete Join Message": {
      "main": [
        [
          {
            "node": "ğŸ’¾ Store User Answer",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ—‘ï¸ Delete User Message": {
      "main": [
        [
          {
            "node": "ğŸ—‘ï¸ Clean User Data (Success)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ² Generate CAPTCHA Question": {
      "main": [
        [
          {
            "node": "â“ Send CAPTCHA Question",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸš« Ban User (Failed CAPTCHA)": {
      "main": [
        [
          {
            "node": "ğŸ—‘ï¸ Delete User Message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ—‘ï¸ Delete CAPTCHA Question (Success)": {
      "main": [
        [
          {
            "node": "âœ… Verify Answer",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}