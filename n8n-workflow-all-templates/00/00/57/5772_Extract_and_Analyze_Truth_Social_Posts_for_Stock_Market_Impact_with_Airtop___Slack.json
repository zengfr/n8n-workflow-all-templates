{
  "id": "puzC1akjHG3456ue",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Extract and Analyze Truth Social Posts for Stock Market Impact with Airtop & Slack",
    "wechat": "youandme10086",
    "id": 5772,
    "update_time": "2025-11-10"
  },
  "name": "Trump-o-meter Template",
  "tags": [],
  "nodes": [
    {
      "id": "238f0e0a-71ca-4434-b481-da683df58312",
      "name": "When clicking ‘Execute workflow’",
      "type": "n8n-nodes-base.manualTrigger",
      "position": [
        -440,
        -380
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "e8c37340-3fb4-4f4c-841e-7eade92e3c75",
      "name": "Filter",
      "type": "n8n-nodes-base.filter",
      "position": [
        660,
        -380
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "409837cd-d016-4473-9c6d-84f8c7483fb0",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              },
              "leftValue": "={{ $json.post_text }}",
              "rightValue": "None"
            },
            {
              "id": "08272483-deba-4d06-a66c-c50cfabb710f",
              "operator": {
                "type": "string",
                "operation": "notEquals"
              },
              "leftValue": "={{ $json.stock_market_impact.magnitude }}",
              "rightValue": "None"
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "aa96b4a4-b93c-4e01-82f7-672d853b41f0",
      "name": "Slack",
      "type": "n8n-nodes-base.slack",
      "position": [
        880,
        -380
      ],
      "webhookId": "d2351a3b-b7a9-44d6-ba2a-8b0444773945",
      "parameters": {
        "text": "={{ $json.post_text }}\n\nPotential impact on the stock market: {{ $json.stock_market_impact.magnitude }}, {{ $json.stock_market_impact.direction }}",
        "select": "channel",
        "channelId": {
          "__rl": true,
          "mode": "list",
          "value": "C08E83RDJN9",
          "cachedResultName": "n8n-debug"
        },
        "otherOptions": {},
        "authentication": "oAuth2"
      },
      "credentials": {
        "slackOAuth2Api": {
          "id": "SDxCef2uzWkOV8Q2",
          "name": "Slack account 3"
        }
      },
      "typeVersion": 2.3
    },
    {
      "id": "2752a716-65ad-45cc-a373-fa001713b172",
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "position": [
        440,
        -380
      ],
      "parameters": {
        "options": {},
        "fieldToSplitOut": "output.posts"
      },
      "typeVersion": 1
    },
    {
      "id": "5a8967f1-8dd7-411f-9c1e-e5846b204b3b",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1540,
        -720
      ],
      "parameters": {
        "color": 5,
        "width": 1040,
        "height": 1300,
        "content": "README\n\n# Trump-o-meter: Extracting and Evaluating Truth Social Posts\n\n## Use Case\n\nAutomatically extracting posts from Donald Trump's Truth Social account and estimating their potential impact on the U.S. stock market enables teams to monitor high-profile communications that may influence financial markets. This automation streamlines intelligence gathering for analysts, traders, and policy observers.\n\n## What This Automation Does\n\nThis automation retrieves up to 3 posts from Donald Trump's Truth Social profile and outputs structured information including:\n\n* Author name\n* Image URL\n* Post text\n* Post URL\n* Estimated stock market impact:\n\n  * Direction: positive, negative, or neutral\n  * Magnitude: None, Small, Medium, Large\n\n## How It Works\n\n1. Creates a browser session on Truth Social using an Airtop profile.\n2. Navigates to `https://truthsocial.com/@realDonaldTrump`.\n3. Uses a natural language prompt with a defined JSON schema to extract structured data for up to 3 posts.\n4. Splits the results into individual post items.\n5. Filters posts that contain actual content and have a non-zero estimated market impact.\n6. Sends selected posts and impact summaries to a Slack channel.\n7. Terminates the browser session to clean up.\n\n## Setup Requirements\n\n1. [Airtop API Key](https://portal.airtop.ai/api-keys) — free to generate.\n2. An [Airtop Profile](https://portal.airtop.ai/browser-profiles) that is connected and logged into Truth Social.\n3. A Slack workspace and authorized app with write permissions to a target channel.\n\n## Next Steps\n\n* **Integrate with Trading Signals**: Link output to financial alert systems or dashboards for timely insights.\n* **Expand Monitoring**: Extend to other high-impact accounts (e.g., politicians, CEOs).\n* **Enhance Analysis**: Add sentiment scoring or topic classification for deeper context.\n\n## Legal Disclaimer\nThis tool is intended solely for informational and analytical purposes. The market impact estimations provided are speculative and should not be construed as financial advice. **Do not make investment decisions based on this automation.** Always consult with a licensed financial advisor before making any trades.\n"
      },
      "typeVersion": 1
    },
    {
      "id": "84cd624a-39f0-4318-8277-5b708814057b",
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        -440,
        -180
      ],
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "weeks"
            }
          ]
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "39dd927f-d163-4d55-896b-73051714c9d0",
      "name": "Extract and Analyze Posts",
      "type": "n8n-nodes-base.airtop",
      "position": [
        220,
        -280
      ],
      "parameters": {
        "prompt": "This is Truth Social. \nExtract up to 6 posts from @realDonaldTrump. \nFor each post, extract the name of the author, the image URL, the text and the URL.\n\nAlso try to estimate the potential impact of each post on the public stock market in the US:\nDirection - positive, negative, or neutral\nMagnitude - None, Small, Medium or Large",
        "resource": "extraction",
        "additionalFields": {
          "outputSchema": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"posts\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"author_name\": {\n            \"type\": \"string\",\n            \"description\": \"The name of the author of the post.\"\n          },\n          \"image_url\": {\n            \"type\": \"string\",\n            \"description\": \"The URL of the image associated with the post.\"\n          },\n          \"post_text\": {\n            \"type\": \"string\",\n            \"description\": \"The text content of the post.\"\n          },\n          \"post_url\": {\n            \"type\": \"string\",\n            \"description\": \"The URL of the post.\"\n          },\n          \"stock_market_impact\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"direction\": {\n                \"type\": \"string\",\n                \"description\": \"The estimated direction of the post's impact on the US stock market.\"\n              },\n              \"magnitude\": {\n                \"type\": \"string\",\n                \"description\": \"The estimated magnitude of the post's impact on the US stock market.\"\n              }\n            },\n            \"required\": [\n              \"direction\",\n              \"magnitude\"\n            ],\n            \"additionalProperties\": false\n          }\n        },\n        \"required\": [\n          \"author_name\",\n          \"image_url\",\n          \"post_text\",\n          \"post_url\",\n          \"stock_market_impact\"\n        ],\n        \"additionalProperties\": false\n      }\n    }\n  },\n  \"required\": [\n    \"posts\"\n  ],\n  \"additionalProperties\": false,\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\"\n}",
          "parseJsonOutput": true
        }
      },
      "credentials": {
        "airtopApi": {
          "id": "Yi4YPNnovLVUjFn5",
          "name": "Airtop Official Org"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "a2055437-8c3b-4104-a1c1-dc3ee59044b4",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -260,
        -420
      ],
      "parameters": {
        "width": 200,
        "height": 320,
        "content": "## Enter Airtop Profile name here"
      },
      "typeVersion": 1
    },
    {
      "id": "3da92d0a-c837-4625-8b56-669dd79b88ba",
      "name": "Create Airtop Session",
      "type": "n8n-nodes-base.airtop",
      "position": [
        -220,
        -280
      ],
      "parameters": {
        "proxy": "integrated",
        "profileName": "ENTER AIRTOP PROFILE NAME",
        "proxyConfig": {
          "sticky": true,
          "country": "US"
        },
        "additionalFields": {}
      },
      "credentials": {
        "airtopApi": {
          "id": "Yi4YPNnovLVUjFn5",
          "name": "Airtop Official Org"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "03bca384-9f71-449f-9662-415b7582bfa8",
      "name": "Create Airtop Browser",
      "type": "n8n-nodes-base.airtop",
      "position": [
        0,
        -280
      ],
      "parameters": {
        "url": "https://truthsocial.com/@realDonaldTrump",
        "resource": "window",
        "additionalFields": {
          "waitUntil": "load"
        }
      },
      "credentials": {
        "airtopApi": {
          "id": "Yi4YPNnovLVUjFn5",
          "name": "Airtop Official Org"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "44dcc003-1804-45df-bf62-d819b58026d3",
      "name": "Terminate Airtop Session",
      "type": "n8n-nodes-base.airtop",
      "position": [
        440,
        -180
      ],
      "parameters": {
        "operation": "terminate",
        "sessionId": "={{ $('Create Airtop Session').item.json.sessionId }}"
      },
      "credentials": {
        "airtopApi": {
          "id": "Yi4YPNnovLVUjFn5",
          "name": "Airtop Official Org"
        }
      },
      "typeVersion": 1
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "991b1f4e-1f4a-4b40-b63e-6151cbccad90",
  "connections": {
    "Slack": {
      "main": [
        []
      ]
    },
    "Filter": {
      "main": [
        [
          {
            "node": "Slack",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Filter",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Create Airtop Session",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create Airtop Browser": {
      "main": [
        [
          {
            "node": "Extract and Analyze Posts",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create Airtop Session": {
      "main": [
        [
          {
            "node": "Create Airtop Browser",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract and Analyze Posts": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          },
          {
            "node": "Terminate Airtop Session",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When clicking ‘Execute workflow’": {
      "main": [
        [
          {
            "node": "Create Airtop Session",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}