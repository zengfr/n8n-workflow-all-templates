{
  "id": "GPUqBzML5NY8PRlJ",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "WhatsApp AI Assistant for Q&A & Bookings with Gemini, Pinecone & Google Sheets",
    "wechat": "youandme10086",
    "id": 5781,
    "update_time": "2025-11-10"
  },
  "name": "My workflow",
  "tags": [],
  "nodes": [
    {
      "id": "1c788d16-e39a-4dd1-b81f-35363198d810",
      "name": "cleanAnswer",
      "type": "n8n-nodes-base.code",
      "position": [
        3216,
        848
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "634c11ce-5f1b-45bd-8f54-56721f3fb170",
      "name": "24-hour window check",
      "type": "n8n-nodes-base.code",
      "position": [
        2768,
        944
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "81d1139e-63b4-48f0-85e3-3b6896cc091d",
      "name": "Send Pre-approved Template Message to Reopen the Conversation",
      "type": "n8n-nodes-base.whatsApp",
      "position": [
        3216,
        1056
      ],
      "webhookId": "71148dcf-b58a-4da6-8270-197ae441c6fb",
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "709352f9-4eae-4962-99f9-6e1a2252d0b9",
      "name": "Send AI Agent's Answer",
      "type": "n8n-nodes-base.whatsApp",
      "position": [
        3440,
        848
      ],
      "webhookId": "07f407e6-7340-4326-89d2-d013119b6e43",
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "072cabba-3a26-438f-9ea8-6aafe4b52532",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        192,
        -16
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "a669db67-9b98-4540-b898-bf9a30cac0e0",
      "name": "Google Gemini Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        1600,
        1168
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "bf9f5aa3-e689-4ae5-97d4-f501bffead28",
      "name": "Date & Time",
      "type": "n8n-nodes-base.dateTime",
      "position": [
        2336,
        944
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "025be982-d704-4736-b1bf-daa2d5da9ac1",
      "name": "Simple Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        1712,
        1168
      ],
      "parameters": {},
      "typeVersion": 1.3
    },
    {
      "id": "e96e1e7f-7f13-44cc-9073-1727ac9f2790",
      "name": "Pinecone Vector Store",
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "position": [
        1728,
        1376
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "7be6c296-4ed0-4ad2-a05f-b0bc241ee9c9",
      "name": "Embeddings Google Gemini",
      "type": "@n8n/n8n-nodes-langchain.embeddingsGoogleGemini",
      "position": [
        1824,
        1568
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "fd589a30-8b20-4f50-85bd-32ad3b3bcf2f",
      "name": "Google Gemini Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        2032,
        1376
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "96579140-2e5b-4bef-9bf4-93df95d79d3c",
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "maxTries": 5,
      "position": [
        1728,
        944
      ],
      "parameters": {},
      "retryOnFail": false,
      "typeVersion": 1.7,
      "alwaysOutputData": true,
      "waitBetweenTries": null
    },
    {
      "id": "a3a98b9b-6044-4ec8-9639-6ea27d70516b",
      "name": "reservations",
      "type": "n8n-nodes-base.googleSheetsTool",
      "position": [
        2128,
        1168
      ],
      "parameters": {},
      "typeVersion": 4.6
    },
    {
      "id": "b24d48ee-de8d-4b7d-956c-eb60c2db8bd9",
      "name": "When clicking ‘Execute workflow’",
      "type": "n8n-nodes-base.manualTrigger",
      "position": [
        896,
        224
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "11c0901c-7afa-4609-bef8-2c04cf836439",
      "name": "Google Drive",
      "type": "n8n-nodes-base.googleDrive",
      "position": [
        1104,
        224
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "1e33597e-77fd-4b20-be91-e2679aeafd45",
      "name": "Default Data Loader",
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "position": [
        1440,
        464
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "65f832ef-6d5b-4100-a5cf-6a94e423210c",
      "name": "Recursive Character Text Splitter",
      "type": "@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter",
      "position": [
        1520,
        656
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "a5813aff-4128-4eea-aff7-b59bc69d62dc",
      "name": "Pinecone Vector Store1",
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "position": [
        1344,
        224
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "75f4e5ca-6935-495b-8fb1-b8cf8d954b2f",
      "name": "Embeddings Google Gemini1",
      "type": "@n8n/n8n-nodes-langchain.embeddingsGoogleGemini",
      "position": [
        1312,
        448
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "be84db93-c411-460d-9911-6d191c5f43e3",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        816,
        144
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "6830208b-21d8-4724-a104-f30a2e1b5df3",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1248,
        800
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "7a850960-1a65-46eb-af62-102524c432f0",
      "name": "whatsapp trigger",
      "type": "n8n-nodes-base.whatsAppTrigger",
      "position": [
        1360,
        944
      ],
      "webhookId": "c7652686-708a-4616-9040-b34307e21693",
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "8b0b1a19-5a81-4503-b97e-a8d2e6e1073c",
      "name": "Check 24-Hour Follow-Up",
      "type": "n8n-nodes-base.if",
      "position": [
        2992,
        992
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "7df82fd8-35d4-452c-8542-2a96caeeb8d9",
      "name": "Pinecone Vector Search",
      "type": "@n8n/n8n-nodes-langchain.toolVectorStore",
      "position": [
        1840,
        1168
      ],
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "18329ed7-b76e-4679-9445-33064feed6d0",
      "name": "conversations log",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        2560,
        944
      ],
      "parameters": {},
      "typeVersion": 4.6
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "71f4796b-d6b1-423e-9261-8bc946a718a3",
  "connections": {
    "AI Agent": {
      "main": [
        [
          {
            "node": "Date & Time",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Date & Time": {
      "main": [
        [
          {
            "node": "conversations log",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "cleanAnswer": {
      "main": [
        [
          {
            "node": "Send AI Agent's Answer",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Drive": {
      "main": [
        [
          {
            "node": "Pinecone Vector Store1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "reservations": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "whatsapp trigger": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "conversations log": {
      "main": [
        [
          {
            "node": "24-hour window check",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Default Data Loader": {
      "ai_document": [
        [
          {
            "node": "Pinecone Vector Store1",
            "type": "ai_document",
            "index": 0
          }
        ]
      ]
    },
    "24-hour window check": {
      "main": [
        [
          {
            "node": "Check 24-Hour Follow-Up",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Pinecone Vector Store": {
      "ai_vectorStore": [
        [
          {
            "node": "Pinecone Vector Search",
            "type": "ai_vectorStore",
            "index": 0
          }
        ]
      ]
    },
    "Pinecone Vector Search": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Check 24-Hour Follow-Up": {
      "main": [
        [
          {
            "node": "cleanAnswer",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send Pre-approved Template Message to Reopen the Conversation",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings Google Gemini": {
      "ai_embedding": [
        [
          {
            "node": "Pinecone Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings Google Gemini1": {
      "ai_embedding": [
        [
          {
            "node": "Pinecone Vector Store1",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Pinecone Vector Search",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Recursive Character Text Splitter": {
      "ai_textSplitter": [
        [
          {
            "node": "Default Data Loader",
            "type": "ai_textSplitter",
            "index": 0
          }
        ]
      ]
    },
    "When clicking ‘Execute workflow’": {
      "main": [
        [
          {
            "node": "Google Drive",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}