{
  "id": "O8JIQTFnHYLGhlxp",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Manage Tasks and Deadlines via WhatsApp using GPT-4 and Google Sheets",
    "wechat": "youandme10086",
    "id": 7913,
    "update_time": "2025-11-10"
  },
  "name": "Whatsapp Chatbot",
  "tags": [],
  "nodes": [
    {
      "id": "6b63ad5c-cdb8-473a-ad13-84652291d1ff",
      "name": "AI Agent1",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        -80,
        976
      ],
      "parameters": {
        "text": "=You are a concise and efficient AI assistant integrated with Google Sheets.\n\nYour responsibilities include:  \n\n• Providing brief, precise answers without repeating questions.\n\n• Accessing and interpreting data from the connected Google Sheet.\n\n• Identifying tasks based on their status and due dates.\n\n• Highlighting overdue tasks and those approaching their deadlines.  \n\n• Offering actionable suggestions for task completion.  \n\nMaintain a professional tone and focus on delivering clear, actionable insights.\n\nHere is the request from the user: {{ $json.messages[0].text.body }}\n\nToday is: {{ $now }}\n",
        "options": {},
        "promptType": "define"
      },
      "typeVersion": 2.2
    },
    {
      "id": "d79bcc50-44b0-48d1-a3d8-d7ee858828d2",
      "name": "OpenAI Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        -208,
        1200
      ],
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "credentials": {
        "openAiApi": {
          "id": "2p1WdcZp3d7uKHNu",
          "name": "OpenAi account"
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "14130b4a-dffa-4db1-bab4-b583dd5858f5",
      "name": "Simple Memory1",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        -48,
        1200
      ],
      "parameters": {
        "sessionKey": "={{ $json.contacts[0].wa_id }}",
        "sessionIdType": "customKey"
      },
      "typeVersion": 1.3
    },
    {
      "id": "95af1272-ede8-41cd-be59-72b6edc207ff",
      "name": "WhatsApp Trigger1",
      "type": "n8n-nodes-base.whatsAppTrigger",
      "position": [
        -304,
        976
      ],
      "webhookId": "4d85509e-604d-4450-85df-e9e5ce21618d",
      "parameters": {
        "options": {},
        "updates": [
          "messages"
        ]
      },
      "credentials": {
        "whatsAppTriggerApi": {
          "id": "HdB6IUAzfptiQBt0",
          "name": "WhatsApp OAuth account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "03e9f35b-e28c-488c-81eb-51c42d41f847",
      "name": "Send message1",
      "type": "n8n-nodes-base.whatsApp",
      "position": [
        304,
        976
      ],
      "webhookId": "d3157b07-002b-49f0-a61d-47d0ac275ed9",
      "parameters": {
        "textBody": "={{ $json.output }}",
        "operation": "send",
        "phoneNumberId": "745077835357667",
        "additionalFields": {},
        "recipientPhoneNumber": "={{ $('WhatsApp Trigger1').item.json.contacts[0].wa_id }}"
      },
      "credentials": {
        "whatsAppApi": {
          "id": "IdTvFA8CEEwwaW9M",
          "name": "WhatsApp account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "a5351f9c-4eb5-4249-98c5-a42b15b1f5cc",
      "name": "Update Row",
      "type": "n8n-nodes-base.googleSheetsTool",
      "position": [
        112,
        1184
      ],
      "parameters": {
        "columns": {
          "value": {
            "Task": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Task__using_to_match_', ``, 'string') }}",
            "Notes": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Notes', ``, 'string') }}",
            "Status": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Status', ``, 'string') }}",
            "Due date": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Due_date', ``, 'string') }}"
          },
          "schema": [
            {
              "id": "Task",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Task",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Status",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Status",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Due date",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Due date",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Notes",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Notes",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "Task"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "appendOrUpdate",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 569756928,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1T9Xhmu_xr-mPXcOIPr0MbvMiKOT6jIhQWYxhETi9X8k/edit#gid=569756928",
          "cachedResultName": "Tasks"
        },
        "documentId": {
          "__rl": true,
          "mode": "url",
          "value": "https://docs.google.com/spreadsheets/d/1T9Xhmu_xr-mPXcOIPr0MbvMiKOT6jIhQWYxhETi9X8k/edit?gid=569756928#gid=569756928"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "p8TFiJI7j90cCF0X",
          "name": "Google Sheets account"
        }
      },
      "typeVersion": 4.7
    },
    {
      "id": "ff231456-9e73-4d47-90d2-2848320c2137",
      "name": "Get row(s)",
      "type": "n8n-nodes-base.googleSheetsTool",
      "position": [
        320,
        1168
      ],
      "parameters": {
        "options": {},
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 569756928,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1T9Xhmu_xr-mPXcOIPr0MbvMiKOT6jIhQWYxhETi9X8k/edit#gid=569756928",
          "cachedResultName": "Tasks"
        },
        "documentId": {
          "__rl": true,
          "mode": "url",
          "value": "https://docs.google.com/spreadsheets/d/1T9Xhmu_xr-mPXcOIPr0MbvMiKOT6jIhQWYxhETi9X8k/edit?gid=569756928#gid=569756928"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "p8TFiJI7j90cCF0X",
          "name": "Google Sheets account"
        }
      },
      "typeVersion": 4.7
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "ea028790-20ac-4bf6-9833-5cb5e97d2c2e",
  "connections": {
    "AI Agent1": {
      "main": [
        [
          {
            "node": "Send message1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s)": {
      "ai_tool": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Update Row": {
      "ai_tool": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory1": {
      "ai_memory": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "WhatsApp Trigger1": {
      "main": [
        [
          {
            "node": "AI Agent1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    }
  }
}