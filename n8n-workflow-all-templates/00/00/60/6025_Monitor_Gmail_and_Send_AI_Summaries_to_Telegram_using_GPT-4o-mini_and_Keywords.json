{
  "id": "gXutAybKcZqblZjF",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Monitor Gmail and Send AI Summaries to Telegram using GPT-4o-mini and Keywords",
    "wechat": "youandme10086",
    "id": 6025,
    "update_time": "2025-11-10"
  },
  "name": "My workflow",
  "tags": [],
  "nodes": [
    {
      "id": "a47db6e0-7861-4c0e-9628-1cab45cce413",
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        160,
        540
      ],
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "credentials": {
        "openAiApi": {
          "id": "AOdaculhRTVLfI7K",
          "name": "n8n free OpenAI API credits"
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "5b19646e-e002-4ad0-9422-70d95fa09f79",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1120,
        -100
      ],
      "parameters": {
        "width": 2020,
        "height": 1140,
        "content": "## üìå Email Summary to Telegram\n\n## üîÑ What this workflow does\nThis automation checks your Gmail inbox every minute, detects important emails based on keyword filters, and sends a short, Telegram-style summary using GPT-4o-mini.\n\n---\n\n#### üß© Node-by-node Breakdown\n\n1. **üì• Email Received**\n   - Gmail Trigger node\n   - Polls inbox every minute for new emails (subject + text)\n\n2. **üß™ Is Important**\n   - Checks if the email is important using keyword filters.\n   - If email subject or body **contains keywords** like `\"Sales\"`, it continues.\n   - Otherwise, it stops.\n\n   **üí° Examples of keywords you can use:**\n   - `\"invoice\"`\n   - `\"payment due\"`\n   - `\"security alert\"`\n   - `\"job offer\"`\n   - `\"delivery\"`  \n   üëâ Add anything **important to you** in the condition list.\n\n3. **üß† AI Agent**\n   - Sends email content to OpenAI with a pre-written system prompt.\n   - Returns a short, human-style summary (max 300 characters) using emojis and plain language.\n\n4. **üì§ Send a text message**\n   - Sends the AI-generated summary to your Telegram chat.\n\n---\n\n#### ‚úÖ Sample Telegram Message\n> üì¶ Your Flipkart order ‚ÄúBluetooth Speaker‚Äù was delivered today. Enjoy!\n\n---\n\n#### üõ† Notes\n- You can modify keyword filters in the **Is Important** node.\n- Make sure your **Telegram chat ID and bot** are set correctly.\n- This workflow works well for:\n  - Billing alerts üí∞\n  - Delivery updates üì¶\n  - Job or HR emails üßë‚Äçüíº\n  - OTP/security messages üîê\n\n---\n"
      },
      "typeVersion": 1
    },
    {
      "id": "38ec8af8-000a-4c81-ac84-3f57b13653ff",
      "name": "Check for New Emails",
      "type": "n8n-nodes-base.gmailTrigger",
      "position": [
        -300,
        570
      ],
      "parameters": {
        "simple": false,
        "filters": {},
        "options": {},
        "pollTimes": {
          "item": [
            {
              "mode": "everyMinute"
            }
          ]
        }
      },
      "credentials": {
        "gmailOAuth2": {
          "id": "BjLuqt1WNTbWNBM1",
          "name": "Gmail account"
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "e9ca1183-73c2-40ae-8911-dc293c76d3af",
      "name": "Important Email Filter",
      "type": "n8n-nodes-base.if",
      "position": [
        -80,
        570
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "or",
          "conditions": [
            {
              "id": "f300ae2b-5de4-4efc-88ae-130a957588cb",
              "operator": {
                "type": "string",
                "operation": "contains"
              },
              "leftValue": "={{ $json.subject }}",
              "rightValue": "sales"
            },
            {
              "id": "30e5cc92-886b-4a5b-bc36-6cefc443c66b",
              "operator": {
                "type": "string",
                "operation": "contains"
              },
              "leftValue": "={{ $json.text }}",
              "rightValue": "jobs"
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "d646dfa9-28f3-4466-9bbe-154397d1c7af",
      "name": " Ignore Unimportant Email",
      "type": "n8n-nodes-base.noOp",
      "position": [
        210,
        720
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "c5b0111c-f1ee-4d9c-94bc-e64e83c5ba6f",
      "name": "Summarize Email with GPT-4o",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        140,
        340
      ],
      "parameters": {
        "text": "=Email Subject:  {{ $json.subject }}\nEmail Body:  {{ $json.text }}",
        "options": {
          "systemMessage": "=# üß† Multi-Purpose Email Summarizer\n\nYou are an intelligent assistant that reads all kinds of emails ‚Äî work-related, personal, financial, promotional, alerts, and more.\n\nYour job is to:\n- Understand the core message and intent of the email\n- Write a short, clear **summary (max 300 characters)** as if you're notifying the user on Telegram\n- Use **plain English** with light emojis where helpful (üìå, ‚ö†Ô∏è, ‚úÖ, üí∞, üîî, etc.)\n- Highlight any important info: payment due, meeting, offer, delivery, confirmation, alert, etc.\n- Make sure it sounds natural and relevant ‚Äî like a smart assistant updating someone quickly\n\n## ‚úçÔ∏è Output Format:\nOnly give the **summary text**. No intro, no explanation, no formatting tags.\n\n---\n\n### üì® Examples:\n\n**Email about invoice:**  \nüìå Invoice from AWS for $23.50 is due by July 20. Check your billing portal to avoid service disruption.\n\n**Email from HR:**  \n‚úÖ HR shared your July payslip. No action needed unless there's an error.\n\n**Amazon delivery email:**  \nüì¶ Your Amazon order \"AirPods Pro\" has been delivered today. Enjoy!\n\n**Newsletter:**  \nüì∞ New issue of \"FinTech Weekly\" is out ‚Äî AI trends, market insights & more.\n\n\n---\n\nOnly return a short, smart Telegram-style summary like above ‚Äî no headers, no extra context.\n"
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 1.8
    },
    {
      "id": "7937a159-cb46-445b-87fc-3751297e269c",
      "name": "Send Summary to Telegram",
      "type": "n8n-nodes-base.telegram",
      "position": [
        500,
        340
      ],
      "webhookId": "00abd92f-264e-401b-a032-a8e9e90962c1",
      "parameters": {
        "text": "={{ $json.output }}",
        "chatId": "7917193308",
        "additionalFields": {}
      },
      "credentials": {
        "telegramApi": {
          "id": "x5kGTW8ojjPJjQtB",
          "name": "Telegram account"
        }
      },
      "typeVersion": 1.2
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "30db915b-a020-48cf-9b69-b43c0e3b9fbe",
  "connections": {
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Summarize Email with GPT-4o",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Check for New Emails": {
      "main": [
        [
          {
            "node": "Important Email Filter",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Important Email Filter": {
      "main": [
        [
          {
            "node": "Summarize Email with GPT-4o",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": " Ignore Unimportant Email",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Summarize Email with GPT-4o": {
      "main": [
        [
          {
            "node": "Send Summary to Telegram",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}