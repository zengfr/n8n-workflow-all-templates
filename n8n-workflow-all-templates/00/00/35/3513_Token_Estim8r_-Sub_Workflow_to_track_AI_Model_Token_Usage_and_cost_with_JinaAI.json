{
  "id": "L7ExYkeKvBYwWbc3",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "ðŸ¥‡ Token Estim8r -Sub Workflow to track AI Model Token Usage and cost with JinaAI",
    "wechat": "youandme10086",
    "id": 3513,
    "update_time": "2025-11-10"
  },
  "name": "Get Model Token Count and Tools",
  "tags": [],
  "nodes": [
    {
      "id": "c920594a-980b-4f41-997a-78768984df6f",
      "name": "When clicking â€˜Test workflowâ€™",
      "type": "n8n-nodes-base.manualTrigger",
      "position": [
        -1100,
        580
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "a6f21ab6-219a-49fa-b7ee-f59db8a49da6",
      "name": "n8n Get Execution Data",
      "type": "n8n-nodes-base.n8n",
      "position": [
        -800,
        340
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "2aad0913-9c3c-413b-8a99-61acb7833f1d",
      "name": "Get AI Usage Data",
      "type": "n8n-nodes-base.code",
      "position": [
        -480,
        340
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "4983f61e-b7b6-4607-b255-6bea04d9fcda",
      "name": "Set Ai_Run_Data",
      "type": "n8n-nodes-base.set",
      "position": [
        -200,
        340
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "3ea6794e-25d6-432b-905c-3207f87fb048",
      "name": "Get AI Pricing",
      "type": "n8n-nodes-base.httpRequest",
      "onError": "continueRegularOutput",
      "position": [
        80,
        340
      ],
      "parameters": {},
      "retryOnFail": true,
      "typeVersion": 4.2
    },
    {
      "id": "e384a724-1f4f-4677-b15e-ddba8e693ecc",
      "name": "Get Models Price and Add Summary",
      "type": "n8n-nodes-base.code",
      "position": [
        360,
        340
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "6db7b4f5-b932-44d8-8311-2250aeee2502",
      "name": "Google Sheets",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        660,
        340
      ],
      "parameters": {},
      "typeVersion": 4.5
    },
    {
      "id": "7f2a88b7-16b5-4ce4-89a4-68c477a08fba",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1860,
        140
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "d0606f04-8d97-4aa7-a2db-bbb748c0e714",
      "name": "When Executed by Another Workflow",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "position": [
        -1100,
        160
      ],
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "d53e218d-5f2a-461b-9e22-e515362d05e8",
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -500,
        560
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "3c88feea-0dc4-480d-a3a5-236ee269b79b",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1860,
        -240
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    }
  ],
  "active": true,
  "pinData": {
    "When clicking â€˜Test workflowâ€™": [
      {
        "json": {
          "executionId": 44762
        }
      }
    ]
  },
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "95e5afe5-706f-460b-bf58-f20c7ffe4151",
  "connections": {
    "Get AI Pricing": {
      "main": [
        [
          {
            "node": "Get Models Price and Add Summary",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set Ai_Run_Data": {
      "main": [
        [
          {
            "node": "Get AI Pricing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get AI Usage Data": {
      "main": [
        [
          {
            "node": "Set Ai_Run_Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "n8n Get Execution Data": {
      "main": [
        [
          {
            "node": "Get AI Usage Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Models Price and Add Summary": {
      "main": [
        [
          {
            "node": "Google Sheets",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When Executed by Another Workflow": {
      "main": [
        [
          {
            "node": "n8n Get Execution Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When clicking â€˜Test workflowâ€™": {
      "main": [
        [
          {
            "node": "n8n Get Execution Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}