{
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Multi-Platform AI Sales Agent with RAG, CRM Logging & Appointment Booking ",
    "wechat": "youandme10086",
    "id": 4508,
    "update_time": "2025-11-10"
  },
  "nodes": [
    {
      "id": "bac5a9a3-3169-43c0-809d-ff6713abb9c2",
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "position": [
        -544,
        1520
      ],
      "webhookId": "0e63503d-ab21-4a3d-8d29-19c5d94c24d4",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "53754177-0ac2-4447-90f2-a1f88a30c32e",
      "name": "No Operation, do nothing",
      "type": "n8n-nodes-base.noOp",
      "position": [
        544,
        -432
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "96f7a477-7b2a-4e6f-9dbd-d31fa38c0d16",
      "name": "Postgres Chat Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "position": [
        672,
        64
      ],
      "parameters": {},
      "typeVersion": 1.3
    },
    {
      "id": "dfb0de6a-c1bf-47b0-b241-5f41546d479f",
      "name": "Consultation Agent",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "position": [
        800,
        64
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "8f3df9e8-6cf0-440d-b915-7c13d949d5f9",
      "name": "CRM Agent",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "position": [
        928,
        64
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "50463f1a-11ef-45ca-a623-0661abd80d3d",
      "name": "Vector Database",
      "type": "@n8n/n8n-nodes-langchain.vectorStorePGVector",
      "position": [
        960,
        272
      ],
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "9ae33bcf-0e35-47a7-8483-cf5c5fcba2bd",
      "name": "Company Database",
      "type": "@n8n/n8n-nodes-langchain.toolVectorStore",
      "position": [
        1056,
        64
      ],
      "parameters": {},
      "typeVersion": 1,
      "alwaysOutputData": true
    },
    {
      "id": "d735c12c-3fb3-4161-a3c1-ffce8211552b",
      "name": "Sales Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        736,
        -160
      ],
      "parameters": {},
      "typeVersion": 1.7
    },
    {
      "id": "e3ab149a-4c86-4953-8590-0215522341f1",
      "name": "Reply To User1",
      "type": "n8n-nodes-base.whatsApp",
      "position": [
        -176,
        -272
      ],
      "webhookId": "7ae0c8a4-96a5-48f4-8c79-a0557dc63500",
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "46381e8b-11e4-4eab-ac28-333f91abc005",
      "name": "Telegram Trigger",
      "type": "n8n-nodes-base.telegramTrigger",
      "position": [
        -656,
        144
      ],
      "webhookId": "a69cd48f-94de-45d5-8777-e8a623f00b2b",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "0c06c67e-8718-45b5-8c5f-be97ad913e06",
      "name": "Set Message",
      "type": "n8n-nodes-base.set",
      "position": [
        16,
        -48
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "c577403e-3a64-46b8-8b0c-738f2484f671",
      "name": "Set Message1",
      "type": "n8n-nodes-base.set",
      "position": [
        240,
        144
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "feab07fa-ef61-410e-80c9-83ade01d0e8f",
      "name": "Facebook Trigger",
      "type": "n8n-nodes-base.webhook",
      "position": [
        -560,
        1136
      ],
      "webhookId": "fb014f75-7900-4e53-8f41-920ed8728934",
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "429b3337-aca7-455f-95a9-4c60b59aa76e",
      "name": "Respond to Webhook - facebook post",
      "type": "n8n-nodes-base.respondToWebhook",
      "position": [
        -336,
        1040
      ],
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "afbbc13d-f8fe-4193-90a2-913a1c66b8b1",
      "name": "Respond to Webhook - facebook get",
      "type": "n8n-nodes-base.respondToWebhook",
      "position": [
        -336,
        1232
      ],
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "0a3ff11d-6cd8-4e63-b001-41e220e5bfe3",
      "name": "Instagram Trigger",
      "type": "n8n-nodes-base.webhook",
      "position": [
        -496,
        640
      ],
      "webhookId": "d547200f-7bed-45c7-8e8a-fb5c72235963",
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "f7ec4055-029c-4fc3-b4e6-a1775d51b453",
      "name": "Respond to Webhook - instagram get",
      "type": "n8n-nodes-base.respondToWebhook",
      "position": [
        -272,
        736
      ],
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "8d75ac81-2adb-470b-8fec-d7bf6186f0f7",
      "name": "Respond to Webhook - instagram post",
      "type": "n8n-nodes-base.respondToWebhook",
      "position": [
        -272,
        544
      ],
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "3659f361-d553-4f68-a7e4-83fc594bff73",
      "name": "Switch1",
      "type": "n8n-nodes-base.switch",
      "position": [
        1376,
        0
      ],
      "parameters": {},
      "typeVersion": 3.2
    },
    {
      "id": "6c209507-54cf-453a-81fe-57c49b2f6ec3",
      "name": "Send message (instagram)",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        1584,
        128
      ],
      "parameters": {},
      "typeVersion": 4.2
    },
    {
      "id": "99066c16-fe44-4b6a-be4a-abf73b3c2616",
      "name": "Send message (embedded)",
      "type": "n8n-nodes-base.set",
      "position": [
        1584,
        320
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "bdddda8e-3dee-43a0-bd6e-c59740bd35eb",
      "name": "Send message (telegram)",
      "type": "n8n-nodes-base.telegram",
      "position": [
        1584,
        496
      ],
      "webhookId": "4d140b15-8537-48be-ab9d-0ec18800c55d",
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "180376e0-b66c-427a-afb3-fa92abe62d6e",
      "name": "Send message (facebook)",
      "type": "n8n-nodes-base.facebookGraphApi",
      "position": [
        1584,
        -32
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "0055fc03-bb4e-4654-9465-147bf224d5df",
      "name": "Send message (Whatsapp)",
      "type": "n8n-nodes-base.whatsApp",
      "position": [
        1584,
        -208
      ],
      "webhookId": "dfceb728-9a4c-4e11-aeff-e9876eb7dd12",
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "2f81820d-10d5-431f-b2ce-8c291ecf1720",
      "name": "WhatsApp Trigger",
      "type": "n8n-nodes-base.whatsAppTrigger",
      "position": [
        -672,
        -384
      ],
      "webhookId": "dc9c22af-00af-4291-9b4b-0e43cb3976a3",
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "c54d445b-8a10-4334-a1fe-4f1f07472d20",
      "name": "Get Lead Info",
      "type": "n8n-nodes-base.airtable",
      "onError": "continueRegularOutput",
      "position": [
        -528,
        -384
      ],
      "parameters": {},
      "typeVersion": 2.1
    },
    {
      "id": "8cdca732-c493-4e10-8b5e-a0e5590bdbb8",
      "name": "Route Messages",
      "type": "n8n-nodes-base.switch",
      "position": [
        -384,
        -400
      ],
      "parameters": {},
      "typeVersion": 3.2
    },
    {
      "id": "dab3a820-1b7d-43b0-88d9-7ac1c9524e8f",
      "name": "Route Message",
      "type": "n8n-nodes-base.switch",
      "position": [
        -432,
        128
      ],
      "parameters": {},
      "typeVersion": 3.2
    },
    {
      "id": "150dd53e-f0f9-480c-9de0-84cb122e18d7",
      "name": "Get Audio",
      "type": "n8n-nodes-base.whatsApp",
      "position": [
        -176,
        -560
      ],
      "webhookId": "803b3fa2-9f28-4669-b681-ced6f285b2a4",
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "10083c95-7d65-4c5f-b000-257ddc296874",
      "name": "Download Audio",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -16,
        -560
      ],
      "parameters": {},
      "typeVersion": 4.2
    },
    {
      "id": "76c5f71b-1f8b-4994-a26a-488c54a553ff",
      "name": "Transcribe",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        144,
        -560
      ],
      "parameters": {},
      "typeVersion": 1.8
    },
    {
      "id": "e5f45ba8-0df4-4e5e-bcb7-d45d2db7b77b",
      "name": "Set Message2",
      "type": "n8n-nodes-base.set",
      "position": [
        304,
        -560
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "be0c76c1-6e74-442b-ad20-79c802b7edac",
      "name": "Set Message3",
      "type": "n8n-nodes-base.set",
      "position": [
        304,
        -368
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "9b7859dd-80de-45c4-9f78-1b70c10fe7ca",
      "name": "Set Message4",
      "type": "n8n-nodes-base.set",
      "position": [
        176,
        544
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "3d112e16-e533-444c-a9e8-447c544fb7d0",
      "name": "Set Message5",
      "type": "n8n-nodes-base.set",
      "position": [
        112,
        1136
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "f6799aee-1772-4845-a774-42ad79fc3a08",
      "name": "Set Message6",
      "type": "n8n-nodes-base.set",
      "position": [
        -320,
        1520
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "0785129f-2f44-4e3e-b59c-ab5bb7d6e3ce",
      "name": "If not echo",
      "type": "n8n-nodes-base.if",
      "position": [
        -112,
        1040
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "654736d0-45a6-47ee-96f2-90bef1d713e9",
      "name": "If not echo1",
      "type": "n8n-nodes-base.if",
      "position": [
        -48,
        544
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "9c270f39-c624-4f66-aaeb-cbaba19d36c6",
      "name": "Facebook Typing Effect",
      "type": "n8n-nodes-base.facebookGraphApi",
      "position": [
        112,
        944
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "c6c3fd03-83f2-4814-a3af-6c20caf09131",
      "name": "Get Audio1",
      "type": "n8n-nodes-base.telegram",
      "position": [
        -208,
        144
      ],
      "webhookId": "ff8d01d3-7e0e-4a49-b11d-bc734f265ff2",
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "e64b6e02-7c9b-4050-8c07-2e3a8adb015a",
      "name": "Transcribe1",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        16,
        144
      ],
      "parameters": {},
      "typeVersion": 1.8
    },
    {
      "id": "7ff13a74-d4b4-485f-9380-af3e658c6475",
      "name": "Reply to user",
      "type": "n8n-nodes-base.telegram",
      "position": [
        -208,
        336
      ],
      "webhookId": "b02c8c30-cb06-4121-b87b-58a038921e50",
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "5a6538e7-b582-4950-905f-fc3d608415a4",
      "name": "Update Agent Details",
      "type": "n8n-nodes-base.set",
      "position": [
        736,
        -432
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "bb680325-faeb-423c-9dcf-00451f1e22d0",
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -720,
        -640
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "98b63cb8-0013-4199-a680-65d7a1775d23",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -720,
        912
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "be8d6d92-78ec-47d7-92bb-59c4fd85c730",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -720,
        512
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "b987b988-775c-412d-8b87-32d4fa6b5af7",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -720,
        -64
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "10945cec-86cb-4346-9f4e-015d0cefe56d",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -720,
        1392
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "104f4e16-dd89-4cd1-a6a9-46f9894efab9",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        464,
        -640
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "b87d9bc5-068e-4131-8934-49689d6d1a29",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        464,
        -240
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "363872e6-994e-4ca4-a44f-9ce1d83dfe04",
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1376,
        -240
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "93d81680-28e2-439c-9c97-cc3c77ba2237",
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        464,
        672
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "b7484d2a-e819-47f9-bf99-9640b20d525d",
      "name": "When clicking ‘Execute workflow’",
      "type": "n8n-nodes-base.manualTrigger",
      "position": [
        976,
        -480
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "14eee49a-5c32-4f48-b496-a714acfcb83b",
      "name": "Default Data Loader",
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "position": [
        1536,
        -352
      ],
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "9abc3da5-1f0a-44c5-b88e-c3236959cd49",
      "name": "Download file",
      "type": "n8n-nodes-base.googleDrive",
      "position": [
        1200,
        -480
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "c6b1ef70-4974-41b1-ab33-3b34dfe4be5a",
      "name": "PGVector",
      "type": "@n8n/n8n-nodes-langchain.vectorStorePGVector",
      "position": [
        1392,
        -480
      ],
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "426ab14d-99c5-45b2-8ef6-76ae3041532b",
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        864,
        -640
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "f01bd542-071d-4b44-9daf-afb494ae9b92",
      "name": "Gemini",
      "type": "@n8n/n8n-nodes-langchain.embeddingsGoogleGemini",
      "position": [
        1392,
        -352
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "5c03a64b-9dc1-4ef1-b4f7-934006fafd54",
      "name": "Response",
      "type": "n8n-nodes-base.set",
      "position": [
        1408,
        720
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "29dafaad-7613-4174-82d4-ab688cc161fb",
      "name": "Try Again",
      "type": "n8n-nodes-base.set",
      "position": [
        1408,
        880
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "543824b7-24ec-4b32-a67e-54527570b519",
      "name": "When Executed by Another Workflow",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "position": [
        576,
        816
      ],
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "202eeee7-8179-4aa1-bc58-799bc3566539",
      "name": "get_schema",
      "type": "n8n-nodes-base.airtableTool",
      "position": [
        1504,
        1008
      ],
      "parameters": {},
      "typeVersion": 2.1
    },
    {
      "id": "cbf994cb-3015-42f0-8343-f2e32e41d268",
      "name": "CRM Assistant",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "onError": "continueErrorOutput",
      "position": [
        960,
        816
      ],
      "parameters": {},
      "typeVersion": 1.7
    },
    {
      "id": "38bcfe1b-a024-455f-b6d9-8aa315bfa6a1",
      "name": "list_records",
      "type": "n8n-nodes-base.airtableTool",
      "position": [
        1344,
        1008
      ],
      "parameters": {},
      "typeVersion": 2.1
    },
    {
      "id": "e632e7d7-c1bb-4a36-aff7-9139ea6ed62f",
      "name": "Window Buffer Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        736,
        1008
      ],
      "parameters": {},
      "typeVersion": 1.3
    },
    {
      "id": "a452b70e-e150-467d-a5c9-6a22701672a4",
      "name": "create_opportunity",
      "type": "n8n-nodes-base.airtableTool",
      "position": [
        1664,
        1008
      ],
      "parameters": {},
      "typeVersion": 2.1
    },
    {
      "id": "dd2fb789-c4a5-4931-be65-1cf447177b43",
      "name": "update_opportunity",
      "type": "n8n-nodes-base.airtableTool",
      "position": [
        1200,
        1008
      ],
      "parameters": {},
      "typeVersion": 2.1
    },
    {
      "id": "0f7410e6-c4f5-4246-99d8-ee4dbf4b7b94",
      "name": "create_contact",
      "type": "n8n-nodes-base.airtableTool",
      "position": [
        880,
        1008
      ],
      "parameters": {},
      "typeVersion": 2.1
    },
    {
      "id": "e6d47d5d-0fb7-438e-82ce-ed0e206837c8",
      "name": "update_contact",
      "type": "n8n-nodes-base.airtableTool",
      "position": [
        1024,
        1008
      ],
      "parameters": {},
      "typeVersion": 2.1
    },
    {
      "id": "23abd1bc-5ef4-4e7c-9e16-6cbd514c5686",
      "name": "Success",
      "type": "n8n-nodes-base.set",
      "position": [
        1472,
        1248
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "f2cbf5b1-2dd1-4570-936c-23c683035d34",
      "name": "Calendar Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "onError": "continueErrorOutput",
      "position": [
        944,
        1328
      ],
      "parameters": {},
      "typeVersion": 1.6
    },
    {
      "id": "be15d44f-6cee-4598-ad5f-bdccecc53422",
      "name": "Create Event with Attendee",
      "type": "n8n-nodes-base.googleCalendarTool",
      "position": [
        1328,
        1504
      ],
      "parameters": {},
      "typeVersion": 1.3
    },
    {
      "id": "ed877d20-1f57-4cd9-a397-93bbbc98b6b8",
      "name": "Get Events",
      "type": "n8n-nodes-base.googleCalendarTool",
      "position": [
        1040,
        1504
      ],
      "parameters": {},
      "typeVersion": 1.3
    },
    {
      "id": "18927bbc-ba63-46fa-a640-c36210ab0768",
      "name": "Delete Event",
      "type": "n8n-nodes-base.googleCalendarTool",
      "position": [
        912,
        1504
      ],
      "parameters": {},
      "typeVersion": 1.3
    },
    {
      "id": "339c1ef9-8356-42fb-b90b-3cafcffbde3b",
      "name": "Update Event",
      "type": "n8n-nodes-base.googleCalendarTool",
      "position": [
        1168,
        1504
      ],
      "parameters": {},
      "typeVersion": 1.3
    },
    {
      "id": "3eda810e-61f4-4133-8380-3d9a179ce0b0",
      "name": "Try Again1",
      "type": "n8n-nodes-base.set",
      "position": [
        1472,
        1440
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "75898c01-3693-4b04-ba01-36408856a618",
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        464,
        1200
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "73420019-0db3-48af-a59d-1083c4c83344",
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1424,
        -640
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "cc2d8190-66a9-452e-9f0f-21d75946ab1a",
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        528,
        64
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "a60d4ab1-56f3-4073-9675-0dc959d9ff9d",
      "name": "OpenAI Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        576,
        1008
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "e51a08b5-df99-423a-af5e-6263fec356d8",
      "name": "OpenAI Chat Model2",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        752,
        1504
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "1c5ebf66-3f10-4ea2-ab31-aa3c5ec03e5b",
      "name": "OpenAI Chat Model3",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        1216,
        352
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "de38c9a8-f24f-4a83-aabe-be6e370e7f27",
      "name": "Embeddings OpenAI",
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "position": [
        928,
        448
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "48cc5bde-975c-4697-8866-412c47c6befe",
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1424,
        400
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "Gemini": {
      "ai_embedding": [
        [
          {
            "node": "PGVector",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Switch1": {
      "main": [
        [
          {
            "node": "Send message (Whatsapp)",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send message (facebook)",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send message (instagram)",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send message (embedded)",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send message (telegram)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "CRM Agent": {
      "ai_tool": [
        [
          {
            "node": "Sales Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Get Audio": {
      "main": [
        [
          {
            "node": "Download Audio",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Audio1": {
      "main": [
        [
          {
            "node": "Transcribe1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Events": {
      "ai_tool": [
        [
          {
            "node": "Calendar Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Transcribe": {
      "main": [
        [
          {
            "node": "Set Message2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "get_schema": {
      "ai_tool": [
        [
          {
            "node": "CRM Assistant",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "If not echo": {
      "main": [
        [
          {
            "node": "Set Message5",
            "type": "main",
            "index": 0
          },
          {
            "node": "Facebook Typing Effect",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Sales Agent": {
      "main": [
        [
          {
            "node": "Switch1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set Message": {
      "main": [
        [
          {
            "node": "No Operation, do nothing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Transcribe1": {
      "main": [
        [
          {
            "node": "Set Message1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Delete Event": {
      "ai_tool": [
        [
          {
            "node": "Calendar Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "If not echo1": {
      "main": [
        [
          {
            "node": "Set Message4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set Message1": {
      "main": [
        [
          {
            "node": "No Operation, do nothing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set Message2": {
      "main": [
        [
          {
            "node": "No Operation, do nothing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set Message3": {
      "main": [
        [
          {
            "node": "No Operation, do nothing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set Message4": {
      "main": [
        [
          {
            "node": "No Operation, do nothing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set Message5": {
      "main": [
        [
          {
            "node": "No Operation, do nothing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set Message6": {
      "main": [
        [
          {
            "node": "No Operation, do nothing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update Event": {
      "ai_tool": [
        [
          {
            "node": "Calendar Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "list_records": {
      "ai_tool": [
        [
          {
            "node": "CRM Assistant",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "CRM Assistant": {
      "main": [
        [
          {
            "node": "Response",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Try Again",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download file": {
      "main": [
        [
          {
            "node": "PGVector",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Lead Info": {
      "main": [
        [
          {
            "node": "Route Messages",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Route Message": {
      "main": [
        [
          {
            "node": "Set Message",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Get Audio1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Reply to user",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Calendar Agent": {
      "main": [
        [
          {
            "node": "Success",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Try Again1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download Audio": {
      "main": [
        [
          {
            "node": "Transcribe",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Route Messages": {
      "main": [
        [
          {
            "node": "Get Audio",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Set Message3",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Reply To User1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "create_contact": {
      "ai_tool": [
        [
          {
            "node": "CRM Assistant",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "update_contact": {
      "ai_tool": [
        [
          {
            "node": "CRM Assistant",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Vector Database": {
      "ai_vectorStore": [
        [
          {
            "node": "Company Database",
            "type": "ai_vectorStore",
            "index": 0
          }
        ]
      ]
    },
    "Company Database": {
      "ai_tool": [
        [
          {
            "node": "Sales Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Facebook Trigger": {
      "main": [
        [
          {
            "node": "Respond to Webhook - facebook post",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Respond to Webhook - facebook get",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Telegram Trigger": {
      "main": [
        [
          {
            "node": "Route Message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "WhatsApp Trigger": {
      "main": [
        [
          {
            "node": "Get Lead Info",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI": {
      "ai_embedding": [
        [
          {
            "node": "Vector Database",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Instagram Trigger": {
      "main": [
        [
          {
            "node": "Respond to Webhook - instagram post",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Respond to Webhook - instagram get",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Sales Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Consultation Agent": {
      "ai_tool": [
        [
          {
            "node": "Sales Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "CRM Assistant",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model2": {
      "ai_languageModel": [
        [
          {
            "node": "Calendar Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model3": {
      "ai_languageModel": [
        [
          {
            "node": "Company Database",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "create_opportunity": {
      "ai_tool": [
        [
          {
            "node": "CRM Assistant",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "update_opportunity": {
      "ai_tool": [
        [
          {
            "node": "CRM Assistant",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Default Data Loader": {
      "ai_document": [
        [
          {
            "node": "PGVector",
            "type": "ai_document",
            "index": 0
          }
        ]
      ]
    },
    "Postgres Chat Memory": {
      "ai_memory": [
        [
          {
            "node": "Sales Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Update Agent Details": {
      "main": [
        [
          {
            "node": "Sales Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Window Buffer Memory": {
      "ai_memory": [
        [
          {
            "node": "CRM Assistant",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "No Operation, do nothing": {
      "main": [
        [
          {
            "node": "Update Agent Details",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create Event with Attendee": {
      "ai_tool": [
        [
          {
            "node": "Calendar Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "Set Message6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When Executed by Another Workflow": {
      "main": [
        [
          {
            "node": "CRM Assistant",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Respond to Webhook - facebook post": {
      "main": [
        [
          {
            "node": "If not echo",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Respond to Webhook - instagram post": {
      "main": [
        [
          {
            "node": "If not echo1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When clicking ‘Execute workflow’": {
      "main": [
        [
          {
            "node": "Download file",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}