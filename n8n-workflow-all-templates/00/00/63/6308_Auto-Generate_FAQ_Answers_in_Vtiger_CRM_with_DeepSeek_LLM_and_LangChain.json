{
  "id": "chYsh0pJpFivekfQ",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Auto-Generate FAQ Answers in Vtiger CRM with DeepSeek LLM and LangChain",
    "wechat": "youandme10086",
    "id": 6308,
    "update_time": "2025-11-10"
  },
  "name": "Vtiger CRM answer FAQ by DeepSeek LLM",
  "tags": [],
  "nodes": [
    {
      "id": "4cf51b80-921d-4b76-b368-cb52e4c5b1ae",
      "name": "Vtiger",
      "type": "n8n-nodes-vtiger-crm.vtigerNode",
      "position": [
        -688,
        -224
      ],
      "parameters": {
        "query_field": "select * from Faq where faqstatus='Draft' order by id desc limit 1;"
      },
      "credentials": {
        "vtigerApi": {
          "id": "GDVMGSZb4YFb0cMz",
          "name": "SaadeddinTestCRM"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "56e98463-5a93-438d-acd6-8a47d9e5a03d",
      "name": "Vtiger1",
      "type": "n8n-nodes-vtiger-crm.vtigerNode",
      "position": [
        144,
        -240
      ],
      "parameters": {
        "operation": "update",
        "element_field": "={\n  \"faq_answer\": {{ JSON.stringify($json.output) }},\n\"faqstatus\": \"Published\"\n}",
        "webservice_id_field": "={{ $('Vtiger').item.json.result[0].id }}"
      },
      "credentials": {
        "vtigerApi": {
          "id": "GDVMGSZb4YFb0cMz",
          "name": "SaadeddinTestCRM"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "79457836-4a32-42b8-a21e-a015eb1398b2",
      "name": "If",
      "type": "n8n-nodes-base.if",
      "position": [
        -528,
        -224
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "1a4121a1-3315-48c6-b319-be947242e291",
              "operator": {
                "type": "string",
                "operation": "notEmpty",
                "singleValue": true
              },
              "leftValue": "={{ $json.result[0].id }}",
              "rightValue": ""
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "75eae6a3-c2f4-4e2e-ae8f-25dfcd836efa",
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        -256,
        -240
      ],
      "parameters": {
        "text": "=Output as plain text, {{ $json.result[0].question }}",
        "options": {},
        "promptType": "define"
      },
      "typeVersion": 2.1
    },
    {
      "id": "c74887f0-da3d-4c7c-a87f-84087d37c320",
      "name": "DeepSeek Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatDeepSeek",
      "position": [
        -256,
        -32
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "deepSeekApi": {
          "id": "EJnQFKwyggEiiD7g",
          "name": "DeepSeek account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "784b3e33-e62d-4ef6-80ac-b4d8a02a0b19",
      "name": "Simple Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        -128,
        -32
      ],
      "parameters": {
        "sessionKey": "={{ $json.result[0].question }}",
        "sessionIdType": "customKey"
      },
      "typeVersion": 1.3
    },
    {
      "id": "b2693d93-4f03-4692-8c5f-16e472b98b33",
      "name": "Schedule Trigger Every n Minutes",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        -944,
        -224
      ],
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "minutes",
              "minutesInterval": 1
            }
          ]
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "f3987ade-529e-493c-a3a9-e22b2ba10fe8",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -736,
        -656
      ],
      "parameters": {
        "width": 816,
        "height": 384,
        "content": "### ðŸ§  Auto-Answer FAQ Drafts with AI  \n**(Vtiger CRM + DeepSeek + LangChain)**\n\nThis workflow runs **every 1 minute** to:\n- ðŸ“¥ Fetch the latest `Draft` FAQ from Vtiger CRM\n- ðŸ¤– Use **DeepSeek LLM** via **LangChain** to generate a plain-text answer\n- ðŸ“¤ Automatically update the FAQ with the answer and mark it as `Published`\n---\n> ðŸ’¡ **Note:**  \n> This workflow uses a custom **Vtiger CRM** node from the **Community Nodes** registry.  \n> To install it in your self-hosted n8n:\n> 1. Go to `Settings` â†’ `Community Nodes`\n> 2. Click **Install Node** then enter:  \n> ```bash\n> n8n-nodes-vtiger-crm\n> ```\n---\n> âœ… Perfect for teams that want to auto-fill answers and speed up knowledge base publishing!"
      },
      "typeVersion": 1
    }
  ],
  "active": true,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "bf3f1f93-3711-494c-9544-2f39f6e45ee8",
  "connections": {
    "If": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ],
        []
      ]
    },
    "Vtiger": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Vtiger1": {
      "main": [
        []
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Vtiger1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "DeepSeek Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger Every n Minutes": {
      "main": [
        [
          {
            "node": "Vtiger",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}