{
  "id": "ymg0bc27jttcvbcj",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Real-time Vtiger Support Tickets to Telegram with Auto Status Updates",
    "wechat": "youandme10086",
    "id": 6329,
    "update_time": "2025-11-10"
  },
  "name": "Auto-Send Vtiger Support Tickets to Telegram (with Status Update)",
  "tags": [],
  "nodes": [
    {
      "id": "e9ca7d91-ee88-4cc4-9c12-e638fbfb6e66",
      "name": "Schedule Trigger Every n Minutes",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        -816,
        -208
      ],
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "minutes",
              "minutesInterval": 1
            }
          ]
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "81b830bc-e1d3-4d6b-9ef1-e323771b5b5f",
      "name": "VtigerCRM get Tickets",
      "type": "n8n-nodes-vtiger-crm.vtigerNode",
      "position": [
        -592,
        -208
      ],
      "parameters": {
        "query_field": "select * from HelpDesk where ticketstatus='Open' order by id desc limit 1;"
      },
      "credentials": {
        "vtigerApi": {
          "id": "GDVMGSZb4YFb0cMz",
          "name": "SaadeddinTestCRM"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "ff439d91-3b2c-4f8e-9c38-aca0f09ce86c",
      "name": "If there's a data returned",
      "type": "n8n-nodes-base.if",
      "position": [
        -368,
        -208
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "1a4121a1-3315-48c6-b319-be947242e291",
              "operator": {
                "type": "string",
                "operation": "notEmpty",
                "singleValue": true
              },
              "leftValue": "={{ $json.result[0].id }}",
              "rightValue": ""
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "77eb4e5c-0048-4469-9815-df5534a7e9dd",
      "name": "Send a Ticket detail to Telegram",
      "type": "n8n-nodes-base.telegram",
      "position": [
        112,
        -384
      ],
      "webhookId": "78ebd6db-cd6a-4eac-af64-133af5c81e89",
      "parameters": {
        "text": "=New ticket with the following details:\nTicketid: {{ $json.result[0].ticket_no }}\nTitle: {{ $json.result[0].ticket_title }}\nStatus: {{ $json.result[0].ticketstatus }}\nPriority: {{ $json.result[0].ticketpriorities }}\nSeverity: {{ $json.result[0].ticketseverities }}\nCategory: {{ $json.result[0].ticketcategories }}\nDescription: {{ $json.result[0].description }}",
        "chatId": "6885236190",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "credentials": {
        "telegramApi": {
          "id": "lJq9SLWpaYUg6w8w",
          "name": "Telegram account"
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "70cd5610-46f4-42b0-8008-511a99b9888e",
      "name": "VtigerCRM Update Ticket Status",
      "type": "n8n-nodes-vtiger-crm.vtigerNode",
      "position": [
        128,
        -176
      ],
      "parameters": {
        "operation": "update",
        "element_field": "={\n  \"ticketstatus\": \"In Progress\"\n}",
        "webservice_id_field": "={{ $json.result[0].id }}"
      },
      "credentials": {
        "vtigerApi": {
          "id": "GDVMGSZb4YFb0cMz",
          "name": "SaadeddinTestCRM"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "49cff4dc-a89e-4ebe-a1a9-6e9ef6fdd958",
      "name": "No Operation, do nothing",
      "type": "n8n-nodes-base.noOp",
      "position": [
        -80,
        -16
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "4a8d8029-2a1d-4704-90bd-712adca45596",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -672,
        -704
      ],
      "parameters": {
        "width": 688,
        "height": 368,
        "content": "### ðŸŽŸï¸ Auto-Send Vtiger Tickets to Telegram  \n**(Real-time alerts + CRM update)**\nThis workflow runs **every 1 minute** to:\n- ðŸ“¥ Fetch the most recent **open ticket** from Vtiger HelpDesk\n- ðŸ“² Send a detailed message to **Telegram**\n- ðŸ” Update the ticket status to **\"In Progress\"** to avoid duplicate alerts\n---\n> ðŸ’¡ **Note:**  \n> This workflow uses a custom **Vtiger CRM** node from the **Community Nodes** registry.  \n> To install it in self-hosted n8n:\n> 1. Go to `Settings` â†’ `Community Nodes`  \n> 2. Click **Install Node** and enter:\n> ```bash\n> n8n-nodes-vtiger-crm\n> ```\n---\n> âœ… Ideal for support teams that need **real-time alerts** and want to sync ticket progress across tools."
      },
      "typeVersion": 1
    }
  ],
  "active": true,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "c66999f4-49e3-4e5f-8500-e5a8663d9f88",
  "connections": {
    "VtigerCRM get Tickets": {
      "main": [
        [
          {
            "node": "If there's a data returned",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If there's a data returned": {
      "main": [
        [
          {
            "node": "Send a Ticket detail to Telegram",
            "type": "main",
            "index": 0
          },
          {
            "node": "VtigerCRM Update Ticket Status",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "VtigerCRM Update Ticket Status": {
      "main": [
        []
      ]
    },
    "Schedule Trigger Every n Minutes": {
      "main": [
        [
          {
            "node": "VtigerCRM get Tickets",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a Ticket detail to Telegram": {
      "main": [
        []
      ]
    }
  }
}