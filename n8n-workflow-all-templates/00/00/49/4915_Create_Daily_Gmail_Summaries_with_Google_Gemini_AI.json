{
  "id": "GTBliDoeUtJf5Oz9",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Create Daily Gmail Summaries with Google Gemini AI",
    "wechat": "youandme10086",
    "id": 4915,
    "update_time": "2025-11-10"
  },
  "name": "Gmail Daily Summary Scheduler",
  "tags": [],
  "nodes": [
    {
      "id": "2e62eab7-43b3-4dc1-8e1c-44e048a5b8e7",
      "name": "Gmail",
      "type": "n8n-nodes-base.gmail",
      "position": [
        660,
        0
      ],
      "webhookId": "57f6f772-3b41-4c08-ace0-961d623d3b5a",
      "parameters": {
        "filters": {
          "readStatus": "both",
          "receivedAfter": "={{ $json.newDate }}"
        },
        "operation": "getAll"
      },
      "credentials": {
        "gmailOAuth2": {
          "id": "30RHcLTzeuHoLPK7",
          "name": "Gmail account"
        }
      },
      "typeVersion": 2.1
    },
    {
      "id": "c03cf35a-989e-454a-b521-c719b6efe3be",
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        0,
        0
      ],
      "parameters": {
        "rule": {
          "interval": [
            {
              "triggerAtHour": 8
            }
          ]
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "8201b82e-5492-4cc0-b350-aa72d36bcb36",
      "name": "Date & Time",
      "type": "n8n-nodes-base.dateTime",
      "position": [
        220,
        0
      ],
      "parameters": {
        "options": {},
        "includeTime": false
      },
      "typeVersion": 2
    },
    {
      "id": "2c48a23a-ca12-49db-9512-7646f9400371",
      "name": "Date & Time1",
      "type": "n8n-nodes-base.dateTime",
      "position": [
        440,
        0
      ],
      "parameters": {
        "options": {},
        "duration": 1,
        "magnitude": "={{ $json.currentDate }}",
        "operation": "subtractFromDate"
      },
      "typeVersion": 2
    },
    {
      "id": "999494f7-2d0f-49ff-99dd-1a1d8dc1cd2b",
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        880,
        0
      ],
      "parameters": {
        "text": "={{ $('Gmail').all().toJsonString() }}",
        "options": {
          "systemMessage": "You are an intelligent email assistant. Your task is to analyze a list of email messages received in the last 24 hours. Each email includes a subject, sender, timestamp, and body.\n\nYour goals are:\n\t1.\tSummary: Provide a concise summary of the overall themes or key updates across all emails.\n\t2.\tImportant Emails: Identify and list the most important or time-sensitive emails. For each, include:\n\t•\tSubject\n\t•\tSender\n\t•\tReason why it’s important (e.g., deadline, meeting, urgent request, opportunity)"
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "executeOnce": true,
      "typeVersion": 2
    },
    {
      "id": "b3e1e8c7-cb1e-4081-bbea-c67ef7183637",
      "name": "Google Gemini Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        860,
        440
      ],
      "parameters": {
        "options": {
          "temperature": 0.2
        },
        "modelName": "models/gemini-2.0-flash"
      },
      "credentials": {
        "googlePalmApi": {
          "id": "5nlOOMD37Udf09sC",
          "name": "Google Gemini(PaLM) Api account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "c812c98d-9d3c-4778-93fa-603b762a69a4",
      "name": "Auto-fixing Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserAutofixing",
      "position": [
        1060,
        220
      ],
      "parameters": {
        "options": {
          "prompt": "Instructions:\n--------------\n{instructions}\n--------------\nCompletion:\n--------------\n{completion}\n--------------\n\nAbove, the Completion did not satisfy the constraints given in the Instructions.\nError:\n--------------\n{error}\n--------------\n\nPlease try again. Please only respond with an answer that satisfies the constraints laid out in the Instructions:"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "331d1d36-b6cc-4298-befc-14bf2e952306",
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        1160,
        440
      ],
      "parameters": {
        "jsonSchemaExample": "{\n\t\"summary\": \"Today’s emails covered project updates, meeting schedules, and one urgent request.\\n Important Emails: \\n 1. subject :Client Meeting Rescheduled , sender : test@test.com , reason : The meeting has been moved to tomorrow morning, requiring immediate schedule adjustment.\\n 2. subject :Client Meeting Rescheduled , sender : test@test.com , reason : The meeting has been moved to tomorrow morning, requiring immediate schedule adjustment.\"\n}"
      },
      "typeVersion": 1.2
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "4d5fe298-0421-4b23-af92-9221219fdc53",
  "connections": {
    "Gmail": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Date & Time": {
      "main": [
        [
          {
            "node": "Date & Time1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Date & Time1": {
      "main": [
        [
          {
            "node": "Gmail",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Date & Time",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "Auto-fixing Output Parser",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "Auto-fixing Output Parser",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Auto-fixing Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "AI Agent",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    }
  }
}