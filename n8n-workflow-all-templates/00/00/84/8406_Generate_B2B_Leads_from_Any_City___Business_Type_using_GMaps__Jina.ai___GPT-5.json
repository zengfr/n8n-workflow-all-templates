{
  "id": "T3XOklMNjgNhhB7F",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Generate B2B Leads from Any City & Business Type using GMaps, Jina.ai & GPT-5",
    "wechat": "youandme10086",
    "id": 8406,
    "update_time": "2025-11-10"
  },
  "name": "Lead-Generator-GMaps",
  "tags": [
    {
      "id": "7pJlw7HV4Rg9tAKm",
      "name": "Template",
      "createdAt": "2025-03-18T18:15:54.900Z",
      "updatedAt": "2025-03-18T18:15:54.900Z"
    },
    {
      "id": "tzXZvyo12i9wx3d2",
      "name": "Working",
      "createdAt": "2025-03-18T22:31:07.779Z",
      "updatedAt": "2025-03-18T22:31:07.779Z"
    }
  ],
  "nodes": [
    {
      "id": "5a489c1d-0213-4113-bb0e-4812978919d1",
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        1184,
        96
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "4e7e4a5b-e442-40be-bde0-287b27f8155f",
      "name": "Have URL and OPERATIONAL",
      "type": "n8n-nodes-base.if",
      "position": [
        1536,
        96
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "93f7c677-4af3-4c2b-9b38-b5964c49c128",
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "position": [
        832,
        96
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "8c37930b-38c5-48ed-b764-11aada07f7b7",
      "name": "Main Info",
      "type": "n8n-nodes-base.set",
      "position": [
        2032,
        -48
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "00e51c80-775f-4df0-9ce1-de2286e0fcc5",
      "name": "Merge",
      "type": "n8n-nodes-base.merge",
      "position": [
        2880,
        -32
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "f3783280-5e96-4e8a-b741-f373fb102c02",
      "name": "All Registers",
      "type": "n8n-nodes-base.set",
      "position": [
        1184,
        464
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "4816e9ad-216e-42be-9fae-d4884d56336d",
      "name": "Convert to File",
      "type": "n8n-nodes-base.convertToFile",
      "disabled": true,
      "position": [
        1744,
        -416
      ],
      "parameters": {},
      "executeOnce": false,
      "typeVersion": 1.1
    },
    {
      "id": "31b4adcf-1729-43d1-8144-56e3d535e693",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1440,
        -624
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "757f6aea-1c3c-4e18-a51e-c7d7185a7951",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -608,
        -176
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "fe2aeeba-35e3-4b75-9d8e-68fb5c550183",
      "name": "If",
      "type": "n8n-nodes-base.if",
      "position": [
        128,
        80
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "9c72d775-1d53-447d-b0e0-da531f0c23ac",
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        -160,
        160
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "cc2e55c8-2d67-4822-bf68-f6796a281829",
      "name": "Filter",
      "type": "n8n-nodes-base.filter",
      "disabled": true,
      "position": [
        1552,
        -416
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "c48f624d-81a7-424d-b4ae-bafb28539f44",
      "name": "Sticky Note14",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2240,
        32
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "508e111a-852b-48c6-8f32-a58958ec285c",
      "name": "Window Buffer Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        2384,
        416
      ],
      "parameters": {},
      "typeVersion": 1.3
    },
    {
      "id": "a5928561-6aeb-4576-b194-3ffe8da56999",
      "name": "Web Scraping Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "onError": "continueRegularOutput",
      "position": [
        2368,
        128
      ],
      "parameters": {},
      "retryOnFail": true,
      "typeVersion": 1.7,
      "alwaysOutputData": true
    },
    {
      "id": "b589e3f5-36f2-4807-909e-a4c62f133884",
      "name": "Domain and Sitemap",
      "type": "n8n-nodes-base.code",
      "position": [
        1856,
        80
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "1d259fc0-a261-40a0-894f-1578f97e2bab",
      "name": "URLs",
      "type": "n8n-nodes-base.set",
      "position": [
        2032,
        128
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "9521156d-740b-4503-ba25-bbacbc894763",
      "name": "Structured Output Parser1",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        2608,
        288
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "49e43d61-cc11-4645-9be1-7f2cf71c0e90",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        384,
        -608
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "2200f151-0ea7-4d61-bd7e-fc5165c734ff",
      "name": "Input Form",
      "type": "n8n-nodes-base.formTrigger",
      "position": [
        -1344,
        112
      ],
      "webhookId": "dc7a6087-75e6-4999-90ac-fbc5291c6cfb",
      "parameters": {},
      "typeVersion": 2.3
    },
    {
      "id": "0c0bd2df-a5c7-435f-b9cd-5a3f0a39ad13",
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1408,
        -176
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "a80b4c0c-57b2-4f9b-87bb-0039af074cce",
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -944,
        -176
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "9bf8dcea-152c-44f3-95be-d37d1a4aab4b",
      "name": "Google Places Search",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        480,
        96
      ],
      "parameters": {},
      "typeVersion": 4.2
    },
    {
      "id": "dc2ec150-998e-4bc0-bff9-b7d73b5bd6a9",
      "name": "GPT-5-mini",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        -336,
        160
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "19678eb6-7074-47b4-a5c6-d187f9e26dd2",
      "name": "Format Input",
      "type": "n8n-nodes-base.set",
      "position": [
        -528,
        48
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "109b558c-221a-4488-87d3-9b78a5bebef8",
      "name": "Places Query Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        -320,
        -32
      ],
      "parameters": {},
      "retryOnFail": true,
      "typeVersion": 1.7
    },
    {
      "id": "ce88ce14-76ae-43ee-b060-01a9d8f1612f",
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        32,
        -176
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "93bda32c-727b-4fb3-9d08-5acba631f620",
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        384,
        -176
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "22531467-e404-4622-92a4-4301016c77b6",
      "name": "Sticky Note13",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        736,
        -176
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "ede8660b-1ee9-4b67-8e56-7fa432e3dbe2",
      "name": "Places_API_Key",
      "type": "n8n-nodes-base.set",
      "position": [
        -848,
        112
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "f42ab457-b0fe-4309-8d82-16e143890b7c",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1088,
        -176
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "88cac444-e996-4fd5-baaf-6f623a0d906c",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1440,
        -176
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "bd75b06a-3b02-46ce-b031-0116fc3df2db",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1792,
        -176
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "6aef1978-6d28-453c-9cec-4048d3244fef",
      "name": "GPT-5-mini1",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        2288,
        304
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "d5cdf3df-7162-4679-81bd-213a72106175",
      "name": "Sticky Note15",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2784,
        -144
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "7c9229e3-5735-472a-aac4-fd0c7dd6f74f",
      "name": "Sticky Note16",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        3136,
        288
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "9ae0420f-2a65-4caf-b4a6-773af1e19fdc",
      "name": "Sticky Note17",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1088,
        336
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "7e39c029-c327-4883-8fa2-8ffc351e4b19",
      "name": "Form",
      "type": "n8n-nodes-base.form",
      "position": [
        -1168,
        112
      ],
      "webhookId": "850aaad8-23d9-4627-bf09-ab490f4cef23",
      "parameters": {},
      "typeVersion": 2.3
    },
    {
      "id": "c5465232-eed2-43e2-a99f-392e01c10ae6",
      "name": "web_scraper_tool",
      "type": "n8n-nodes-base.jinaAiTool",
      "position": [
        2528,
        416
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "5fa3bd2a-9594-473b-81e0-98faa2cb6816",
      "name": "Create a record",
      "type": "n8n-nodes-base.airtable",
      "position": [
        3232,
        432
      ],
      "parameters": {},
      "typeVersion": 2.1
    },
    {
      "id": "67bd3aa2-dc7d-4171-8996-b19654b560fb",
      "name": "Finish message",
      "type": "n8n-nodes-base.slack",
      "disabled": true,
      "position": [
        1936,
        -416
      ],
      "webhookId": "1effdd55-8313-4011-9ba4-ce4ded893e2f",
      "parameters": {},
      "typeVersion": 2.3
    },
    {
      "id": "59d93852-5080-44fb-8f8e-85140090850c",
      "name": "If1",
      "type": "n8n-nodes-base.if",
      "position": [
        2880,
        400
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "35342201-3ae6-4460-b639-087f5a1344b5",
      "name": "Sticky Note19",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2784,
        256
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "58a42bec-fbd1-41fb-b474-88c2158ce678",
      "name": "Sticky Note20",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1792,
        368
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "98fd0797-f8f3-4c48-80c6-7f3236dd2f20",
      "name": "Wait 8 Sec",
      "type": "n8n-nodes-base.wait",
      "position": [
        1888,
        672
      ],
      "webhookId": "b17507b7-1432-4310-aacf-fb6d73e752b7",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "74ab6cda-edb2-4f30-80b0-e1d757ed97df",
      "name": "Wait 8 Sec1",
      "type": "n8n-nodes-base.wait",
      "position": [
        1888,
        464
      ],
      "webhookId": "515ab085-742f-4bac-a56c-acea24f8c317",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "1ae8fedd-a110-439c-9a55-f5f6634fda80",
      "name": "Error",
      "type": "n8n-nodes-base.stopAndError",
      "position": [
        480,
        -416
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "1fb1f746-1fd1-4ee4-9f84-d6de71490ee5",
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2384,
        -176
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "83d3c281-efda-4a04-bd80-78feb01d260f",
  "connections": {
    "If": {
      "main": [
        [
          {
            "node": "Error",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Google Places Search",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If1": {
      "main": [
        [
          {
            "node": "Create a record",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Wait 8 Sec1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Form": {
      "main": [
        [
          {
            "node": "Places_API_Key",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "URLs": {
      "main": [
        [
          {
            "node": "Web Scraping Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "If1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter": {
      "main": [
        [
          {
            "node": "Convert to File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Main Info": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "GPT-5-mini": {
      "ai_languageModel": [
        [
          {
            "node": "Places Query Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Input Form": {
      "main": [
        [
          {
            "node": "Form",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait 8 Sec": {
      "main": [
        [
          {
            "node": "All Registers",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "GPT-5-mini1": {
      "ai_languageModel": [
        [
          {
            "node": "Web Scraping Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Wait 8 Sec1": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Format Input": {
      "main": [
        [
          {
            "node": "Places Query Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "All Registers": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Places_API_Key": {
      "main": [
        [
          {
            "node": "Format Input",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Convert to File": {
      "main": [
        [
          {
            "node": "Finish message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create a record": {
      "main": [
        [
          {
            "node": "Wait 8 Sec",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [
          {
            "node": "Filter",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Have URL and OPERATIONAL",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "web_scraper_tool": {
      "ai_tool": [
        [
          {
            "node": "Web Scraping Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Domain and Sitemap": {
      "main": [
        [
          {
            "node": "URLs",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Places Query Agent": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Web Scraping Agent": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ],
        []
      ]
    },
    "Google Places Search": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Window Buffer Memory": {
      "ai_memory": [
        [
          {
            "node": "Web Scraping Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Have URL and OPERATIONAL": {
      "main": [
        [
          {
            "node": "Main Info",
            "type": "main",
            "index": 0
          },
          {
            "node": "Domain and Sitemap",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "Places Query Agent",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser1": {
      "ai_outputParser": [
        [
          {
            "node": "Web Scraping Agent",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    }
  }
}