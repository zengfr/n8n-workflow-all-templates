{
  "id": "jmF1lTCcJ7Sz44XB",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "AI-Powered File Management Automation for Google Drive with MCP",
    "wechat": "youandme10086",
    "id": 5425,
    "update_time": "2025-11-10"
  },
  "name": "Google Drive MCP",
  "tags": [],
  "nodes": [
    {
      "id": "0e364a8b-0c13-44d6-9b97-3b979450f30d",
      "name": "MCP Server Trigger",
      "type": "@n8n/n8n-nodes-langchain.mcpTrigger",
      "notes": "Entry point for the workflow - triggers when MCP server receives a request",
      "position": [
        1400,
        420
      ],
      "webhookId": "ab3b0e89-c55b-4d86-a9a7-73b7ebdb99da",
      "parameters": {
        "path": "ab3b0e89-c55b-4d86-a9a7-73b7ebdb99da"
      },
      "typeVersion": 1.1
    },
    {
      "id": "f3bd2712-a9e9-4058-be2e-b958cecca7f4",
      "name": "Create Backup",
      "type": "n8n-nodes-base.googleDriveTool",
      "notes": "Creates timestamped backup copy in dedicated Backups folder before any modifications",
      "position": [
        1060,
        420
      ],
      "parameters": {
        "name": "={{ $json.name }}_backup_{{ $now.format('YYYY-MM-DD_HH-mm-ss') }}",
        "fileId": {
          "__rl": true,
          "mode": "list",
          "value": ""
        },
        "options": {},
        "operation": "copy"
      },
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "6hzrQTMU9Jx22uMs",
          "name": "Google Drive account 3"
        }
      },
      "typeVersion": 3
    },
    {
      "id": "0ad52d69-2582-489e-b7a7-1691227eb23d",
      "name": "Move to Processed",
      "type": "n8n-nodes-base.googleDriveTool",
      "notes": "Moves processed files to organized folder structure",
      "position": [
        1060,
        1140
      ],
      "parameters": {
        "fileId": {
          "__rl": true,
          "mode": "list",
          "value": ""
        },
        "driveId": {
          "__rl": true,
          "mode": "list",
          "value": "My Drive"
        },
        "folderId": {
          "__rl": true,
          "mode": "list",
          "value": "processed_folder_id",
          "cachedResultName": "Processed"
        },
        "operation": "move"
      },
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "6hzrQTMU9Jx22uMs",
          "name": "Google Drive account 3"
        }
      },
      "typeVersion": 3
    },
    {
      "id": "505f47e5-9351-4737-98bf-4b9b2c4461d1",
      "name": "Archive Old Files",
      "type": "n8n-nodes-base.googleDriveTool",
      "notes": "Archives files older than specified threshold to maintain clean workspace",
      "position": [
        1060,
        900
      ],
      "parameters": {
        "fileId": {
          "__rl": true,
          "mode": "list",
          "value": ""
        },
        "driveId": {
          "__rl": true,
          "mode": "list",
          "value": "My Drive"
        },
        "folderId": {
          "__rl": true,
          "mode": "list",
          "value": "archive_folder_id",
          "cachedResultName": "Archive"
        },
        "operation": "move"
      },
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "6hzrQTMU9Jx22uMs",
          "name": "Google Drive account 3"
        }
      },
      "typeVersion": 3
    },
    {
      "id": "79730ea8-cbe3-4edb-a0cf-b1519d625e8a",
      "name": "Workflow Overview",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        600,
        180
      ],
      "parameters": {
        "color": 4,
        "width": 350,
        "height": 520,
        "content": "## Google Drive File Management Workflow\n\nThis workflow provides comprehensive file management capabilities for Google Drive:\n\n### Key Features:\n- **Smart Processing**: Downloads with format conversion\n- **Safety First**: Creates backups before modifications\n- **Organization**: Moves files to appropriate folders\n- **Audit Trail**: Logs all activities\n\n### Workflow Path:\n1. MCP Trigger receives request\n2. List files or download specific file\n3. Create backup if modifying\n4. Process based on file type/size\n5. Move to organized folders\n6. Log all activities"
      },
      "typeVersion": 1
    },
    {
      "id": "aae3f651-0334-4856-83fa-fb9d038ec504",
      "name": "Input Parameters",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        640,
        760
      ],
      "parameters": {
        "color": 3,
        "width": 300,
        "height": 480,
        "content": "=### Input Parameters\n\n**MCP Trigger accepts:**\n- `action`:  download, move, archive\n- `fileId`: specific file identifier\n- `folderPath`: target folder path\n- `filters`: file type, size, date filters\n\n**Example payload:**\n```json\n{\n  \"action\": \"download\",\n  \"fileId\": \"1a2b3c4d5e6f\",\n  \"convertFormat\": \"pdf\"\n}\n```"
      },
      "typeVersion": 1
    },
    {
      "id": "36deeaac-5bfb-4040-b46d-1ceb8251f6c5",
      "name": "Safety & Best Practices",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1800,
        180
      ],
      "parameters": {
        "color": 6,
        "width": 380,
        "height": 380,
        "content": "## Error Handling & Safety\n\n**Built-in Safeguards:**\n- Backup creation before modifications\n- File size and type validation\n- Detailed error logging\n- Rollback capabilities\n\n**Best Practices:**\n- Test with non-critical files first\n- Monitor processing logs regularly\n- Set up folder permissions properly\n- Use version control for important docs"
      },
      "typeVersion": 1
    },
    {
      "id": "25c70e4f-0f4b-4c34-9a62-9ff6840d3289",
      "name": "Performance Tips",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1820,
        620
      ],
      "parameters": {
        "color": 5,
        "width": 300,
        "height": 280,
        "content": "## Performance Optimization\n\n**Recommendations:**\n- Use batch operations for multiple files\n- Implement rate limiting for API calls\n- Cache frequently accessed file metadata\n- Set up webhooks for real-time updates\n\n**Monitoring:**\n- Track API quota usage\n- Monitor workflow execution time\n- Set up alerts for failures\n- Regular cleanup of old logs"
      },
      "typeVersion": 1
    },
    {
      "id": "43feec90-091a-4614-b741-0544b5d12342",
      "name": "Google Drive",
      "type": "n8n-nodes-base.googleDriveTool",
      "position": [
        1280,
        1120
      ],
      "parameters": {
        "fileId": {
          "__rl": true,
          "mode": "list",
          "value": ""
        },
        "options": {},
        "operation": "download"
      },
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "6hzrQTMU9Jx22uMs",
          "name": "Google Drive account 3"
        }
      },
      "typeVersion": 3
    },
    {
      "id": "25967a87-b6d6-4abf-be03-7a360d79cb10",
      "name": "Drive upload",
      "type": "n8n-nodes-base.googleDriveTool",
      "position": [
        1060,
        660
      ],
      "parameters": {
        "driveId": {
          "__rl": true,
          "mode": "list",
          "value": "My Drive"
        },
        "options": {},
        "folderId": {
          "__rl": true,
          "mode": "list",
          "value": "root",
          "cachedResultName": "/ (Root folder)"
        }
      },
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "6hzrQTMU9Jx22uMs",
          "name": "Google Drive account 3"
        }
      },
      "typeVersion": 3
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "9eb46725-afe3-4411-8b28-7c9b39ad8b77",
  "connections": {
    "Drive upload": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Google Drive": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Create Backup": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Archive Old Files": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Move to Processed": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  }
}