{
  "id": "YHPFl1HIRMwtqhmV",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Multi-Agent Personal Assistant Orchestration with GPT-4o & WhatsApp",
    "wechat": "youandme10086",
    "id": 5415,
    "update_time": "2025-11-10"
  },
  "name": "ElenaAI",
  "tags": [],
  "nodes": [
    {
      "id": "824f7c65-49bc-4abb-a5e9-223de9ef8528",
      "name": "Redis",
      "type": "n8n-nodes-base.redis",
      "position": [
        -3340,
        420
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "0dac45af-c112-4ab4-b16d-eb4990c41f13",
      "name": "Wait",
      "type": "n8n-nodes-base.wait",
      "position": [
        -3120,
        420
      ],
      "webhookId": "c0f4b9ff-3d51-4f2c-95d6-8beb0c51b01a",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "0cac8e15-4486-43f9-9fbc-ab4228d00f0c",
      "name": "Redis1",
      "type": "n8n-nodes-base.redis",
      "position": [
        -2900,
        420
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "1f88c343-a13f-4672-b9ee-ee527ee67e00",
      "name": "If",
      "type": "n8n-nodes-base.if",
      "position": [
        -2680,
        420
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "f64c03f8-8978-4d86-a714-14e6fb0e1dbf",
      "name": "No Operation, do nothing",
      "type": "n8n-nodes-base.noOp",
      "position": [
        -2680,
        580
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "162d976a-2795-479a-8cdb-45113a30e074",
      "name": "Edit Fields1",
      "type": "n8n-nodes-base.set",
      "position": [
        -2460,
        420
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "7ef0d865-3134-4fc9-a2d3-ab3a28842c62",
      "name": "Responde texto",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -100,
        60
      ],
      "parameters": {},
      "typeVersion": 4.2
    },
    {
      "id": "fdf374ee-bea3-465d-9b3a-030111c7b52e",
      "name": "Redis2",
      "type": "n8n-nodes-base.redis",
      "position": [
        -2300,
        420
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "726984a9-415e-4b39-8881-aa07a4db9aa1",
      "name": "Convert to File",
      "type": "n8n-nodes-base.convertToFile",
      "position": [
        -4280,
        340
      ],
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "18c53f55-9963-4690-af2e-0870545755e5",
      "name": "Edit Fields",
      "type": "n8n-nodes-base.set",
      "position": [
        -4440,
        340
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "8716381d-aa3b-45cc-9e44-738f854de516",
      "name": "Convert to File1",
      "type": "n8n-nodes-base.convertToFile",
      "position": [
        -4280,
        480
      ],
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "13494a6e-2944-4e95-943d-c2d962bddfb6",
      "name": "Edit Fields3",
      "type": "n8n-nodes-base.set",
      "position": [
        -4440,
        480
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "e1281b7a-8ce5-494e-babc-13fe8ec9d763",
      "name": "Switch",
      "type": "n8n-nodes-base.switch",
      "position": [
        -4740,
        340
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "07aee251-4244-4fec-af0b-ba77e61ddf8a",
      "name": "Switch1",
      "type": "n8n-nodes-base.switch",
      "position": [
        -600,
        420
      ],
      "parameters": {},
      "typeVersion": 3.2
    },
    {
      "id": "80ddbfd0-7be5-4680-b173-49686ad26113",
      "name": "Responde imagem",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -100,
        220
      ],
      "parameters": {},
      "typeVersion": 4.2
    },
    {
      "id": "944f5650-8573-4269-a8ac-2c54e6cee3d6",
      "name": "Responde pdf",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -100,
        380
      ],
      "parameters": {},
      "typeVersion": 4.2
    },
    {
      "id": "c4c05980-88e4-41e7-a884-ccf06e80db16",
      "name": "Responde vídeo",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -100,
        540
      ],
      "parameters": {},
      "typeVersion": 4.2
    },
    {
      "id": "e930b5f9-e085-4dfc-878a-3672dbf3f118",
      "name": "Edit Fields4",
      "type": "n8n-nodes-base.set",
      "position": [
        -4440,
        200
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "9881a11c-b00f-41fa-bf94-06c5ad28a180",
      "name": "Edit Fields5",
      "type": "n8n-nodes-base.set",
      "position": [
        -1500,
        420
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "b70e091e-b1a1-498e-8058-c533b7c973c5",
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "position": [
        -1340,
        420
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "a89524ba-006f-46e8-b365-cd709699bf1f",
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        -1120,
        420
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "c4a8c9c4-2d37-40a9-b99a-a74c88fd4b80",
      "name": "Replace Me",
      "type": "n8n-nodes-base.noOp",
      "position": [
        -860,
        300
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "9059f0c5-a046-45e1-ac26-01abe9c6bbf6",
      "name": "Wait1",
      "type": "n8n-nodes-base.wait",
      "position": [
        -860,
        560
      ],
      "webhookId": "20d00dc1-91ed-4b45-9084-025c3c44452a",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "54868584-4f86-48c1-b0c4-2d5611729dd5",
      "name": "Variáveis Globais",
      "type": "n8n-nodes-base.set",
      "position": [
        -6060,
        380
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "e7faabbe-1c4c-4627-a0ca-12b2c67e6ead",
      "name": "If1",
      "type": "n8n-nodes-base.if",
      "position": [
        -5620,
        380
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "2c17f27b-f192-4f8f-ae3a-bb2cf7fdaf89",
      "name": "Supabase1",
      "type": "n8n-nodes-base.supabase",
      "position": [
        -5200,
        420
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "bb215d30-e660-4324-b018-cc6c62bb6153",
      "name": "If2",
      "type": "n8n-nodes-base.if",
      "position": [
        -5400,
        280
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "e09a171e-f13e-4331-90e5-1b84e5bbad2c",
      "name": "OpenAI",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        -4140,
        340
      ],
      "parameters": {},
      "typeVersion": 1.6
    },
    {
      "id": "cbe6b431-59fb-488e-8c58-e1164b60688b",
      "name": "OpenAI1",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        -4140,
        480
      ],
      "parameters": {},
      "typeVersion": 1.6
    },
    {
      "id": "32b342ee-63f7-46a6-bfb5-5b252837f047",
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        -2180,
        740
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "884ec679-5d2f-450d-8ec0-c07324d86628",
      "name": "Crypto",
      "type": "n8n-nodes-base.crypto",
      "position": [
        -5400,
        420
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "ca4c5692-05af-4b19-b550-202feaadf98f",
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        -2060,
        420
      ],
      "parameters": {},
      "typeVersion": 1.6
    },
    {
      "id": "124f087c-8372-46d3-92fe-13b0720ed2d1",
      "name": "Postgres Chat Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "position": [
        -2020,
        720
      ],
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "51437868-b338-43ea-b3c1-91c67671203b",
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "position": [
        -6260,
        380
      ],
      "webhookId": "89c7e4c1-1b67-4209-ba3d-1cf0bea15f9c",
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "09cf8f24-eeb3-4e96-8235-50b4d3563268",
      "name": "Merge",
      "type": "n8n-nodes-base.merge",
      "position": [
        -3580,
        400
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "4e102478-5b94-41bc-9b72-ba80a406c24d",
      "name": "Edit Fields8",
      "type": "n8n-nodes-base.set",
      "position": [
        -4000,
        340
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "d48f450b-a099-43d3-9ec5-0b2d7e3883bd",
      "name": "Edit Fields9",
      "type": "n8n-nodes-base.set",
      "position": [
        -4000,
        480
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "98edd4cc-db31-4320-9d33-b6db98f320e3",
      "name": "separa o base1",
      "type": "n8n-nodes-base.set",
      "position": [
        -4440,
        620
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "a1176684-c016-4780-bbd9-e67835449346",
      "name": "Converte documento",
      "type": "n8n-nodes-base.convertToFile",
      "position": [
        -4280,
        620
      ],
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "e051c4cc-5d57-47ff-bd0d-36e5e541a0bd",
      "name": "Extract from File",
      "type": "n8n-nodes-base.extractFromFile",
      "position": [
        -4140,
        620
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "d3eb31e7-5693-4339-8332-144c91356f3b",
      "name": "separa o telefone e texto3",
      "type": "n8n-nodes-base.set",
      "position": [
        -4000,
        620
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "2ff31c6a-686a-49ff-9dc5-82250c53d83d",
      "name": "OpenAI2",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        -100,
        700
      ],
      "parameters": {},
      "typeVersion": 1.8
    },
    {
      "id": "99bbe227-56f4-4a3f-8065-85077099b464",
      "name": "Extract from File1",
      "type": "n8n-nodes-base.extractFromFile",
      "position": [
        60,
        700
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "94acf592-a6cb-438d-a6f4-c0015359eb5e",
      "name": "Responde audio",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        220,
        700
      ],
      "parameters": {},
      "typeVersion": 4.2
    },
    {
      "id": "4abd3cda-e6d7-4af3-bcde-808154eb3c37",
      "name": "Supabase3",
      "type": "n8n-nodes-base.supabase",
      "position": [
        -5200,
        280
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "5d59c206-2a66-4211-a1e2-f8f501db60e4",
      "name": "Encerrado",
      "type": "n8n-nodes-base.supabaseTool",
      "position": [
        -1700,
        640
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "ce4a7fcf-0eba-46cc-80c1-39aefa25b4ea",
      "name": "leadQualificado",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "position": [
        -1860,
        700
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "48310fb4-4232-4343-b003-a36db9e86912",
      "name": "Wait3",
      "type": "n8n-nodes-base.wait",
      "position": [
        -4980,
        420
      ],
      "webhookId": "1911e072-536a-4c0b-8913-154dce57dfea",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "aaa79c25-1009-4a26-943c-9769d493537d",
      "name": "Supabase",
      "type": "n8n-nodes-base.supabase",
      "position": [
        -5840,
        380
      ],
      "parameters": {},
      "typeVersion": 1,
      "alwaysOutputData": true
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "dbbda52e-68fb-47af-9ec3-63c20535d710",
  "connections": {
    "If": {
      "main": [
        [
          {
            "node": "Edit Fields1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If1": {
      "main": [
        [
          {
            "node": "If2",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Crypto",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If2": {
      "main": [
        [
          {
            "node": "Supabase3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait": {
      "main": [
        [
          {
            "node": "Redis1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Redis",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Redis": {
      "main": [
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait1": {
      "main": [
        [
          {
            "node": "Switch1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait3": {
      "main": [
        [
          {
            "node": "Supabase",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Crypto": {
      "main": [
        [
          {
            "node": "Supabase1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI": {
      "main": [
        [
          {
            "node": "Edit Fields8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Redis1": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Redis2": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch": {
      "main": [
        [
          {
            "node": "Edit Fields4",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields4",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields3",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "separa o base1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI1": {
      "main": [
        [
          {
            "node": "Edit Fields9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI2": {
      "main": [
        [
          {
            "node": "Extract from File1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch1": {
      "main": [
        [
          {
            "node": "OpenAI2",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Responde texto",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Responde imagem",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Responde pdf",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Responde vídeo",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook": {
      "main": [
        [
          {
            "node": "Variáveis Globais",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Edit Fields5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Supabase": {
      "main": [
        [
          {
            "node": "If1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Encerrado": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Supabase1": {
      "main": [
        [
          {
            "node": "Wait3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Supabase3": {
      "main": [
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "Convert to File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields1": {
      "main": [
        [
          {
            "node": "Redis2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields3": {
      "main": [
        [
          {
            "node": "Convert to File1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields4": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields5": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields8": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Edit Fields9": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "Responde pdf": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Responde audio": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Responde texto": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "separa o base1": {
      "main": [
        [
          {
            "node": "Converte documento",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Convert to File": {
      "main": [
        [
          {
            "node": "OpenAI",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [
          {
            "node": "Replace Me",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Wait1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Responde imagem": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Responde vídeo": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "leadQualificado": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Convert to File1": {
      "main": [
        [
          {
            "node": "OpenAI1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract from File": {
      "main": [
        [
          {
            "node": "separa o telefone e texto3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Converte documento": {
      "main": [
        [
          {
            "node": "Extract from File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract from File1": {
      "main": [
        [
          {
            "node": "Responde audio",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Variáveis Globais": {
      "main": [
        [
          {
            "node": "Supabase",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Postgres Chat Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "separa o telefone e texto3": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 3
          }
        ]
      ]
    }
  }
}