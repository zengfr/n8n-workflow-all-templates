{
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Batch Scrape Website URLs from Google Sheets to Google Docs with Firecrawl",
    "wechat": "youandme10086",
    "id": 7384,
    "update_time": "2025-11-10"
  },
  "nodes": [
    {
      "id": "d96cad9a-3866-4c10-b770-d3ec189d3ef1",
      "name": "If",
      "type": "n8n-nodes-base.if",
      "position": [
        1776,
        112
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "9bc90f3e-9c5d-4cbc-b899-93fa5e2de9a5",
              "operator": {
                "type": "string",
                "operation": "empty",
                "singleValue": true
              },
              "leftValue": "={{ $json.scraped }}",
              "rightValue": ""
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "2087a700-8464-45ba-82b7-8e9847db72a9",
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        2416,
        96
      ],
      "parameters": {
        "options": {}
      },
      "typeVersion": 3
    },
    {
      "id": "72db4112-3c6f-4fb9-acd8-08125308de00",
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "position": [
        0,
        112
      ],
      "webhookId": "60fcb296-7be1-4d65-a3b0-59a6fe4c43c0",
      "parameters": {
        "mode": "webhook",
        "public": true,
        "options": {
          "responseMode": "responseNode"
        }
      },
      "typeVersion": 1.1
    },
    {
      "id": "582178cd-f077-4ccb-94d8-ca712db384fa",
      "name": "Scraping",
      "type": "@mendable/n8n-nodes-firecrawl.firecrawl",
      "position": [
        3072,
        80
      ],
      "parameters": {
        "url": "={{ $json.URL }}",
        "operation": "scrape",
        "requestOptions": {}
      },
      "credentials": {
        "firecrawlApi": {
          "id": "E34WDB80ik5VHjiI",
          "name": "Firecrawl account"
        }
      },
      "retryOnFail": true,
      "typeVersion": 1
    },
    {
      "id": "dc0407a8-e2f7-4051-8cbb-a6bd301e1f14",
      "name": "Get URL",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        640,
        112
      ],
      "parameters": {
        "options": {},
        "sheetName": {
          "__rl": true,
          "mode": "name",
          "value": "Page to doc"
        },
        "documentId": {
          "__rl": true,
          "mode": "url",
          "value": "={{ $json.chatInput }}"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "wBRLUCktxqXE6DVJ",
          "name": "Google Sheets account"
        }
      },
      "typeVersion": 4.5
    },
    {
      "id": "5e620e94-b78d-4f19-af38-c5ed71410198",
      "name": "Row not empty",
      "type": "n8n-nodes-base.filter",
      "position": [
        1232,
        112
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "48acd975-5041-455b-8e47-3b7eef32b483",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              },
              "leftValue": "={{ $json.URL }}",
              "rightValue": ""
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "5bd94c75-6577-4867-847c-b490b1b08039",
      "name": "Create file markdown scraping",
      "type": "n8n-nodes-base.googleDrive",
      "position": [
        3664,
        80
      ],
      "parameters": {
        "name": "={{ $('Scraping').item.json.data.metadata.url }}",
        "content": "={{ $('Scraping').item.json.data.markdown }}",
        "driveId": {
          "__rl": true,
          "mode": "list",
          "value": "My Drive"
        },
        "options": {},
        "folderId": {
          "__rl": true,
          "mode": "list",
          "value": "1ry3xvQ9UqM2Rf9C4-AoJdg1lfB9inh_5",
          "cachedResultUrl": "https://drive.google.com/drive/folders/1ry3xvQ9UqM2Rf9C4-AoJdg1lfB9inh_5",
          "cachedResultName": "Contenu scrapé"
        },
        "operation": "createFromText"
      },
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "3TalAPza9NdMx3yx",
          "name": "Hugo"
        }
      },
      "typeVersion": 3
    },
    {
      "id": "459573a0-9c0f-4921-8e03-eb60076f5670",
      "name": "Scraped : OK",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        4288,
        80
      ],
      "parameters": {
        "columns": {
          "value": {
            "URL": "={{ $('Loop Over Items').item.json.URL }}",
            "Scraped": "OK"
          },
          "schema": [
            {
              "id": "URL",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "URL",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Scraped",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Scraped",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "type": "number",
              "display": true,
              "removed": true,
              "readOnly": true,
              "required": false,
              "displayName": "row_number",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "URL"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "update",
        "sheetName": {
          "__rl": true,
          "mode": "name",
          "value": "Page to doc"
        },
        "documentId": {
          "__rl": true,
          "mode": "url",
          "value": "={{ $('When chat message received').item.json.chatInput }}"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "wBRLUCktxqXE6DVJ",
          "name": "Google Sheets account"
        }
      },
      "typeVersion": 4.6,
      "alwaysOutputData": true
    },
    {
      "id": "5b5f1067-c503-4ce7-870a-7edd07c852c2",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -224,
        0
      ],
      "parameters": {
        "width": 576,
        "height": 256,
        "content": "# Phase 1: Spreadsheet Input and Initialization"
      },
      "typeVersion": 1
    },
    {
      "id": "6dfc1bb7-1e76-42fa-9ff0-ade69fb80e01",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -224,
        304
      ],
      "parameters": {
        "width": 576,
        "height": 400,
        "content": "### What you do:\n\nProvide the Google Sheets URL containing the list of URLs to scrape\nEnsure your spreadsheet has a \"Page to doc\" sheet with URL column populated\nTrigger the workflow by submitting the spreadsheet link via chat interface\n\n### What the system does:\n\nReceives the spreadsheet URL via webhook trigger\nPrepares the system for bulk URL processing\nSets up the workflow for automated scraping and document generation\n\n### Result:\n✅ Workflow initialized with your URL list\n✅ System prepared for bulk processing\n✅ Secure connection established to your spreadsheet\n✅ Ready to begin automated scraping sequence\n"
      },
      "typeVersion": 1
    },
    {
      "id": "9dcf5722-9589-4b7b-8e5f-e9c6e5368fab",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        384,
        0
      ],
      "parameters": {
        "color": 2,
        "width": 576,
        "height": 256,
        "content": "# Phase 2: URL List Retrieval"
      },
      "typeVersion": 1
    },
    {
      "id": "b4b4650a-3530-4c79-b627-9a432fa3b903",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        384,
        304
      ],
      "parameters": {
        "color": 2,
        "width": 576,
        "height": 288,
        "content": "### What the system does:\n\nConnects to your Google Sheets document\nReads the \"Page to doc\" sheet to extract URL list\nRetrieves all URLs marked for processing\nLoads scraping status to track progress\n\n### Result:\n✅ Complete URL inventory loaded from spreadsheet\n✅ Processing queue established\n✅ Status tracking system activated\n✅ Data structure prepared for bulk operations\n"
      },
      "typeVersion": 1
    },
    {
      "id": "d57390fa-3421-4706-b96f-bf648851774a",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        992,
        0
      ],
      "parameters": {
        "color": 3,
        "width": 576,
        "height": 256,
        "content": "# Phase 3: URL Validation and Filtering"
      },
      "typeVersion": 1
    },
    {
      "id": "a685462e-370c-456e-8f7c-b99894fcb016",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        992,
        304
      ],
      "parameters": {
        "color": 3,
        "width": 576,
        "height": 288,
        "content": "### What the system does:\n\nFilters out empty rows to focus on valid URLs\nValidates URL format and accessibility\nRemoves already processed URLs based on \"Scraped\" status\nCreates clean dataset for processing\n\n### Result:\n✅ Only valid, unprocessed URLs selected\n✅ Duplicate processing prevention implemented\n✅ Efficient resource utilization ensured\n✅ Clean processing queue established\n"
      },
      "typeVersion": 1
    },
    {
      "id": "ef2612ff-842d-4f29-8f99-4963c1456aff",
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1600,
        0
      ],
      "parameters": {
        "color": 4,
        "width": 576,
        "height": 256,
        "content": "# Phase 4: Unprocessed URL Detection"
      },
      "typeVersion": 1
    },
    {
      "id": "1f49348a-64db-4c07-9a5e-663f76834ae0",
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1600,
        304
      ],
      "parameters": {
        "color": 4,
        "width": 576,
        "height": 288,
        "content": "### What the system does:\n\nChecks scraping status for each URL\nIdentifies URLs without \"Scraped\" marker in the spreadsheet\nRoutes unprocessed URLs to the scraping pipeline\nSkips already completed URLs to avoid redundant work\n\n### Result:\n✅ Smart detection of pending work\n✅ Resume capability for interrupted processes\n✅ Progress tracking implemented\n✅ Efficient processing optimization\n"
      },
      "typeVersion": 1
    },
    {
      "id": "a1d855a5-b97c-4f5e-a822-6f2b8e10a3eb",
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2208,
        0
      ],
      "parameters": {
        "color": 5,
        "width": 576,
        "height": 256,
        "content": "# Phase 5: Sequential URL Processing"
      },
      "typeVersion": 1
    },
    {
      "id": "57fcddff-9bdc-48f8-9b41-ffb0099c92b6",
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2208,
        304
      ],
      "parameters": {
        "color": 5,
        "width": 576,
        "height": 288,
        "content": "### What the system does:\n\nProcesses URLs one at a time to maintain stability\nManages processing queue systematically\nMaintains data integrity throughout the workflow\nHandles batch processing with controlled flow\n\n### Result:\n✅ Organized sequential processing established\n✅ System stability maintained during bulk operations\n✅ Processing queue managed efficiently\n✅ Scalable approach for large URL lists\n"
      },
      "typeVersion": 1
    },
    {
      "id": "564ebb78-2b72-47c7-b2ce-70cae936712c",
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2816,
        0
      ],
      "parameters": {
        "color": 6,
        "width": 576,
        "height": 256,
        "content": "# Phase 6: Web Content Scraping"
      },
      "typeVersion": 1
    },
    {
      "id": "0f5b109d-821a-4a72-bcb6-3e2302cb89ab",
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2816,
        304
      ],
      "parameters": {
        "color": 6,
        "width": 576,
        "height": 320,
        "content": "### What the system does:\n\nUses Firecrawl service to extract content from each URL\nRetrieves full page content including text, metadata, and structure\nConverts content to markdown format for clean document creation\nExtracts page metadata such as titles and descriptions\nHandles various page types and content structures\nImplements retry logic for failed scraping attempts\n\n### Result:\n✅ Complete page content extracted and formatted\n✅ Clean markdown conversion for document creation\n✅ Page metadata preserved for context\n✅ Reliable content extraction with error handling\n"
      },
      "typeVersion": 1
    },
    {
      "id": "3b6988df-abcd-412a-b201-36b63c7a7065",
      "name": "Sticky Note13",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        3424,
        304
      ],
      "parameters": {
        "color": 7,
        "width": 576,
        "height": 320,
        "content": "### What the system does:\n\nCreates individual Google Docs for each scraped page\nUses the page URL as filename for easy identification\nStores documents in designated folder (\"Contenu scrapé\")\nFormats content as markdown in the document\nPreserves original page structure and formatting where possible\n\n### Result:\n✅ Individual Google Docs created for each URL\n✅ Organized file storage in dedicated folder\n✅ Clear naming convention for easy navigation\n✅ Content preserved in accessible document format\n"
      },
      "typeVersion": 1
    },
    {
      "id": "daddf813-e3eb-4cd3-8acc-8a6324b11a7e",
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        3424,
        0
      ],
      "parameters": {
        "color": 7,
        "width": 576,
        "height": 256,
        "content": "# Phase 7: Google Drive Document Creation"
      },
      "typeVersion": 1
    },
    {
      "id": "357bd674-9b89-43f2-be0f-3828301365fc",
      "name": "Sticky Note14",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        4032,
        0
      ],
      "parameters": {
        "width": 576,
        "height": 256,
        "content": "# Phase 8: Progress Tracking Update"
      },
      "typeVersion": 1
    },
    {
      "id": "0958c50f-ec51-4e79-ad0f-1bcf55f38075",
      "name": "Sticky Note15",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        4032,
        304
      ],
      "parameters": {
        "width": 576,
        "height": 320,
        "content": "### What the system does:\n\nUpdates the source spreadsheet with processing status\nMarks completed URLs with \"Scraped: OK\" status\nMaintains processing log for accountability\nEnables resume functionality for interrupted workflows\n\n### Result:\n✅ Real-time progress tracking in spreadsheet\n✅ Clear status indicators for all processed URLs\n✅ Resume capability for large processing jobs\n✅ Complete audit trail of scraping activities\n"
      },
      "typeVersion": 1
    },
    {
      "id": "65adb228-1513-49cf-b1ca-4f41a26ff502",
      "name": "Sticky Note16",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1376,
        64
      ],
      "parameters": {
        "width": 816,
        "height": 336,
        "content": "## Need more advanced automation solutions? Contact us for custom enterprise workflows!\n\n# Growth-AI.fr\n\n## https://www.linkedin.com/in/allanvaccarizi/\n## https://www.linkedin.com/in/hugo-marinier-%F0%9F%A7%B2-6537b633/"
      },
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "If": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get URL": {
      "main": [
        [
          {
            "node": "Row not empty",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Scraping": {
      "main": [
        [
          {
            "node": "Create file markdown scraping",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Scraped : OK": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Row not empty": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [],
        [
          {
            "node": "Scraping",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "Get URL",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create file markdown scraping": {
      "main": [
        [
          {
            "node": "Scraped : OK",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}