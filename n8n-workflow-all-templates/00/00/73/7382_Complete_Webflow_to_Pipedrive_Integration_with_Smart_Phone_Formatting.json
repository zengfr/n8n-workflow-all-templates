{
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Complete Webflow to Pipedrive Integration with Smart Phone Formatting",
    "wechat": "youandme10086",
    "id": 7382,
    "update_time": "2025-11-10"
  },
  "nodes": [
    {
      "id": "506c4b19-583b-45c2-8f95-88d9a0bd08de",
      "name": "Data refinement",
      "type": "n8n-nodes-base.set",
      "position": [
        400,
        208
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "691e681b-b79e-4372-8afd-bdbaf0881c11",
              "name": "Prenom",
              "type": "string",
              "value": "={{ $json.payload.data['Prénom'] }}"
            },
            {
              "id": "c425fd31-6f20-4bc7-939d-ff3bdf63314e",
              "name": "Nom",
              "type": "string",
              "value": "={{ $json.payload.data.Nom }}"
            },
            {
              "id": "65ee47ca-19e9-490a-b647-0cb383ca21a6",
              "name": "Entreprise",
              "type": "string",
              "value": "={{ $json.payload.data.Entreprise }}"
            },
            {
              "id": "f0b97b9e-f621-42a9-b53e-1a32b277b588",
              "name": "Mail professionnel",
              "type": "string",
              "value": "={{ $json.payload.data['Mail professionnel'] }}"
            },
            {
              "id": "e25cb1ae-0514-485a-b93c-18bdb6ec16ba",
              "name": "Téléphone",
              "type": "string",
              "value": "={{ $json.payload.data['Téléphone pro'] }}"
            },
            {
              "id": "729eb9b0-0a3a-4f38-8fcb-226a6574c9c9",
              "name": "URL du site internet",
              "type": "string",
              "value": "={{ $json.payload.data['URL du site internet'] }}"
            },
            {
              "id": "91c587be-2a62-4dcd-b16e-7c644e0bbcda",
              "name": "Message",
              "type": "string",
              "value": "={{ $json.payload.data.Message }}"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "3e5e7b00-6151-428d-bb14-8df2abb7e105",
      "name": "Form Trigger",
      "type": "n8n-nodes-base.webflowTrigger",
      "position": [
        176,
        208
      ],
      "webhookId": "53bcc9fa-3e52-451e-800d-8c747b173ff9",
      "parameters": {
        "site": "6825df5b20329ba581df4914"
      },
      "credentials": {
        "webflowOAuth2Api": {
          "id": "CbSzY9RPrUDbhOdg",
          "name": "Growth AI"
        }
      },
      "typeVersion": 2
    },
    {
      "id": "dc173e74-da2e-48c9-8b7c-10b3c546765d",
      "name": "Search an organization",
      "type": "n8n-nodes-base.pipedrive",
      "position": [
        896,
        208
      ],
      "parameters": {
        "term": "={{ $('Data refinement').item.json.Entreprise }}",
        "limit": 10,
        "resource": "organization",
        "operation": "search",
        "additionalFields": {
          "exactMatch": true
        }
      },
      "credentials": {
        "pipedriveApi": {
          "id": "i6m1kGabR1OKHcuL",
          "name": "Pipedrive"
        }
      },
      "typeVersion": 1,
      "alwaysOutputData": true
    },
    {
      "id": "62b6bf1e-e1eb-4f0a-9e2f-787fe35e68df",
      "name": "If Organization exists",
      "type": "n8n-nodes-base.if",
      "position": [
        1136,
        208
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "a2b14d78-0253-480a-bb37-c64dee0f50dd",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              },
              "leftValue": "={{ $json.name }}",
              "rightValue": ""
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "415befbb-f2e9-4d7c-b70d-176608e4d2b7",
      "name": "Indicatif site",
      "type": "n8n-nodes-base.code",
      "position": [
        592,
        208
      ],
      "parameters": {
        "jsCode": "// Nœud Code n8n pour formater les numéros de téléphone avec indicatifs\n// Copiez ce code dans un nœud \"Code\" de n8n\n\n// Configuration des indicatifs par pays/région\nconst countryPrefixes = {\n  // France\n  'FR': {\n    prefix: '+33',\n    patterns: [\n      /^0[1-9]/,           // 01, 02, 03, 04, 05, 06, 07, 08, 09\n      /^[1-9]/             // Sans le 0 initial\n    ],\n    format: (number) => {\n      let cleaned = number.replace(/^0/, '');\n      return `+33${cleaned}`;\n    }\n  },\n  \n  // Pays frontaliers de la France\n  // Belgique\n  'BE': {\n    prefix: '+32',\n    patterns: [\n      /^0[2-9]/,           // 02, 03, 04, etc.\n      /^[2-9]/             // Sans le 0 initial\n    ],\n    format: (number) => {\n      let cleaned = number.replace(/^0/, '');\n      return `+32${cleaned}`;\n    }\n  },\n  \n  // Suisse\n  'CH': {\n    prefix: '+41',\n    patterns: [\n      /^0[1-9]/,           // 01, 02, etc.\n      /^[1-9]/             // Sans le 0 initial\n    ],\n    format: (number) => {\n      let cleaned = number.replace(/^0/, '');\n      return `+41${cleaned}`;\n    }\n  },\n  \n  // Luxembourg\n  'LU': {\n    prefix: '+352',\n    patterns: [\n      /^[2-9]/,            // Commencent par 2-9 (pas de 0 initial)\n      /^6[0-9]/            // Mobiles commencent par 6\n    ],\n    format: (number) => {\n      return `+352${number}`;\n    }\n  },\n  \n  // Allemagne\n  'DE': {\n    prefix: '+49',\n    patterns: [\n      /^0[1-9]/,           // 01, 02, etc.\n      /^[1-9]/             // Sans le 0 initial\n    ],\n    format: (number) => {\n      let cleaned = number.replace(/^0/, '');\n      return `+49${cleaned}`;\n    }\n  },\n  \n  // Espagne\n  'ES': {\n    prefix: '+34',\n    patterns: [\n      /^[67]/,             // Mobiles commencent par 6 ou 7\n      /^[89]/              // Fixes commencent par 8 ou 9\n    ],\n    format: (number) => {\n      return `+34${number}`;\n    }\n  },\n  \n  // Italie\n  'IT': {\n    prefix: '+39',\n    patterns: [\n      /^0[1-9]/,           // Fixes commencent par 0\n      /^3[0-9]/            // Mobiles commencent par 3\n    ],\n    format: (number) => {\n      return `+39${number}`;\n    }\n  },\n  \n  // Portugal\n  'PT': {\n    prefix: '+351',\n    patterns: [\n      /^2[1-9]/,           // Fixes région Lisbonne (21, 22, etc.)\n      /^9[1-6]/,           // Mobiles (91, 92, 93, 96)\n      /^[89][0-9]/         // Autres fixes\n    ],\n    format: (number) => {\n      return `+351${number}`;\n    }\n  },\n  \n  // Pays francophones d'Afrique du Nord\n  // Maroc\n  'MA': {\n    prefix: '+212',\n    patterns: [\n      /^0[5-7]/,           // 05, 06, 07\n      /^[5-7]/             // Sans le 0 initial\n    ],\n    format: (number) => {\n      let cleaned = number.replace(/^0/, '');\n      return `+212${cleaned}`;\n    }\n  },\n  \n  // Algérie\n  'DZ': {\n    prefix: '+213',\n    patterns: [\n      /^0[1-9]/,           // 01, 02, etc.\n      /^[5-7]/             // Mobiles 5, 6, 7\n    ],\n    format: (number) => {\n      let cleaned = number.replace(/^0/, '');\n      return `+213${cleaned}`;\n    }\n  },\n  \n  // Tunisie\n  'TN': {\n    prefix: '+216',\n    patterns: [\n      /^[2-5]/,            // Fixes régionaux (20, 21, 22, etc.)\n      /^[9]/               // Mobiles commencent par 9\n    ],\n    format: (number) => {\n      return `+216${number}`;\n    }\n  },\n  \n  // Autres pays (conservés)\n  // Canada\n  'CA': {\n    prefix: '+1',\n    patterns: [\n      /^1[0-9]{10}$/,      // 1 + 10 chiffres\n      /^[0-9]{10}$/        // 10 chiffres sans le 1\n    ],\n    format: (number) => {\n      let cleaned = number.replace(/^1/, '');\n      return `+1${cleaned}`;\n    }\n  },\n  \n  // États-Unis\n  'US': {\n    prefix: '+1',\n    patterns: [\n      /^1[0-9]{10}$/,      // 1 + 10 chiffres\n      /^[0-9]{10}$/        // 10 chiffres sans le 1\n    ],\n    format: (number) => {\n      let cleaned = number.replace(/^1/, '');\n      return `+1${cleaned}`;\n    }\n  },\n  \n  // Royaume-Uni\n  'GB': {\n    prefix: '+44',\n    patterns: [\n      /^0[1-9]/,           // 01, 02, etc.\n      /^[1-9]/             // Sans le 0 initial\n    ],\n    format: (number) => {\n      let cleaned = number.replace(/^0/, '');\n      return `+44${cleaned}`;\n    }\n  },\n\n  // Pays asiatiques et du Moyen-Orient\n  // Qatar\n  'QA': {\n    prefix: '+974',\n    patterns: [\n      /^[3567]/,           // Mobiles commencent par 3, 5, 6, 7\n      /^4[0-9]/            // Fixes commencent par 4\n    ],\n    format: (number) => {\n      return `+974${number}`;\n    }\n  },\n\n  // Maldives\n  'MV': {\n    prefix: '+960',\n    patterns: [\n      /^[79]/,             // Mobiles commencent par 7 ou 9\n      /^3[0-9]/            // Fixes commencent par 3\n    ],\n    format: (number) => {\n      return `+960${number}`;\n    }\n  },\n\n  // Pakistan\n  'PK': {\n    prefix: '+92',\n    patterns: [\n      /^0[1-9]/,           // Fixes avec 0 initial\n      /^3[0-9]/            // Mobiles commencent par 3\n    ],\n    format: (number) => {\n      let cleaned = number.replace(/^0/, '');\n      return `+92${cleaned}`;\n    }\n  },\n\n  // Inde\n  'IN': {\n    prefix: '+91',\n    patterns: [\n      /^0[1-9]/,           // Fixes avec 0 initial\n      /^[6-9]/             // Mobiles commencent par 6, 7, 8, 9\n    ],\n    format: (number) => {\n      let cleaned = number.replace(/^0/, '');\n      return `+91${cleaned}`;\n    }\n  },\n\n  // Hong Kong\n  'HK': {\n    prefix: '+852',\n    patterns: [\n      /^[2-3]/,            // Fixes commencent par 2 ou 3\n      /^[5-9]/             // Mobiles commencent par 5, 6, 9\n    ],\n    format: (number) => {\n      return `+852${number}`;\n    }\n  },\n\n  // Corée du Sud\n  'KR': {\n    prefix: '+82',\n    patterns: [\n      /^0[1-9]/,           // Fixes avec 0 initial\n      /^1[0-9]/            // Mobiles commencent par 1\n    ],\n    format: (number) => {\n      let cleaned = number.replace(/^0/, '');\n      return `+82${cleaned}`;\n    }\n  },\n\n  // Japon\n  'JP': {\n    prefix: '+81',\n    patterns: [\n      /^0[1-9]/,           // Fixes avec 0 initial\n      /^[789][0-9]/        // Mobiles commencent par 7, 8, 9\n    ],\n    format: (number) => {\n      let cleaned = number.replace(/^0/, '');\n      return `+81${cleaned}`;\n    }\n  }\n};\n\n/**\n * Nettoie un numéro de téléphone en supprimant tous les caractères non numériques\n * @param {string} phoneNumber - Numéro de téléphone brut\n * @returns {string} - Numéro nettoyé\n */\nfunction cleanPhoneNumber(phoneNumber) {\n  if (!phoneNumber || typeof phoneNumber !== 'string') {\n    return '';\n  }\n  \n  // Supprimer tous les caractères non numériques sauf le + au début\n  let cleaned = phoneNumber.trim();\n  \n  // Si le numéro commence déjà par +, on le garde tel quel\n  if (cleaned.startsWith('+')) {\n    return cleaned.replace(/[^\\d+]/g, '');\n  }\n  \n  // Sinon, supprimer tous les caractères non numériques\n  return cleaned.replace(/[^\\d]/g, '');\n}\n\n/**\n * Détecte le pays et formate le numéro de téléphone\n * @param {string} phoneNumber - Numéro de téléphone nettoyé\n * @returns {Object} - Objet avec le numéro formaté et les informations du pays\n */\nfunction detectAndFormatPhoneNumber(phoneNumber) {\n  // Si le numéro commence déjà par +, on considère qu'il est déjà formaté\n  if (phoneNumber.startsWith('+')) {\n    return {\n      formatted: phoneNumber,\n      detected_country: 'Already formatted',\n      confidence: 'high'\n    };\n  }\n  \n  // Parcourir chaque pays pour trouver une correspondance\n  for (const [countryCode, config] of Object.entries(countryPrefixes)) {\n    for (const pattern of config.patterns) {\n      if (pattern.test(phoneNumber)) {\n        return {\n          formatted: config.format(phoneNumber),\n          detected_country: countryCode,\n          confidence: 'high',\n          original: phoneNumber\n        };\n      }\n    }\n  }\n  \n  // Si aucun pattern ne correspond, essayer de deviner par la longueur\n  const length = phoneNumber.length;\n  \n  // Longueurs typiques par défaut (France comme fallback pour l'Europe)\n  if (length === 10 && phoneNumber.startsWith('0')) {\n    return {\n      formatted: countryPrefixes.FR.format(phoneNumber),\n      detected_country: 'FR',\n      confidence: 'medium',\n      original: phoneNumber,\n      reason: 'Fallback: 10 digits starting with 0 (assumed French)'\n    };\n  }\n  \n  if (length === 9 && !phoneNumber.startsWith('0')) {\n    return {\n      formatted: `+33${phoneNumber}`,\n      detected_country: 'FR',\n      confidence: 'low',\n      original: phoneNumber,\n      reason: 'Fallback: 9 digits without 0 (assumed French mobile)'\n    };\n  }\n  \n  // Si on ne peut pas détecter, retourner le numéro original avec un avertissement\n  return {\n    formatted: phoneNumber,\n    detected_country: 'Unknown',\n    confidence: 'none',\n    original: phoneNumber,\n    warning: 'Could not detect country, returned original number'\n  };\n}\n\n// Code principal du nœud n8n\nconst items = $input.all();\nconst processedItems = [];\n\nfor (const item of items) {\n  try {\n    // Récupérer le numéro de téléphone depuis l'objet spécifié\n    const rawPhoneNumber = $input.first().json['Téléphone'];\n    \n    if (!rawPhoneNumber) {\n      processedItems.push({\n        ...item,\n        json: {\n          ...item.json,\n          phone_formatted: '+330000000000'\n        }\n      });\n      continue;\n    }\n    \n    // Nettoyer et formater le numéro\n    const cleanedNumber = cleanPhoneNumber(rawPhoneNumber);\n    \n    if (!cleanedNumber) {\n      processedItems.push({\n        ...item,\n        json: {\n          ...item.json,\n          phone_formatted: '+330000000000'\n        }\n      });\n      continue;\n    }\n    \n    // Détecter et formater\n    const result = detectAndFormatPhoneNumber(cleanedNumber);\n    \n    // Ajouter seulement le numéro formaté à l'item\n    processedItems.push({\n      ...item,\n      json: {\n        ...item.json,\n        // Numéro formaté avec indicatif\n        phone_formatted: result.formatted\n      }\n    });\n    \n  } catch (error) {\n    // En cas d'erreur, retourner le numéro par défaut\n    processedItems.push({\n      ...item,\n      json: {\n        ...item.json,\n        phone_formatted: '+330000000000'\n      }\n    });\n  }\n}\n\nreturn processedItems;\n\n// Exemple de ce que vous obtiendrez en sortie :\n/*\n{\n  \"phone_formatted\": \"+33612345678\"\n}\n\n// En cas d'erreur ou numéro non trouvé :\n{\n  \"phone_formatted\": \"+330000000000\"\n}\n*/"
      },
      "typeVersion": 2
    },
    {
      "id": "813177b9-1470-460f-abde-ec4e6ddd0e72",
      "name": "Create Organization",
      "type": "n8n-nodes-base.pipedrive",
      "position": [
        1360,
        256
      ],
      "parameters": {
        "name": "={{ $('Data refinement').item.json.Entreprise }}",
        "resource": "organization",
        "additionalFields": {}
      },
      "credentials": {
        "pipedriveApi": {
          "id": "i6m1kGabR1OKHcuL",
          "name": "Pipedrive"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "98bd9f52-90c3-4ae5-995f-9f94d04b1a70",
      "name": "Search Person",
      "type": "n8n-nodes-base.pipedrive",
      "position": [
        1872,
        192
      ],
      "parameters": {
        "term": "={{ $('Data refinement').item.json.Prenom }} {{ $('Data refinement').item.json.Nom }}",
        "limit": 10,
        "resource": "person",
        "operation": "search",
        "additionalFields": {
          "exactMatch": true
        }
      },
      "credentials": {
        "pipedriveApi": {
          "id": "i6m1kGabR1OKHcuL",
          "name": "Pipedrive"
        }
      },
      "executeOnce": false,
      "typeVersion": 1,
      "alwaysOutputData": true
    },
    {
      "id": "27b6e952-9f30-481d-a55f-03729407a83a",
      "name": "If Person exists",
      "type": "n8n-nodes-base.if",
      "position": [
        2080,
        192
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "a2b14d78-0253-480a-bb37-c64dee0f50dd",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              },
              "leftValue": "={{ $json.name }}",
              "rightValue": ""
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "83add9d3-7f88-41f4-8478-e91d1a3a7796",
      "name": "Update a person",
      "type": "n8n-nodes-base.pipedrive",
      "position": [
        2400,
        128
      ],
      "parameters": {
        "personId": "={{ $json.id }}",
        "resource": "person",
        "operation": "update",
        "updateFields": {
          "email": [
            "={{ $('Data refinement').item.json['Mail professionnel'] }}"
          ],
          "phone": [
            "={{ $('Indicatif site').item.json.phone_formatted }}"
          ]
        }
      },
      "credentials": {
        "pipedriveApi": {
          "id": "i6m1kGabR1OKHcuL",
          "name": "Pipedrive"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "28a022b1-4351-43de-9bc4-c78874462d3c",
      "name": "Create a person",
      "type": "n8n-nodes-base.pipedrive",
      "position": [
        2400,
        256
      ],
      "parameters": {
        "name": "={{ $('Data refinement').item.json.Prenom }} {{ $('Data refinement').item.json.Nom }}",
        "resource": "person",
        "additionalFields": {
          "email": [
            "={{ $('Data refinement').item.json['Mail professionnel'] }}"
          ],
          "phone": [],
          "org_id": "={{ $('Aggregate Organisation').item.json.data[0].id }}",
          "owner_id": 25649125,
          "customProperties": {
            "property": [
              {
                "name": "c17f379e66fb0fa2c7e6ddfd986f7aa581086dd4",
                "value": "Growth Ai"
              }
            ]
          }
        }
      },
      "credentials": {
        "pipedriveApi": {
          "id": "i6m1kGabR1OKHcuL",
          "name": "Pipedrive"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "7f111320-0447-4f6e-b657-74fa63481c9d",
      "name": "Aggregate Organisation",
      "type": "n8n-nodes-base.aggregate",
      "position": [
        1568,
        192
      ],
      "parameters": {
        "options": {},
        "aggregate": "aggregateAllItemData"
      },
      "typeVersion": 1
    },
    {
      "id": "e29700af-5beb-4b0d-99dc-303f10be4ad2",
      "name": "Aggregate Person",
      "type": "n8n-nodes-base.aggregate",
      "position": [
        2752,
        192
      ],
      "parameters": {
        "options": {},
        "aggregate": "aggregateAllItemData"
      },
      "typeVersion": 1
    },
    {
      "id": "8bde17ce-7152-4b6f-afe1-bb6cb1dece6e",
      "name": "Create a lead",
      "type": "n8n-nodes-base.pipedrive",
      "position": [
        3200,
        192
      ],
      "parameters": {
        "title": "=Website - {{ $('Data refinement').item.json.Entreprise }} {{ $json.data[0].name }} ",
        "resource": "lead",
        "person_id": "={{ $json.data[0].id }}",
        "associateWith": "person",
        "additionalFields": {
          "organization_id": "={{ $('Aggregate Organisation').item.json.data[0].id }}"
        }
      },
      "credentials": {
        "pipedriveApi": {
          "id": "i6m1kGabR1OKHcuL",
          "name": "Pipedrive"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "a5ad1abe-6af9-4437-8edf-8723438857ec",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        80,
        80
      ],
      "parameters": {
        "color": 5,
        "width": 656,
        "height": 320,
        "content": "# Phase 1: Form Data Collection and Processing"
      },
      "typeVersion": 1
    },
    {
      "id": "0fc73804-a953-4ff6-8302-d6150dac5f5b",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1792,
        80
      ],
      "parameters": {
        "color": 3,
        "width": 1088,
        "height": 320,
        "content": "# Phase 3: Contact Person Management"
      },
      "typeVersion": 1
    },
    {
      "id": "43939a20-55db-4d94-804c-555134f96f86",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2976,
        80
      ],
      "parameters": {
        "color": 4,
        "width": 576,
        "height": 304,
        "content": "# Phase 4: Lead Generation and Assignment"
      },
      "typeVersion": 1
    },
    {
      "id": "46c36a31-f9f0-46a6-ab7f-485933f64b4f",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        80,
        432
      ],
      "parameters": {
        "color": 5,
        "width": 656,
        "height": 496,
        "content": "### What you do:\n\nSubmit a contact form on the website with your business information including first name, last name, company, professional email, phone number, website URL, and message.\n\n### What the system does:\n\nCaptures form submission automatically via Webflow trigger when you submit the contact form\nExtracts and structures all form fields (first name, last name, company, professional email, phone, website URL, message) into clean data variables\nFormats phone numbers intelligently by detecting country codes and adding appropriate international prefixes (+33 for France, +32 for Belgium, etc.) using advanced pattern recognition\nHandles multiple country formats including France, neighboring European countries, North African francophone countries, and major international markets\n\n### Result:\n\n✅ Contact form data automatically captured and structured\n✅ Phone numbers standardized with proper international formatting\n✅ Data prepared for CRM integration without manual intervention\n✅ Multi-country phone number support ensures global compatibility"
      },
      "typeVersion": 1
    },
    {
      "id": "ce9eed3e-4a5b-4df1-af7f-a5a27dd9ee68",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        848,
        80
      ],
      "parameters": {
        "width": 848,
        "height": 320,
        "content": "# Phase 2: Organization Management"
      },
      "typeVersion": 1
    },
    {
      "id": "3f1833cf-76c3-4510-b1e0-6bfa1519fa3a",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        848,
        448
      ],
      "parameters": {
        "width": 848,
        "height": 304,
        "content": "### What the system does:\n\nSearches Pipedrive CRM for existing organizations using the company name from your form submission\nChecks if organization exists by performing an exact match search in the database\nCreates new organization in Pipedrive if no match is found, or retrieves existing organization if already present\nAggregates organization data to ensure consistent information flow to the next phase\n\n### Result:\n\n✅ Eliminates duplicate organizations in your CRM\n✅ Automatically maintains clean company database\n✅ Ensures every contact is properly linked to their organization\n✅ Reduces manual data entry and cleanup work\n"
      },
      "typeVersion": 1
    },
    {
      "id": "9f9cf2e8-942e-48eb-9912-d58fda5841ca",
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1792,
        448
      ],
      "parameters": {
        "color": 3,
        "width": 1088,
        "height": 320,
        "content": "### What the system does:\n\nSearches for existing person in Pipedrive using the full name (first name + last name) from the form\nDetermines if contact exists by performing exact match verification\nUpdates existing contact with new email and formatted phone number if person is found\nCreates new contact with complete information (name, email, phone, company association, owner assignment) if person doesn't exist\nAggregates person data to prepare for lead creation process\n\n### Result:\n\n✅ Maintains up-to-date contact information automatically\n✅ Prevents duplicate contacts in your CRM system\n✅ Ensures all contacts are properly linked to their organizations\n✅ Assigns contacts to the appropriate sales team member\n"
      },
      "typeVersion": 1
    },
    {
      "id": "a3dfc1ab-fad6-4278-be22-a111dee1465d",
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2976,
        448
      ],
      "parameters": {
        "color": 4,
        "width": 576,
        "height": 336,
        "content": "### What the system does:\n\nCreates a qualified lead in Pipedrive with a simplified title format \"Website - [Company Name] [Contact Name]\"\nAssociates lead with the contact person and their organization automatically\nLinks organizational data to provide complete lead context without additional labeling or ownership assignment\n\n### Result:\n\n✅ Qualified leads automatically generated from website forms\n✅ Clean lead titles with clear website source identification\n✅ Complete lead context with contact and company information\n✅ Streamlined lead creation without complex tagging or assignment rules\n✅ Ready for manual review and assignment by sales teamRéessayer"
      },
      "typeVersion": 1
    },
    {
      "id": "3af66fdd-620e-4bd6-91fd-0805038f668d",
      "name": "Sticky Note13",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1328,
        -448
      ],
      "parameters": {
        "width": 816,
        "height": 336,
        "content": "## Need more advanced automation solutions? Contact us for custom enterprise workflows!\n\n# Growth-AI.fr\n\n## https://www.linkedin.com/in/allanvaccarizi/\n## https://www.linkedin.com/in/hugo-marinier-%F0%9F%A7%B2-6537b633/"
      },
      "typeVersion": 1
    }
  ],
  "pinData": {
    "Form Trigger": [
      {
        "payload": {
          "id": "68cac21e6d94e82e588fd174",
          "data": {
            "Nom": "DONAYAN",
            "Message": "Bonjour,\nNous cherchons à minimiser le temps de développement d'interfaces entre un logiciel financier développé maison en .net, c#, angular base de données Oracle et l'ERP comptable XRP Ultimate de CEGID en bases de données Oracle également.\nPouvons nous être accompagnés pour gagner du temps ?\nMerci\nCordialement\nSerge DONAYAN\nDSI de l'OPAC de l'Oise",
            "Prénom": "Serge",
            "Entreprise": "OPAC de l'Oise",
            "Téléphone pro": "0612338479",
            "Mail professionnel": "sdonayan@opacoise.fr",
            "URL du site internet": "www.opacoise.fr"
          },
          "name": "Formulaire de contact",
          "formId": "688b54011dc104dda0fd6c2e",
          "pageId": "6825df5c20329ba581df4a27",
          "schema": [],
          "siteId": "6825df5b20329ba581df4914",
          "submittedAt": "2025-09-17T14:13:49.255Z",
          "formElementId": "2ae14dd8-eaf6-16be-e556-3949bccd583a",
          "publishedPath": "/"
        },
        "triggerType": "form_submission"
      }
    ]
  },
  "connections": {
    "Form Trigger": {
      "main": [
        [
          {
            "node": "Data refinement",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create a lead": {
      "main": [
        []
      ]
    },
    "Search Person": {
      "main": [
        [
          {
            "node": "If Person exists",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Indicatif site": {
      "main": [
        [
          {
            "node": "Search an organization",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create a person": {
      "main": [
        [
          {
            "node": "Aggregate Person",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Data refinement": {
      "main": [
        [
          {
            "node": "Indicatif site",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update a person": {
      "main": [
        [
          {
            "node": "Aggregate Person",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Aggregate Person": {
      "main": [
        [
          {
            "node": "Create a lead",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If Person exists": {
      "main": [
        [
          {
            "node": "Update a person",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Create a person",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create Organization": {
      "main": [
        [
          {
            "node": "Aggregate Organisation",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Aggregate Organisation": {
      "main": [
        [
          {
            "node": "Search Person",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If Organization exists": {
      "main": [
        [
          {
            "node": "Aggregate Organisation",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Create Organization",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Search an organization": {
      "main": [
        [
          {
            "node": "If Organization exists",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}