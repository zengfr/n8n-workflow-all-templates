{
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "AI Multi-Source Agent with GPT-4, Perplexity Search, Supabase and Google Sheets",
    "wechat": "youandme10086",
    "id": 7309,
    "update_time": "2025-11-10"
  },
  "nodes": [
    {
      "id": "a6b69852-3d04-4885-9f6e-3b44eec58528",
      "name": "Embeddings OpenAI",
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "position": [
        1200,
        32
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "29009aa2-f21f-4041-9cdb-1d6f930467fd",
      "name": "Reranker Cohere",
      "type": "@n8n/n8n-nodes-langchain.rerankerCohere",
      "position": [
        1408,
        32
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "c9b16787-76e1-49b7-806d-0db77f04047c",
      "name": "Knowledge MCP",
      "type": "@n8n/n8n-nodes-langchain.mcpTrigger",
      "position": [
        800,
        -624
      ],
      "webhookId": "5b72ab89-a90f-49db-a7c1-3c80da66c9e7",
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "e5748362-069e-4be1-a8f1-a1f7ea80d055",
      "name": "Tabular data",
      "type": "n8n-nodes-base.googleSheetsTool",
      "position": [
        928,
        -240
      ],
      "parameters": {},
      "typeVersion": 4.6
    },
    {
      "id": "303c57ef-2cd6-4453-b700-d5c4d8799e7d",
      "name": "Real time web search",
      "type": "n8n-nodes-base.perplexityTool",
      "position": [
        480,
        -272
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "584bd8fd-89c3-4fcc-ac9e-7389bbe8aab3",
      "name": "Vectorized personal data",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "position": [
        1248,
        -224
      ],
      "parameters": {},
      "typeVersion": 1.3
    },
    {
      "id": "6412b54e-9e25-42b7-bb66-4bfb55fdaf6a",
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        -64,
        -576
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "acc78170-a2ff-4383-942b-a9dc7b222c8c",
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "position": [
        -336,
        -576
      ],
      "webhookId": "ea8bce3e-2a29-44b9-9bbf-6a9d828d1285",
      "parameters": {},
      "typeVersion": 1.3
    },
    {
      "id": "c16d7852-b656-4983-8a97-39454be0f6e4",
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        -368,
        -352
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "879f382c-c28a-409b-b968-7504c574245b",
      "name": "Postgres Chat Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "position": [
        -224,
        -352
      ],
      "parameters": {},
      "typeVersion": 1.3
    },
    {
      "id": "bc676a80-94e2-46c8-95b2-9496dac1c36a",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        464,
        -640
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "e0d1d807-2cf0-4492-9267-5dbaf794cfea",
      "name": "MCP Client knowledge",
      "type": "@n8n/n8n-nodes-langchain.mcpClientTool",
      "position": [
        480,
        -464
      ],
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "8e16d4ae-1fff-4399-8dfa-ca8940994729",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1424,
        -640
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "cf770569-b3b8-465e-8840-b8e7c49b6737",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -160,
        -672
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "Tabular data": {
      "ai_tool": [
        [
          {
            "node": "Knowledge MCP",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Reranker Cohere": {
      "ai_reranker": [
        [
          {
            "node": "Vectorized personal data",
            "type": "ai_reranker",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI": {
      "ai_embedding": [
        [
          {
            "node": "Vectorized personal data",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "MCP Client knowledge": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Postgres Chat Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Real time web search": {
      "ai_tool": [
        [
          {
            "node": "Knowledge MCP",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Vectorized personal data": {
      "ai_tool": [
        [
          {
            "node": "Knowledge MCP",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}