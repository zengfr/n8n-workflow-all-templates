{
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Chat with Documents via RAG: Google Drive to GPT-5 with Supabase Vector Database",
    "wechat": "youandme10086",
    "id": 7308,
    "update_time": "2025-11-10"
  },
  "nodes": [
    {
      "id": "dfe1ae3f-fd2c-4cec-a81e-82e7de790096",
      "name": "Download File4",
      "type": "n8n-nodes-base.googleDrive",
      "position": [
        -592,
        240
      ],
      "parameters": {},
      "executeOnce": true,
      "typeVersion": 3
    },
    {
      "id": "b85b554c-ae75-4f11-a638-7398215d14bf",
      "name": "Split Out1",
      "type": "n8n-nodes-base.splitOut",
      "position": [
        -256,
        240
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "6ae0af49-4d04-4415-ac85-4eeee3dbb7f9",
      "name": "Default Data Loader4",
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "position": [
        0,
        480
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "3a904246-7878-436f-a12d-d5a164f1d33b",
      "name": "Embeddings OpenAI8",
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "position": [
        -176,
        400
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "c3feb2c0-e711-4f21-99ff-3fc5b1593a73",
      "name": "Character Text Splitter4",
      "type": "@n8n/n8n-nodes-langchain.textSplitterCharacterTextSplitter",
      "position": [
        64,
        752
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "dc9e6f60-3996-4098-b227-f83a8a9e16c6",
      "name": "Insert into Supabase Vectorstore3",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "position": [
        -48,
        240
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "63f2dbfe-15f1-427d-84ca-ae25a734bc31",
      "name": "Create file",
      "type": "n8n-nodes-base.googleDriveTrigger",
      "position": [
        -752,
        240
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "f5642a04-3818-4f9c-89e8-d27e8586d4ee",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -784,
        160
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "bc75067f-e18d-4b22-8b27-57caff76c9f2",
      "name": "OCR",
      "type": "n8n-nodes-base.mistralAi",
      "position": [
        -432,
        240
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "ad37191b-2847-4416-9c44-e80045ab67c9",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -496,
        176
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "ecdf1a61-cbd4-4d95-86c7-3178d9e9ebb6",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -96,
        128
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "27b562c8-1708-4177-bc8d-0132c1bab584",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -96,
        672
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "2a433682-be25-4f10-b38b-e56cbe6934f4",
      "name": "Supabase Vector Store",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "position": [
        -160,
        -240
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "7148a746-a723-468f-86df-4aa42fda3e06",
      "name": "Embeddings OpenAI6",
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "position": [
        -112,
        -80
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "8b9790ea-f753-4586-b1e1-6df39bb955bd",
      "name": "Chat Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "position": [
        -544,
        -192
      ],
      "parameters": {},
      "notesInFlow": false,
      "typeVersion": 1
    },
    {
      "id": "17e8e483-d9c0-49b7-98f9-7b615820452c",
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "position": [
        -1216,
        -224
      ],
      "webhookId": "dcbda26a-6bb2-4b80-8fcc-09660c04ddee",
      "parameters": {},
      "typeVersion": 1.3
    },
    {
      "id": "90f9af99-eb0c-4921-b8dd-db0238d659b8",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -800,
        -288
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "376403c7-50c6-41b8-a487-4f5a6af44af4",
      "name": "GPT 5",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        -736,
        -192
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "578aec7d-fa0a-4996-a300-9339b49805e0",
      "name": "RAG Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        -448,
        -528
      ],
      "parameters": {},
      "typeVersion": 1.6
    },
    {
      "id": "614d9174-a893-464c-ae0c-28b54bb0564d",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2496,
        -1040
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "1cd60b8b-b70d-4ba5-b59c-415a781604d5",
      "name": "Slack Trigger",
      "type": "n8n-nodes-base.slackTrigger",
      "position": [
        -1552,
        -512
      ],
      "webhookId": "74ec72e0-6007-4f91-9767-245bd2822825",
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "559fcf34-5d23-4298-991f-9ec189e9bb1a",
      "name": "Telegram Trigger",
      "type": "n8n-nodes-base.telegramTrigger",
      "position": [
        -1536,
        -864
      ],
      "webhookId": "d68442bd-ea54-4190-ad36-1b413aa6efb9",
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "92f872f7-787a-49a9-a8e8-08713ecf78ab",
      "name": "Gmail Trigger",
      "type": "n8n-nodes-base.gmailTrigger",
      "position": [
        -1536,
        -704
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "dfca2c74-9f66-4fb6-a3c4-922dae558452",
      "name": "WhatsApp Trigger",
      "type": "n8n-nodes-base.whatsAppTrigger",
      "disabled": true,
      "position": [
        -1552,
        -320
      ],
      "webhookId": "e744ea57-9ad4-40bb-b468-bf51d8295373",
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "21e7f363-afcd-4dd0-961d-dc5f9df1f06a",
      "name": "Edit Fields",
      "type": "n8n-nodes-base.set",
      "position": [
        -848,
        -528
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "9ac97ba9-4982-49d4-a10c-d7b60bdfa1a1",
      "name": "Send a text message",
      "type": "n8n-nodes-base.telegram",
      "position": [
        272,
        -784
      ],
      "webhookId": "be0f5e9f-0231-43f3-8ee7-cc02ab9ac01f",
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "9ff5abc5-e467-4acb-9554-a6661fb6597a",
      "name": "Send message",
      "type": "n8n-nodes-base.whatsApp",
      "disabled": true,
      "position": [
        272,
        -624
      ],
      "webhookId": "21ce03e2-b672-49f5-8e5e-f187a644523e",
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "b9e9b89c-3849-4d35-9f72-e3a94e179926",
      "name": "Send a message",
      "type": "n8n-nodes-base.slack",
      "position": [
        272,
        -448
      ],
      "webhookId": "1eeadb85-d39f-4373-be60-f2ba89fee6e3",
      "parameters": {},
      "typeVersion": 2.3
    },
    {
      "id": "748940f6-f906-4d83-8144-43fc809b802a",
      "name": "Send a message1",
      "type": "n8n-nodes-base.gmail",
      "position": [
        272,
        -272
      ],
      "webhookId": "39551306-44d1-45a0-947c-8ed49c46edce",
      "parameters": {},
      "typeVersion": 2.1
    },
    {
      "id": "8ae36f9b-ed19-4de1-a9af-961d1391373a",
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1632,
        -1040
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "OCR": {
      "main": [
        [
          {
            "node": "Split Out1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "GPT 5": {
      "ai_languageModel": [
        [
          {
            "node": "RAG Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "RAG Agent": {
      "main": [
        [
          {
            "node": "Send a text message",
            "type": "main",
            "index": 0
          },
          {
            "node": "Send message",
            "type": "main",
            "index": 0
          },
          {
            "node": "Send a message",
            "type": "main",
            "index": 0
          },
          {
            "node": "Send a message1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out1": {
      "main": [
        [
          {
            "node": "Insert into Supabase Vectorstore3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Chat Memory": {
      "ai_memory": [
        [
          {
            "node": "RAG Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Create file": {
      "main": [
        [
          {
            "node": "Download File4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "RAG Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gmail Trigger": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Slack Trigger": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download File4": {
      "main": [
        [
          {
            "node": "OCR",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Telegram Trigger": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "WhatsApp Trigger": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI6": {
      "ai_embedding": [
        [
          {
            "node": "Supabase Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI8": {
      "ai_embedding": [
        [
          {
            "node": "Insert into Supabase Vectorstore3",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Default Data Loader4": {
      "ai_document": [
        [
          {
            "node": "Insert into Supabase Vectorstore3",
            "type": "ai_document",
            "index": 0
          }
        ]
      ]
    },
    "Supabase Vector Store": {
      "ai_tool": [
        [
          {
            "node": "RAG Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Character Text Splitter4": {
      "ai_textSplitter": [
        [
          {
            "node": "Default Data Loader4",
            "type": "ai_textSplitter",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "RAG Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}