{
  "id": "1PsfrGmuCPYsCgOZ",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Digitize Business Cards to Notion Database with Gemini Vision OCR",
    "wechat": "youandme10086",
    "id": 9180,
    "update_time": "2025-11-10"
  },
  "name": "üìá Business Card OCR ‚Üí Notion Database",
  "tags": [],
  "nodes": [
    {
      "id": "e33714b7-d749-4238-9d3c-e2d353639e8f",
      "name": "On form submission",
      "type": "n8n-nodes-base.formTrigger",
      "position": [
        -112,
        0
      ],
      "webhookId": "645161c2-36ca-4ed0-ac19-5e7a01080d5a",
      "parameters": {
        "options": {},
        "formTitle": "business_card",
        "formFields": {
          "values": [
            {
              "fieldType": "file",
              "fieldLabel": "business_card",
              "multipleFiles": false,
              "requiredField": true,
              "acceptFileTypes": ".jpg,.png,.jpeg"
            },
            {
              "fieldLabel": "category",
              "requiredField": true
            }
          ]
        }
      },
      "typeVersion": 2.3
    },
    {
      "id": "def20233-fd45-4cdb-b3d9-2aa08888da99",
      "name": "Analyze image",
      "type": "@n8n/n8n-nodes-langchain.googleGemini",
      "position": [
        144,
        0
      ],
      "parameters": {
        "text": "{\n  \"Name\": \"Jung Hyun Park\",\n  \"Position\": \"Head of Development\",\n  \"Phone\": \"021231234\",\n  \"Mobile\": \"0101231234\",\n  \"Email\": \"abc@dc.com\",\n  \"Company\": \"TOV\",\n  \"Address\": \"6F, Donga Building, 212, Yeoksam-ro, Gangnam-gu, Seoul\",\n  \"Website\": \"www.tov.com\"\n}\n",
        "modelId": {
          "__rl": true,
          "mode": "list",
          "value": "models/gemini-1.5-flash-latest",
          "cachedResultName": "models/gemini-1.5-flash-latest"
        },
        "options": {},
        "resource": "image",
        "inputType": "binary",
        "operation": "analyze",
        "binaryPropertyName": "business_card"
      },
      "credentials": {
        "googlePalmApi": {
          "id": "YfjQgEcfOXsFFdWy",
          "name": "Google Gemini(PaLM) Api account_BIZ_DOWON"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "afb9f7bc-2a41-4e89-bac8-7cd69068be5c",
      "name": "Create a database page",
      "type": "n8n-nodes-base.notion",
      "position": [
        560,
        0
      ],
      "parameters": {
        "title": "={{ $json.Name }}",
        "options": {},
        "resource": "databasePage",
        "databaseId": {
          "__rl": true,
          "mode": "list",
          "value": "27763dbe-4d07-80e1-8056-ef87cb74ded0",
          "cachedResultUrl": "https://www.notion.so/27763dbe4d0780e18056ef87cb74ded0",
          "cachedResultName": "Í≥†Í∞ù Î™ÖÌï® Í∏∞Î°ù"
        },
        "propertiesUi": {
          "propertyValues": [
            {
              "key": "Ïó∞ÎùΩÏ≤ò|phone_number",
              "phoneValue": "={{ $json.Phone }}"
            },
            {
              "key": "Ïù¥Î¶Ñ|title",
              "title": "={{ $json.Name }}"
            },
            {
              "key": "Ïù¥Î©îÏùº|email",
              "emailValue": "={{ $json.Email }}"
            },
            {
              "key": "Ï£ºÏÜå|rich_text",
              "textContent": "={{ $json.Address }}"
            },
            {
              "key": "ÌöåÏÇ¨Î™Ö|rich_text",
              "textContent": "={{ $json.Company }}"
            },
            {
              "key": "Ìú¥ÎåÄÌè∞|phone_number",
              "phoneValue": "={{ $json.Mobile }}"
            },
            {
              "key": "ÌôàÌéòÏù¥ÏßÄ|rich_text",
              "textContent": "={{ $json.Website }}"
            }
          ]
        }
      },
      "credentials": {
        "notionApi": {
          "id": "OuhKfENfuiRfxMpw",
          "name": "Notion account"
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "11fceae0-cfb6-4632-8f0f-f4268473a9ab",
      "name": "Parse to Json",
      "type": "n8n-nodes-base.code",
      "position": [
        352,
        0
      ],
      "parameters": {
        "jsCode": "const rawText = $input.first().json.content.parts[0].text\n\nconst result = safeJsonToObject(rawText)\n\n\nreturn [result];\n\nfunction safeJsonToObject(jsonString) {\n  \n  const trimmed = jsonString.trim();\n\n  \n  const cleaned = trimmed\n    .replace(/^```json\\s*/i, '') \n    .replace(/```$/i, '');       \n\n  \n  try {\n    return JSON.parse(cleaned);\n  } catch (err) {\n    \n    return null; \n  }\n}"
      },
      "typeVersion": 2
    },
    {
      "id": "e254add7-e9e9-4c24-a3d6-c8ad29ad8925",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -976,
        -160
      ],
      "parameters": {
        "width": 800,
        "height": 592,
        "content": "# üìá Business Card OCR ‚Üí Notion Database\n\nThis workflow automates the process of extracting key information from a **business card image** and storing it into a **Notion database**.\n\n### ‚öôÔ∏è Workflow Steps\n1. **Form Submission**: Upload a business card image (`.jpg`, `.png`, `.jpeg`) and select a category.  \n2. **Gemini Vision Analysis**: The uploaded image is processed by Google Gemini to extract text information (Name, Position, Phone, Email, etc.).  \n3. **Parse JSON**: Extracted text is cleaned and parsed into structured JSON.  \n4. **Save to Notion**: The parsed contact details are stored in your Notion database (`Customer Business Cards`).\n\n### üìå Example Extracted Data\n```json\n{\n  \"Name\": \"Jin Park\",\n  \"Position\": \"Head of Development\",\n  \"Phone\": \"021231234\",\n  \"Mobile\": \"0101231234\",\n  \"Email\": \"abc@dc.com\",\n  \"Company\": \"\",\n  \"Address\": \"6F, Donga Building, 212, Yeoksam-ro, Gangnam-gu, Seoul\",\n  \"Website\": \"www.tov.com\"\n}\n"
      },
      "typeVersion": 1
    }
  ],
  "active": true,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "1301ad51-63e9-4fef-b1a6-3135d2374508",
  "connections": {
    "Analyze image": {
      "main": [
        [
          {
            "node": "Parse to Json",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse to Json": {
      "main": [
        [
          {
            "node": "Create a database page",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "On form submission": {
      "main": [
        [
          {
            "node": "Analyze image",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}