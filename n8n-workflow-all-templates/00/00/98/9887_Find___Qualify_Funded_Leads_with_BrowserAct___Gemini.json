{
  "id": "fYXLwI3aVDFdE0wC",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Find & Qualify Funded Leads with BrowserAct & Gemini",
    "wechat": "youandme10086",
    "id": 9887,
    "update_time": "2025-11-10"
  },
  "name": "Find & Qualify Funded Leads with BrowserAct & Gemini",
  "tags": [],
  "nodes": [
    {
      "id": "bb4a70a6-7f90-4bc5-9987-cb61ce23eeb4",
      "name": "When clicking ‚ÄòExecute workflow‚Äô",
      "type": "n8n-nodes-base.manualTrigger",
      "position": [
        -1216,
        -160
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "7f473184-db91-4a3d-b95a-a8a7f5709464",
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        16,
        -192
      ],
      "parameters": {
        "text": "=inside the \n{{ $json.output.string }}\nyou can find list of map each map contains \n{\n\"Url\" : \"<String>\",\n\"Article\" : \"<String>\",\n}\n\nfrom the \"Article\" 'Key',\nAnalyze the 'value' text. The goal is to identify the companies that has just announced a new round of funding. return list of maps add the company name as \"Company\" and the obeject or field they funding on as \"InvestedOn\" and url as \"Url\" for each map, nothing else. If no company is found, return {\n\"Url\" : \"No Company\",\n\"InvestedOn\" : \"No Company\",\n\"Article\" : \"No Company\",\n}.",
        "options": {},
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 2.2
    },
    {
      "id": "9b74c5e1-a08f-460d-9b10-ab16f3249e97",
      "name": "Code in JavaScript",
      "type": "n8n-nodes-base.code",
      "position": [
        416,
        -176
      ],
      "parameters": {
        "jsCode": "// Get the original list from the 'Request' key in the incoming data.\nconst originalList = $input.first().json.output\n\n// Create a new array to store the formatted output.\nconst outputItems = [];\n\n// Loop through each item in the original list.\nfor (const item of originalList) {\n  // For each item, create a new object in the desired format.\n  outputItems.push({\n    json: {\n      \"text\": item\n    }\n  });\n}\n\n// Return the new list of formatted objects.\nreturn outputItems;"
      },
      "typeVersion": 2
    },
    {
      "id": "73a62b5c-a427-49de-845f-e47caaf209fc",
      "name": "Append or update row in sheet",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        864,
        -160
      ],
      "parameters": {
        "columns": {
          "value": {
            "Url": "={{ $json.text.Url }}",
            "Company": "={{ $json.text.Company }}",
            "InvestedOn": "={{ $json.text.InvestedOn }}"
          },
          "schema": [
            {
              "id": "Company",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Company",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "InvestedOn",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "InvestedOn",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Url",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "Company"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "appendOrUpdate",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": "gid=0",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/18sw7io0yJOTDzvcknGmjBBqtK154CLk3k0FoWJZbfI0/edit#gid=0",
          "cachedResultName": "Funding Announcement to Lead List (TechCrunch)"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "18sw7io0yJOTDzvcknGmjBBqtK154CLk3k0FoWJZbfI0",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/18sw7io0yJOTDzvcknGmjBBqtK154CLk3k0FoWJZbfI0/edit?usp=drivesdk",
          "cachedResultName": "Test For BrowserAct"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "wAMAqU43zjVjlpuA",
          "name": "Google Sheets account"
        }
      },
      "typeVersion": 4.7
    },
    {
      "id": "e5d22fa9-4427-4fe4-be39-332a4dfb6a65",
      "name": "Structured Output",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        160,
        -16
      ],
      "parameters": {
        "jsonSchemaExample": "[\n{\n\"Company\" : \"<String>\",\n\"InvestedOn\" : \"<String>\",\n\"Url\" : \"<String>\"\n}\n]"
      },
      "typeVersion": 1.3
    },
    {
      "id": "38d75f68-ff2c-4a7e-b303-82fc9bf72c96",
      "name": "If",
      "type": "n8n-nodes-base.if",
      "position": [
        608,
        -176
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "or",
          "conditions": [
            {
              "id": "8ed8fa5e-b99d-413b-8ebf-9e6889dff048",
              "operator": {
                "name": "filter.operator.equals",
                "type": "string",
                "operation": "equals"
              },
              "leftValue": "={{ $json.text.Company }}",
              "rightValue": "No Company"
            },
            {
              "id": "9f2b2289-a395-4b37-acab-0de3e5d69dc9",
              "operator": {
                "name": "filter.operator.equals",
                "type": "string",
                "operation": "equals"
              },
              "leftValue": "={{ $json.text.Url }}",
              "rightValue": "No Company"
            },
            {
              "id": "144bcc7a-0c4b-43f5-a08a-1758208ff915",
              "operator": {
                "name": "filter.operator.equals",
                "type": "string",
                "operation": "equals"
              },
              "leftValue": "={{ $json.text.InvestedOn }}",
              "rightValue": "No Company"
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "22543947-09a6-4368-860a-3775743e3445",
      "name": "Sticky Note - Intro",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -752,
        112
      ],
      "parameters": {
        "width": 592,
        "height": 434,
        "content": "## Try It Out!\n### This n8n template helps you find new investment leads by automatically scraping and analyzing articles for funding announcements using an AI Agent.\n\n### How it works\n* The workflow is triggered **manually**. You can replace the trigger with a **Cron** node to run it on a schedule.\n* A **Google Sheet** Node gathers Input Parameters.\n* A **BrowserAct** node starts a web scraping task to collect articles.\n* A second **BrowserAct** node patiently monitors the scraping job until it's finished.\n* An **AI Agent** node, powered by **Google Gemini**, processes the articles to identify companies that recently received funding, extracting key details.\n* A **Code** node transforms the AI's output into a clean, itemized format for the next steps.\n* An **If** node filters out any entries where no company was found.\n* Finally, the qualified leads are automatically added to a **Google Sheet**.\n\n### Requirements\n* **BrowserAct** API account for web scraping.\n* **BrowserAct** **Funding Announcement to Lead List (TechCrunch)** Template.\n* **Google Gemini** account for the AI Agent.\n* **Google Sheets** credentials for saving the leads.\n\n### Need Help?\nJoin the [Discord](https://discord.com/invite/UpnCKd7GaU) or Visit Our [Blog](https://www.browseract.com/blog)!\n"
      },
      "typeVersion": 1
    },
    {
      "id": "87bc8c36-7466-48a2-b8b6-a33bc4e031c6",
      "name": "Sticky Note - How to Use",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -144,
        112
      ],
      "parameters": {
        "width": 496,
        "height": 216,
        "content": "## How to use\n1.  **Set up Credentials:** Add your credentials for **BrowserAct**, **Google Gemini**, and **Google Sheets** to the workflow. They will be used by the relevant nodes.\n2.  **Set up BrowserAct:** In your **BrowserAct** account, make sure you have a scraping workflow ready to use.\n3.  **Add WorkFlow Name:** Change the **workflow_Name** value inside the **Run a workflow task** node to match your BrowserAct workflow.\n4.  **Add WorkFlow Input:** Add input parameters if needed.\n5.  **Activate Workflow:** To enable the automated schedule (if you add a Cron node), simply activate the workflow. You can also manually trigger it by clicking the 'Execute Workflow' button to test it."
      },
      "typeVersion": 1
    },
    {
      "id": "f75b58a0-ba8c-46bf-9d61-f90cbf9024e6",
      "name": "Sticky Note - Need Help",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -144,
        336
      ],
      "parameters": {
        "width": 496,
        "height": 200,
        "content": "## Need Help ?\n* [How to Find Your BrowseAct API Key & Workflow ID](https://www.youtube.com/watch?v=pDjoZWEsZlE)\n\n* [How to Connect n8n to Browseract](https://www.youtube.com/watch?v=RoYMdJaRdcQ)\n\n* [How to Use & Customize BrowserAct Templates](https://www.youtube.com/watch?v=CPZHFUASncY)\n\n* [How to Use the BrowserAct N8N Community Node](https://youtu.be/j0Nlba2pRLU)\n\n* [How to Automatically Find Leads from Funding News (n8n Workflow Tutorial)](https://youtu.be/zMO_1EC1RVM)\n"
      },
      "typeVersion": 1
    },
    {
      "id": "024ba7a1-8ff1-4815-b4c5-65fb8f0245f3",
      "name": "Sticky Note - Output Stage",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        784,
        -400
      ],
      "parameters": {
        "color": 3,
        "width": 448,
        "height": 176,
        "content": "### üíæ 4. Save to Google Sheets & Send Notification\n\nThis is your final output stage.\n\nit updates google sheet then send alert to lack channel\n\n**üí° Tip:** The `appendOrUpdate` operation is a great choice! By matching on the 'Company' column, you automatically prevent duplicate entries."
      },
      "typeVersion": 1
    },
    {
      "id": "05473d4d-938c-4e27-b615-35b7202f4f66",
      "name": "Sticky Note - Processing Stage",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        368,
        -400
      ],
      "parameters": {
        "color": 6,
        "width": 400,
        "height": 180,
        "content": "### üßπ 3. Transform & Filter\n\n* **Code Node:** This node is essential for processing lists from an AI. It correctly loops through the AI's output and wraps each item in the structure that n8n's item-based nodes (like Google Sheets) expect.\n\n* **If Node:** This node acts as a guard, ensuring that only valid data (where a company was actually found) proceeds to the final step. Your logic to check for 'No Company' is perfect."
      },
      "typeVersion": 1
    },
    {
      "id": "2df834d8-32e4-46d9-a854-3239df83c9a6",
      "name": "Sticky Note - AI Stage",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -144,
        -400
      ],
      "parameters": {
        "color": 4,
        "width": 496,
        "height": 172,
        "content": "### üß† 2. AI Analysis Core\n\nThis **AI Agent**, powered by **Google Gemini**, is the brain of your operation.\n\n* **Excellent Prompting:** if you change You need to give Clear instruction and also returning a default 'No Company' value for misses is a fantastic way to handle errors gracefully.\n\n* **Structured Output:** Using the `Structured Output Parser` is key. It forces the AI to return clean, predictable JSON, making the rest of the workflow much more reliable."
      },
      "typeVersion": 1
    },
    {
      "id": "79581880-83f3-4686-b327-83ddf5315205",
      "name": "Sticky Note - Scraping Stage",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -752,
        -496
      ],
      "parameters": {
        "color": 5,
        "width": 480,
        "height": 196,
        "content": "### üåê 1. Scrape & Wait\n\nEvery two **BrowserAct** nodes work together to fetch your data.\nit get data for both keyword Series and merge them to Reduce the AI False Positive results.\n\n* **Run a workflow task:** This kicks off your scraping job. Ensure the `workflow Name` is correct.\n* **Get details of a workflow task:** The `waitForFinish` option is enabled, which is a best practice. This pauses the n8n workflow until BrowserAct confirms the job is done, ensuring the AI Agent has data to work with."
      },
      "typeVersion": 1
    },
    {
      "id": "38e99a9b-927f-46b4-8050-3b0e387f59db",
      "name": "Gemini l",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        16,
        -16
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "googlePalmApi": {
          "id": "U1olizkBYhp4g9AB",
          "name": "Google Gemini(PaLM) Api account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "24440061-f540-4e26-af91-a13d950ab1b7",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        784,
        -208
      ],
      "parameters": {
        "color": 3,
        "width": 448,
        "height": 192,
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "2139aa00-a434-4760-807a-00abf300b0f8",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        368,
        -208
      ],
      "parameters": {
        "color": 6,
        "width": 400,
        "height": 192,
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "eb9c03d6-56f5-401a-8408-77712d051f0d",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -752,
        -80
      ],
      "parameters": {
        "color": 5,
        "width": 480,
        "height": 176,
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "bc1c9245-2d9a-4bf8-9973-27207218a744",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -144,
        -208
      ],
      "parameters": {
        "color": 4,
        "width": 496,
        "height": 304,
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "b4c28f6b-c618-4514-80f7-136963f37afa",
      "name": "Send a message",
      "type": "n8n-nodes-base.slack",
      "position": [
        1072,
        -160
      ],
      "webhookId": "3ebad1e3-67ce-4981-9fba-7d5bc60d2ae4",
      "parameters": {
        "text": "The data for the lead announcement has been updated",
        "select": "channel",
        "channelId": {
          "__rl": true,
          "mode": "list",
          "value": "C09KLV9DJSX",
          "cachedResultName": "all-browseract-workflow-test"
        },
        "otherOptions": {},
        "authentication": "oAuth2"
      },
      "credentials": {
        "slackOAuth2Api": {
          "id": "5rQCkyObBqbHIbZA",
          "name": "Slack account"
        }
      },
      "typeVersion": 2.3
    },
    {
      "id": "ff0919c6-2c38-4c11-aba8-4d3afe0e5bf6",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -752,
        -288
      ],
      "parameters": {
        "color": 5,
        "width": 480,
        "height": 192,
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "c289a817-c7e7-4bef-9a6b-20c4854acdd5",
      "name": "Merge",
      "type": "n8n-nodes-base.merge",
      "position": [
        -256,
        -160
      ],
      "parameters": {},
      "typeVersion": 3.2
    },
    {
      "id": "07c0a4e8-0cda-4015-9375-525e5afeed37",
      "name": "Get row(s) in sheet",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -1072,
        -160
      ],
      "parameters": {
        "options": {},
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 1170369249,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/18sw7io0yJOTDzvcknGmjBBqtK154CLk3k0FoWJZbfI0/edit#gid=1170369249",
          "cachedResultName": "Keywords For Funding Announcement to Lead List (TechCrunch) "
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "18sw7io0yJOTDzvcknGmjBBqtK154CLk3k0FoWJZbfI0",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/18sw7io0yJOTDzvcknGmjBBqtK154CLk3k0FoWJZbfI0/edit?usp=drivesdk",
          "cachedResultName": "Test For BrowserAct"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "wAMAqU43zjVjlpuA",
          "name": "Google Sheets account"
        }
      },
      "typeVersion": 4.7
    },
    {
      "id": "135d1765-f6d4-47b5-8904-fe3ee2625ea0",
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        -896,
        -160
      ],
      "parameters": {
        "options": {}
      },
      "typeVersion": 3
    },
    {
      "id": "efef17c0-4be1-4fed-903c-d98784e55b88",
      "name": "Run a workflow Series 2",
      "type": "n8n-nodes-browseract-workflows.browserAct",
      "position": [
        -672,
        -256
      ],
      "parameters": {
        "workflowId": "56655803760865399",
        "inputParameters": {
          "parameters": [
            {
              "name": "KeyWord",
              "value": "={{ $json[\"keyword Series B\"] }}"
            },
            {
              "name": "Location",
              "value": "={{ $json.Geo }}"
            }
          ]
        },
        "additionalFields": {
          "saveBrowserData": false
        }
      },
      "credentials": {
        "browserActApi": {
          "id": "AzKMhR2eAlOjzDiJ",
          "name": "BrowserAct account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "fbc96d3b-e6e3-4c78-aaee-954c50f59c6d",
      "name": "Run a workflow Series 1",
      "type": "n8n-nodes-browseract-workflows.browserAct",
      "position": [
        -672,
        -64
      ],
      "parameters": {
        "workflowId": "56655803760865399",
        "inputParameters": {
          "parameters": [
            {
              "name": "KeyWord",
              "value": "={{ $json[\"keyword Series A\"] }}"
            },
            {
              "name": "Location",
              "value": "={{ $json.Geo }}"
            }
          ]
        },
        "additionalFields": {
          "saveBrowserData": false
        }
      },
      "credentials": {
        "browserActApi": {
          "id": "AzKMhR2eAlOjzDiJ",
          "name": "BrowserAct account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "acb20c51-7d76-43af-838b-40dea11c9449",
      "name": "Get workflow Series 2",
      "type": "n8n-nodes-browseract-workflows.browserAct",
      "position": [
        -480,
        -256
      ],
      "parameters": {
        "taskId": "={{ $json.id }}",
        "operation": "getTask",
        "maxWaitTime": 900,
        "waitForFinish": true,
        "pollingInterval": 30
      },
      "credentials": {
        "browserActApi": {
          "id": "AzKMhR2eAlOjzDiJ",
          "name": "BrowserAct account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "6d1c8952-55b2-4e83-bd18-b1f6fc9e1d29",
      "name": "Get workflow Series1",
      "type": "n8n-nodes-browseract-workflows.browserAct",
      "position": [
        -480,
        -64
      ],
      "parameters": {
        "taskId": "={{ $json.id }}",
        "operation": "getTask",
        "maxWaitTime": 900,
        "waitForFinish": true,
        "pollingInterval": 30
      },
      "credentials": {
        "browserActApi": {
          "id": "AzKMhR2eAlOjzDiJ",
          "name": "BrowserAct account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "ae207264-ad23-481a-9012-13962cb28e3a",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1088,
        -288
      ],
      "parameters": {
        "color": 7,
        "width": 320,
        "height": 96,
        "content": "### üëÜüèª 0. Get Input Data\nwe Get input keyword and location for the loop from the list of keywords and geo inside the google sheet."
      },
      "typeVersion": 1
    },
    {
      "id": "e09458f1-4d37-4049-8bec-47003dd7b0be",
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1088,
        -176
      ],
      "parameters": {
        "color": 7,
        "width": 320,
        "height": 208,
        "content": ""
      },
      "typeVersion": 1
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "c70fd885-47d1-4746-9349-ce2bb6386127",
  "connections": {
    "If": {
      "main": [
        [],
        [
          {
            "node": "Append or update row in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gemini l": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Send a message": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [],
        [
          {
            "node": "Run a workflow Series 1",
            "type": "main",
            "index": 0
          },
          {
            "node": "Run a workflow Series 2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output": {
      "ai_outputParser": [
        [
          {
            "node": "AI Agent",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get workflow Series1": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Get workflow Series 2": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Run a workflow Series 1": {
      "main": [
        [
          {
            "node": "Get workflow Series1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Run a workflow Series 2": {
      "main": [
        [
          {
            "node": "Get workflow Series 2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append or update row in sheet": {
      "main": [
        [
          {
            "node": "Send a message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When clicking ‚ÄòExecute workflow‚Äô": {
      "main": [
        [
          {
            "node": "Get row(s) in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}