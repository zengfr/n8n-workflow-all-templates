{
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Download Instagram Videos to Google Drive with Auto-Email Delivery",
    "wechat": "youandme10086",
    "id": 6921,
    "update_time": "2025-11-10"
  },
  "nodes": [
    {
      "id": "adba156d-f31e-482b-87ee-40800c553e21",
      "name": "n8n Form Trigger",
      "type": "n8n-nodes-base.formTrigger",
      "position": [
        1120,
        520
      ],
      "webhookId": "5192b179-44d9-4ca6-9bb7-0111d481ee16",
      "parameters": {
        "options": {},
        "formTitle": "Instagram To Mp4",
        "formFields": {
          "values": [
            {
              "fieldLabel": "url"
            },
            {
              "fieldLabel": "email"
            }
          ]
        },
        "formDescription": "Instagram To Mp4 Downloader"
      },
      "typeVersion": 2.2
    },
    {
      "id": "1db2e5d0-5129-45e7-9a40-3deba9fcaed1",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1040,
        320
      ],
      "parameters": {
        "height": 360,
        "content": "**n8n Form Trigger**  \n   This node captures user input from a web form, specifically the Instagram video URL and the user's email address, to initiate the workflow.\n"
      },
      "typeVersion": 1
    },
    {
      "id": "1375ec94-2db9-408d-a259-3394b40b9dea",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1420,
        320
      ],
      "parameters": {
        "height": 360,
        "content": " **API Request**  \n   It sends the submitted instagram To URL to an rapid API which processes the video and converts it into an MP4 format."
      },
      "typeVersion": 1
    },
    {
      "id": "08f49617-2164-489b-8a0e-9d8e1c8d1dbb",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1760,
        300
      ],
      "parameters": {
        "height": 360,
        "content": "**Check for API Error**  \n   This node validate error false if yes then will continue to next node else it will stop execution."
      },
      "typeVersion": 1
    },
    {
      "id": "edbf05ef-28ce-4d63-80f9-c9553b083a96",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2060,
        300
      ],
      "parameters": {
        "width": 220,
        "height": 360,
        "content": "**Download Instagram Video**  \n   After waiting, this node fetches the resulting MP4 file or its metadata from the API, confirming the file is ready for the next steps."
      },
      "typeVersion": 1
    },
    {
      "id": "80799827-7c68-4956-b764-f7d9eb9b965d",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2320,
        300
      ],
      "parameters": {
        "height": 360,
        "content": " **Upload To Google Drive**  \n   Uploads the retrieved MP4 file to Google Drive, providing cloud storage and easy file management."
      },
      "typeVersion": 1
    },
    {
      "id": "27997f6d-bb16-407e-b8e2-9e7998064684",
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2620,
        300
      ],
      "parameters": {
        "height": 360,
        "content": "**Set permissions Google Drive  (Share)**  \n   Modifies the file‚Äôs permissions in Google Drive to allow anyone with the link to access or download the MP4 file."
      },
      "typeVersion": 1
    },
    {
      "id": "2f01c571-a958-4264-bf38-56f98e76bc02",
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2920,
        300
      ],
      "parameters": {
        "height": 360,
        "content": "**Deliver Download Link to User**  \n   Sends an automated email to the user with the link to download their converted MP4 file, completing the user experience."
      },
      "typeVersion": 1
    },
    {
      "id": "1f550fe8-9302-4b4b-801f-fb7ea316c921",
      "name": "Upload To Google Drive",
      "type": "n8n-nodes-base.googleDrive",
      "position": [
        2360,
        500
      ],
      "parameters": {
        "name": "=",
        "driveId": {
          "__rl": true,
          "mode": "list",
          "value": "My Drive"
        },
        "options": {},
        "folderId": "root",
        "authentication": "serviceAccount"
      },
      "credentials": {
        "googleApi": {
          "id": "qUtlCnYpk7bXXaYp",
          "name": "Google Sheets account 3"
        }
      },
      "typeVersion": 3
    },
    {
      "id": "01c9373c-405e-4184-9118-2d9369297ead",
      "name": "Set permissions Google Drive ",
      "type": "n8n-nodes-base.googleDrive",
      "position": [
        2680,
        500
      ],
      "parameters": {
        "fileId": "={{ $json.resource.id }}",
        "options": {},
        "operation": "share",
        "permissionsUi": {
          "permissionsValues": {
            "role": "reader",
            "type": "anyone"
          }
        },
        "authentication": "serviceAccount"
      },
      "credentials": {
        "googleApi": {
          "id": "qUtlCnYpk7bXXaYp",
          "name": "Google Sheets account 3"
        }
      },
      "typeVersion": 3
    },
    {
      "id": "2b8b6c94-d557-45ad-931f-f9ddd76dd4fa",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        160,
        160
      ],
      "parameters": {
        "width": 620,
        "height": 2100,
        "content": "# üì• Instagram to MP4 ‚Äì Download & Upload to Google Drive with Auto Email\n\n## ‚ú® Description\n\nThis workflow automates converting **Instagram videos to MP4**, storing them in **Google Drive**, and sending the user an email with the download link. Users just need to submit a form with the Instagram video URL and their email address ‚Äî the rest is fully automated.\n\n---\n\n## üß© Workflow Breakdown (Node by Node)\n\n### 1. ## üßæ n8n Form Trigger\n- **Node Name:** `n8n Form Trigger`\n- **Purpose:** Captures user input from a form.\n- **Fields:** \n  - `url` ‚Äì Instagram video URL\n  - `email` ‚Äì Email address to receive the MP4 link\n\n---\n\n### 2. ## üì° Get MP4 Link from RapidAPI\n- **Node Name:** `API Request`\n- **Purpose:** Sends the Instagram video URL to RapidAPI's \"Instagram Video Downloader\" to get an MP4 download link.\n\n---\n\n### 3. ## ‚ö†Ô∏è Check for API Error\n- **Node Name:** `Check for API Error`\n- **Purpose:** Checks if the API response has an error.\n- **Condition:** Continues only if `error === false`.\n\n---\n\n### 4. ## üì• Download Instagram Video\n- **Node Name:** `Download Instagram Video`\n- **Purpose:** Downloads the MP4 video from the link provided by the API.\n- **Headers:** Sets a browser-like `User-Agent` for successful fetch.\n\n---\n\n### 5. ## ‚òÅÔ∏è Upload to Google Drive\n- **Node Name:** `Upload To Google Drive`\n- **Purpose:** Uploads the MP4 file to your Google Drive using a connected Service Account.\n\n---\n\n### 6. ## üîó Set Google Drive Sharing Permissions\n- **Node Name:** `Set permissions Google Drive`\n- **Purpose:** Makes the uploaded MP4 file shareable by anyone with the link.\n\n---\n\n### 7. ## üìß Deliver Download Link to User\n- **Node Name:** `Deliver Download Link to User`\n- **Purpose:** Sends the user an email with the public link to the MP4 video.\n- **To:** `={{ $json.email }}`\n- **Message:** Includes `{{ $json.webViewLink }}` for downloading the file.\n\n---\n\n## ‚úÖ Key Features\n\n- Converts **Instagram videos to MP4** automatically  \n- Uploads files to **Google Drive**  \n- Sends download link via **email**  \n- Simple **form-based user input**\n\n---\n\n## üîê Requirements\n\n- RapidAPI account + API key for Instagram Video Downloader\n- Google Cloud Service Account with Drive API access\n- SMTP or Gmail credentials for email delivery\n- n8n instance (self-hosted or cloud)\n\n"
      },
      "typeVersion": 1
    },
    {
      "id": "cf0d989d-6fd3-4f56-b141-ab9895018d63",
      "name": "API Request",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        1480,
        520
      ],
      "parameters": {
        "url": "https://instagram-video-downloader13.p.rapidapi.com/index.php",
        "method": "POST",
        "options": {},
        "sendBody": true,
        "contentType": "multipart-form-data",
        "sendHeaders": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "url",
              "value": "={{ $json.url }}"
            }
          ]
        },
        "headerParameters": {
          "parameters": [
            {
              "name": "x-rapidapi-host",
              "value": "instagram-video-downloader13.p.rapidapi.com"
            },
            {
              "name": "x-rapidapi-key",
              "value": "YOUR_API_KEY"
            }
          ]
        }
      },
      "typeVersion": 4.2
    },
    {
      "id": "57fe215b-33c8-4a93-81f0-7d761c6c7bb9",
      "name": "Check for API Error",
      "type": "n8n-nodes-base.if",
      "position": [
        1800,
        520
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "71b56363-9bc8-4516-801d-26dea43f61f3",
              "operator": {
                "type": "boolean",
                "operation": "false",
                "singleValue": true
              },
              "leftValue": "={{ $json.error }}",
              "rightValue": ""
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "5058de96-27e8-469c-9e1c-4c8119bd77f1",
      "name": "Download Instagram Video",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        2100,
        500
      ],
      "parameters": {
        "url": "={{ $json.medias[0].url }}",
        "options": {
          "timeout": 10000000,
          "redirect": {
            "redirect": {
              "maxRedirects": 10
            }
          },
          "response": {
            "response": {
              "neverError": true,
              "fullResponse": true
            }
          },
          "lowercaseHeaders": false
        },
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "user-agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64)"
            },
            {
              "name": "accept",
              "value": "*/*"
            }
          ]
        }
      },
      "typeVersion": 4.2
    },
    {
      "id": "9233e6c3-b6ef-44dc-a748-fd14cd1406d9",
      "name": "Deliver Download Link to User",
      "type": "n8n-nodes-base.emailSend",
      "position": [
        2980,
        500
      ],
      "parameters": {
        "text": "Your download link: {{ $json.webViewLink }}",
        "options": {},
        "subject": "üéµ Your Instagram MP4 is ready!",
        "toEmail": "={{ $json.email }}",
        "fromEmail": "your@email.com"
      },
      "credentials": {
        "smtp": {
          "id": "H0f4Gja9ECFRA34L",
          "name": "SMTP account 2"
        }
      },
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "API Request": {
      "main": [
        [
          {
            "node": "Check for API Error",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "n8n Form Trigger": {
      "main": [
        [
          {
            "node": "API Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check for API Error": {
      "main": [
        [
          {
            "node": "Download Instagram Video",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Upload To Google Drive": {
      "main": [
        [
          {
            "node": "Set permissions Google Drive ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download Instagram Video": {
      "main": [
        [
          {
            "node": "Upload To Google Drive",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set permissions Google Drive ": {
      "main": [
        [
          {
            "node": "Deliver Download Link to User",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}