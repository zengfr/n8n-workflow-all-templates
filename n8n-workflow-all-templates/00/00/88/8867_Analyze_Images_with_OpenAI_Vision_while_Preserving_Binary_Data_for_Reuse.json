{
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Analyze Images with OpenAI Vision while Preserving Binary Data for Reuse",
    "wechat": "youandme10086",
    "id": 8867,
    "update_time": "2025-11-10"
  },
  "nodes": [
    {
      "id": "d49cdb6a-5084-4c00-a40f-062c157a9b3d",
      "name": "Form Trigger1",
      "type": "n8n-nodes-base.formTrigger",
      "position": [
        -928,
        10784
      ],
      "webhookId": "d6f874ec-6cb3-46c7-8507-bd647c2484f0",
      "parameters": {
        "path": "d6f874ec-6cb3-46c7-8507-bd647c2484f0",
        "options": {},
        "formTitle": "Image Document Upload",
        "formFields": {
          "values": [
            {
              "fieldType": "file",
              "fieldLabel": "data"
            }
          ]
        },
        "formDescription": "Upload a image document for AI analysis"
      },
      "typeVersion": 2
    },
    {
      "id": "a363370d-851d-4452-ac9a-b0f5d6a7107e",
      "name": "Analyze image",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        -368,
        10576
      ],
      "parameters": {
        "text": "=data",
        "modelId": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o",
          "cachedResultName": "GPT-4O"
        },
        "options": {},
        "resource": "image",
        "inputType": "base64",
        "operation": "analyze"
      },
      "credentials": {
        "openAiApi": {
          "id": "4l6TDfLZVFS24g3X",
          "name": "OpenAi account 4"
        }
      },
      "typeVersion": 1.8
    },
    {
      "id": "a0270371-928d-4084-8c07-6ff8936837c0",
      "name": "Merge1",
      "type": "n8n-nodes-base.merge",
      "position": [
        -160,
        10960
      ],
      "parameters": {
        "mode": "combine",
        "options": {},
        "combineBy": "combineByPosition"
      },
      "typeVersion": 3.2
    },
    {
      "id": "76a6e130-ea39-4b6e-8bbd-200c0a57ed99",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1280,
        10336
      ],
      "parameters": {
        "color": 7,
        "width": 2144,
        "height": 1056,
        "content": "### üñºÔ∏è Use Binary Field after next step\n\nThis workflow demonstrates how to **preserve and reuse an uploaded file (binary/base64)** after a downstream step by using a **Merge** node (`combineByPosition`). A user uploads an image via **Form Trigger** ‚Üí the image is analyzed with **OpenAI Vision** ‚Üí results are **merged back** with the original upload so the next **AI Agent** step can access **both** the original file (`data`) and the first analysis (`content`) at the same time.\n"
      },
      "typeVersion": 1
    },
    {
      "id": "79d53391-5e87-472a-bd08-e5cd7d43a39a",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1728,
        10336
      ],
      "parameters": {
        "width": 400,
        "height": 1056,
        "content": "\n\n## üì¨ Contact  \nNeed help customizing this (e.g., filtering by campaign, sending reports by email, or formatting your PDF)?  \n\n- üìß **rbreen@ynteractive.com**  \n- üîó **https://www.linkedin.com/in/robert-breen-29429625/**  \n- üåê **https://ynteractive.com**\n"
      },
      "typeVersion": 1
    },
    {
      "id": "f77d1571-f807-48f9-a523-582ffb48f2e5",
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        240,
        10880
      ],
      "parameters": {
        "text": "=data\n {{ $json.content }}",
        "options": {
          "systemMessage": "analyze the image again and see if you get the same result. "
        },
        "promptType": "define"
      },
      "typeVersion": 2.2
    },
    {
      "id": "5bbd5de7-cdaf-4a65-92ad-f29830a710b1",
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        208,
        11088
      ],
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "credentials": {
        "openAiApi": {
          "id": "4l6TDfLZVFS24g3X",
          "name": "OpenAi account 4"
        }
      },
      "typeVersion": 1.2
    }
  ],
  "pinData": {},
  "connections": {
    "Merge1": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Analyze image": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Form Trigger1": {
      "main": [
        [
          {
            "node": "Analyze image",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge1",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    }
  }
}