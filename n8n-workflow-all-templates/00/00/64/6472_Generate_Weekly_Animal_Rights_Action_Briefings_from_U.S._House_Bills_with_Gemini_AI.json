{
  "id": "7HFoSOJXuERT2aq8",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Generate Weekly Animal Rights Action Briefings from U.S. House Bills with Gemini AI",
    "wechat": "youandme10086",
    "id": 6472,
    "update_time": "2025-11-10"
  },
  "name": "Generate weekly animal-rights action briefings from U.S. House bills",
  "tags": [],
  "nodes": [
    {
      "id": "b72df47f-b699-4306-815c-ae6b91dbfcff",
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        -1080,
        260
      ],
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "weeks",
              "triggerAtDay": [
                1
              ],
              "triggerAtHour": 8,
              "triggerAtMinute": 1
            }
          ]
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "0b576d38-7e6e-4ed7-a5b8-f4de30e5d1d4",
      "name": "OpenRouter Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "position": [
        -440,
        440
      ],
      "parameters": {
        "model": "google/gemini-2.5-flash",
        "options": {}
      },
      "credentials": {
        "openRouterApi": {
          "id": "QqgKARn52qQiKICN",
          "name": "OpenRouter account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "26950285-21d7-414c-b34f-b6b616e657d7",
      "name": "Get Weekly Bills",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -900,
        260
      ],
      "parameters": {
        "url": "https://docs.house.gov/floor/",
        "options": {}
      },
      "typeVersion": 4.2
    },
    {
      "id": "97c8d5c1-eed1-4476-b9c2-1ee47e7192d0",
      "name": "Clean PDF Links",
      "type": "@n8n/n8n-nodes-langchain.informationExtractor",
      "position": [
        -500,
        260
      ],
      "parameters": {
        "text": "={{ JSON.stringify($json.PDF) }}",
        "options": {
          "systemPromptTemplate": "You are an expert extraction algorithm.\nOnly extract relevant information from the text.\nIf you do not know the value of an attribute asked to extract, you may omit the attribute's value.\n\nDo not include ```json, begin your response with the opening curly bracket, no backticks or code blocks"
        },
        "schemaType": "manual",
        "inputSchema": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"PDF_Link\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"string\",\n        \"format\": \"uri\"\n      }\n    }\n  },\n  \"required\": [\"PDF_Link\"]\n}"
      },
      "typeVersion": 1.2
    },
    {
      "id": "ea410519-8a6b-4ee5-8762-a06a1c350492",
      "name": "Split Out Links",
      "type": "n8n-nodes-base.splitOut",
      "position": [
        -180,
        260
      ],
      "parameters": {
        "options": {},
        "fieldToSplitOut": "output.PDF_Link"
      },
      "typeVersion": 1
    },
    {
      "id": "3612f8ad-9d41-4cee-8838-7a7b897c7ef1",
      "name": "Download PDF",
      "type": "n8n-nodes-base.httpRequest",
      "onError": "continueErrorOutput",
      "position": [
        20,
        260
      ],
      "parameters": {
        "url": "={{ $json['output.PDF_Link'] }}",
        "options": {}
      },
      "typeVersion": 4.2
    },
    {
      "id": "9fe6840c-47ba-4345-86fb-1d9205d9af58",
      "name": "Convert PDF to Base64 String",
      "type": "n8n-nodes-base.extractFromFile",
      "position": [
        240,
        260
      ],
      "parameters": {
        "options": {},
        "operation": "binaryToPropery"
      },
      "typeVersion": 1
    },
    {
      "id": "5b6d7c0f-de88-43a7-b9ec-3c83e8a03ae6",
      "name": "Extract PDF Links",
      "type": "n8n-nodes-base.html",
      "position": [
        -700,
        260
      ],
      "parameters": {
        "options": {},
        "operation": "extractHtmlContent",
        "extractionValues": {
          "values": [
            {
              "key": "PDF",
              "cssSelector": ".files",
              "returnArray": true
            }
          ]
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "0044749d-a0fc-4ba5-8183-b5b7aa048d0f",
      "name": "No Operation, do nothing",
      "type": "n8n-nodes-base.noOp",
      "position": [
        840,
        520
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "ead98680-b763-4451-9c8f-ec30892776ea",
      "name": "Analyze Bill with Gemini",
      "type": "n8n-nodes-base.httpRequest",
      "onError": "continueErrorOutput",
      "position": [
        440,
        260
      ],
      "parameters": {
        "url": "=https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent",
        "method": "POST",
        "options": {
          "batching": {
            "batch": {
              "batchSize": 1,
              "batchInterval": 10000
            }
          }
        },
        "jsonBody": "={\n  \"contents\": [{\n    \"parts\": [\n      {\n        \"text\": \"Read and analyze the legislative bill in the attached PDF strictly from an animal rights and anti-exploitation perspective. Evaluate whether the bill directly or indirectly harms or benefits animals, including wildlife, farmed animals, aquatic animals, or habitats. Treat all forms of animal use, exploitation, or commodification (such as fisheries, hunting, or industrial farming) as harmful to animal welfare, even if presented as sustainable or economically beneficial. Return a JSON object that matches the response_json_schema.\"\n      },\n      {\n        \"inline_data\": {\n          \"mime_type\": \"application/pdf\",\n          \"data\": \"{{ $json.data }}\"\n        }\n      }\n    ]\n  }],\n  \"generationConfig\": {\n    \"response_mime_type\": \"application/json\",\n    \"response_json_schema\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"bill_title\": { \n          \"type\": \"string\", \n          \"description\": \"Title or short identifier of the bill.\" \n        },\n        \"summary\": { \n          \"type\": \"string\", \n          \"description\": \"Plain-language summary of the bill with a critical animal rights analysis, highlighting any harm or benefits to animals or ecosystems.\" \n        },\n        \"animal_welfare_score\": { \n          \"type\": \"number\", \n          \"format\": \"float\", \n          \"minimum\": 0, \n          \"maximum\": 1, \n          \"description\": \"0 = extremely harmful or exploitative toward animals, 1 = strongly protective of animal rights.\" \n        },\n        \"relevance_score\": { \n          \"type\": \"number\", \n          \"format\": \"float\", \n          \"minimum\": 0, \n          \"maximum\": 1, \n          \"description\": \"0 = unrelated to animals, 1 = entirely about animal welfare or exploitation.\" \n        },\n        \"action_priority\": { \n          \"type\": \"number\", \n          \"format\": \"float\", \n          \"minimum\": 0, \n          \"maximum\": 1, \n          \"description\": \"0 = no meaningful action needed, 1 = immediate and critical action required by activists.\" \n        },\n        \"stance\": { \n          \"type\": \"string\", \n          \"enum\": [\"support\", \"oppose\", \"monitor\"], \n          \"description\": \"Recommended stance for animal activists (e.g., oppose if the bill promotes exploitation).\" \n        },\n        \"key_points_for_action\": { \n          \"type\": \"array\", \n          \"items\": { \"type\": \"string\" }, \n          \"description\": \"Main points activists should emphasize in submissions or campaigns, highlighting animal rights concerns.\" \n        }\n      },\n      \"required\": [\n        \"bill_title\",\n        \"summary\",\n        \"animal_welfare_score\",\n        \"relevance_score\",\n        \"action_priority\",\n        \"stance\",\n        \"key_points_for_action\"\n      ],\n      \"propertyOrdering\": [\n        \"bill_title\",\n        \"summary\",\n        \"animal_welfare_score\",\n        \"relevance_score\",\n        \"action_priority\",\n        \"stance\",\n        \"key_points_for_action\"\n      ]\n    }\n  }\n}",
        "sendBody": true,
        "specifyBody": "json",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpQueryAuth"
      },
      "credentials": {
        "httpQueryAuth": {
          "id": "ZWNf5Ktz3ifzH4bv",
          "name": "Query Auth account"
        }
      },
      "retryOnFail": true,
      "typeVersion": 4.2,
      "waitBetweenTries": 5000
    },
    {
      "id": "66277c1e-5101-48ce-a118-7bb18015ecb9",
      "name": "Set Analysis",
      "type": "n8n-nodes-base.set",
      "position": [
        660,
        260
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "b2d4b1a2-163c-408c-beef-613d909e9cd1",
              "name": "analysis",
              "type": "object",
              "value": "={{ $json.candidates[0].content.parts[0].text }}"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "182e8856-adb1-4a30-8180-6a9a447e4f89",
      "name": "Check If Response Needed",
      "type": "n8n-nodes-base.if",
      "position": [
        840,
        260
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "fbf1b7c1-e587-45ce-b113-1d6cd4d0c20b",
              "operator": {
                "type": "number",
                "operation": "gt"
              },
              "leftValue": "={{ $json.analysis.relevance_score }}",
              "rightValue": 0.5
            },
            {
              "id": "cac67bfa-df05-4783-9cde-ddee3d7cacd1",
              "operator": {
                "type": "number",
                "operation": "gt"
              },
              "leftValue": "={{ $json.analysis.action_priority }}",
              "rightValue": 0.5
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "7d9229b7-7d66-4953-a667-d8a5b2067e5a",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1380,
        240
      ],
      "parameters": {
        "width": 220,
        "height": 180,
        "content": "**Weekly Scheduler**  \n- **Runs:** Every Monday at 8 AM.  \n- **Purpose:** Starts the automation to fetch all bills on the House floor for the upcoming week.  "
      },
      "typeVersion": 1
    },
    {
      "id": "9419d694-0822-45e2-b835-a9ff02417366",
      "name": "Aggregate",
      "type": "n8n-nodes-base.aggregate",
      "position": [
        1060,
        260
      ],
      "parameters": {
        "options": {},
        "aggregate": "aggregateAllItemData"
      },
      "typeVersion": 1
    },
    {
      "id": "957df544-850d-417f-b718-3ecd850f9984",
      "name": "Research Bills",
      "type": "n8n-nodes-base.executeWorkflow",
      "position": [
        1240,
        260
      ],
      "parameters": {
        "options": {},
        "workflowId": {
          "__rl": true,
          "mode": "list",
          "value": "k053fXGjIF7dUIQZ",
          "cachedResultName": "‚ôªÔ∏è üß© üìö General Research Agent"
        },
        "workflowInputs": {
          "value": {
            "chatInput": "=You are a research assistant specialized in US legislation and advocacy. Given the summary of the following legislative bill(s) related to animal welfare, dig deeper to uncover additional relevant information including:\n\n    Names of bill sponsors and cosponsors, including their committee assignments and political affiliations\n\n    Key lobbying groups or corporations supporting or opposing the bill, with details on their interests and past influence\n\n    Advocacy organizations actively campaigning for or against the bill, including grassroots movements and national nonprofits\n\n    Historical or related legislation context, such as previous versions of the bill, amendments, or connected policies\n\n    Public sentiment indicators such as recent news headlines, editorials, social media trends, and relevant public statements by officials\n\n    Contact information for relevant decision-makers, including committee chairs, bill sponsors, and influential legislators\n\n    Key dates and upcoming milestones related to the bill‚Äôs progress (e.g., scheduled hearings, votes)\n\n    Potential political or industry pressures that may impact the bill‚Äôs trajectory\n\n    Data on related public petitions, endorsements, or opposition campaigns\n\n    Relevant regulatory or agency actions tied to the bill‚Äôs subject matter\n\nProvide concise, actionable insights that activists can use to tailor their outreach and advocacy efforts effectively.\n\n# BILLS TO RESEARCH\n\n{{ JSON.stringify($json.data) }}",
            "sessionId": "={{ (Math.random().toString(36).substring(2) + Date.now().toString(36)) }}"
          },
          "schema": [
            {
              "id": "chatInput",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "chatInput",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sessionId",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "sessionId",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "6a9b6d0e-f202-44a6-badd-981f73eeb2a0",
      "name": "OpenRouter Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "position": [
        1440,
        500
      ],
      "parameters": {
        "model": "anthropic/claude-sonnet-4",
        "options": {}
      },
      "credentials": {
        "openRouterApi": {
          "id": "QqgKARn52qQiKICN",
          "name": "OpenRouter account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "316e27e4-a73b-4590-825d-28df2ff6e0ad",
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        1580,
        440
      ],
      "parameters": {
        "autoFix": true,
        "jsonSchemaExample": "{\n\t\"subject_line\": \"email subject line goes here\",\n\t\"email_body_html\": \"html for email body goes here\"\n}"
      },
      "typeVersion": 1.3
    },
    {
      "id": "d99b4e4a-6a1f-419d-b0e1-72641dd26f4e",
      "name": "Write Email Alert",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "position": [
        1460,
        260
      ],
      "parameters": {
        "text": "=You are an expert email content writer creating a high‚Äëimpact, easy‚Äëto‚Äëscan HTML briefing for animal rights activists, covering **all relevant bills on the House floor this week**.\n\n**Your goal is to help activists win last‚Äëminute legislative fights** by giving them exactly what they need to act quickly, persuasively, and effectively‚Äîwithout inventing any details not present in the data.\n\n### Requirements for the Email:\n\n1. **Subject line:**\n\n   * Conveys overall urgency and key ‚Äúask‚Äù (e.g., ‚ÄúURGENT: Top 3 Animal Welfare Bills This Week ‚Äì Take Action Now!‚Äù).\n\n2. **Top ‚ÄúAction Dashboard‚Äù (above the fold):**\n\n   * **Ranked list of the top 3‚Äì5 bills** by `action_priority`.\n   * For each bill, include:\n\n     * **Bill title** (heading)\n     * **Immediate ‚ÄúAsk‚Äù** (e.g., ‚ÄúOppose H.R. 1917 by Tuesday EOD‚Äù)\n     * **Visual urgency bar or badge**\n     * **One‚Äësentence reason why it matters** (focused on animal rights)\n\n3. **Detailed Bill Sections (in priority order):**\n   For **each bill**, include:\n\n   * **Heading:** Bill title + urgency badge\n   * **Recommended stance** (‚ÄúOppose,‚Äù ‚ÄúSupport,‚Äù or ‚ÄúMonitor‚Äù)\n   * **Concise summary** (2‚Äì3 sentences, animal‚Äërights focus, using only provided data)\n   * **Key action points:**\n\n     * Bullet list of what to say or do (based strictly on provided `weeklyBills` data)\n     * Pre‚Äëwritten **email/phone script snippets**\n     * Suggested **social media text & hashtags**\n   * **Contacts & Targets:**\n\n     * Sponsor and committee chair (names and provided contact info)\n     * Key swing votes (if available in data)\n   * **Research intel highlights:**\n\n     * Top lobbyists, counterarguments, advocacy coalitions (only if provided in data)\n   * **Deadline & Next Steps:**\n\n     * Date/time of vote or hearing\n     * Clear ‚ÄúWhat to do by when‚Äù in bold\n\n4. **Resources & Tools:**\n\n   * Links or templates (letters, petitions, graphics) **only if provided** in the data.\n   * Clear follow‚Äëup instructions (e.g., ‚ÄúCall again if no response‚Äù).\n\n5. **Closing Call to Action:**\n\n   * Brief motivational note, e.g., ‚ÄúYour calls can make the difference on these votes this week.‚Äù\n   * **No mentions of fictional campaign hubs or Slack groups** unless explicitly included in the data.\n\n**Format:**\nUse clean, well‚Äëstructured HTML. Headings, bold text, and color‚Äëcoded urgency badges must make the email scannable. Include clickable links if they are present in the data.\n\n---\n\n**CONTEXT/INPUT:**\n\n```\n{{ $json.output }}\n\n{{ JSON.stringify($('Aggregate').item.json.data) }}\n```",
        "batching": {},
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 1.7
    },
    {
      "id": "65e737be-94e4-43f7-9a6b-cd3cec413695",
      "name": "Send email",
      "type": "n8n-nodes-base.emailSend",
      "position": [
        1820,
        260
      ],
      "webhookId": "07720c7f-e59e-436a-a4d5-a397256571f3",
      "parameters": {
        "html": "={{ $json.output.email_body_html }}",
        "options": {
          "appendAttribution": false
        },
        "subject": "={{ $json.output.subject_line }}",
        "toEmail": "email@example.com",
        "fromEmail": "email@example.com"
      },
      "credentials": {
        "smtp": {
          "id": "WT1fLClVHN3DUxyk",
          "name": "info@openpaws.ai - ProtonMail SMTP"
        }
      },
      "typeVersion": 2.1
    },
    {
      "id": "de3110cd-e6e1-4b90-a3b5-f69bfcad8e2d",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -900,
        0
      ],
      "parameters": {
        "width": 300,
        "height": 220,
        "content": "**Bill Fetching & PDF Parsing**  \n- Downloads the list of bills for the week.  \n- Extracts PDF links for full text of bills.  \n- Passes each PDF to the Gemini analysis node.  \n- **Tip:** If following bills from another source, update the fetch URLs and parsing logic.\n"
      },
      "typeVersion": 1
    },
    {
      "id": "c2269de7-2e97-4a8e-8310-9219b01ac298",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        240,
        -280
      ],
      "parameters": {
        "width": 500,
        "height": 500,
        "content": "**AI Bill Analysis (Gemini)**  \n- **What it does:** Reads each bill PDF and analyzes it ** from an animal rights perspective.**  \n- **Output Schema:**  \n  - `bill_title` ‚Äì Title or short identifier of the bill.  \n  - `summary` ‚Äì 2‚Äì3 sentence plain-language summary with critical animal rights analysis.  \n  - `animal_welfare_score` ‚Äì 0 to 1 (0 = extremely harmful, 1 = strongly protective).  \n  - `relevance_score` ‚Äì 0 to 1 (0 = unrelated to animals, 1 = entirely animal-focused).  \n  - `action_priority` ‚Äì 0 to 1 (0 = no action needed, 1 = critical and urgent action).  \n  - `stance` ‚Äì \"support,\" \"oppose,\" or \"monitor.\"  \n  - `key_points_for_action` ‚Äì Key talking points for activist campaigns.\n\n- **User Control:**  \n  - You can **edit the prompt text** in the Gemini node to change analysis preferences (e.g., emphasize wildlife habitat, climate effects, or only farmed animals).  \n  - Adjusting the tone or priorities here will **directly change how scores like `action_priority` are set.**\n"
      },
      "typeVersion": 1
    },
    {
      "id": "b4916162-8909-4b63-9471-ebc5868e4484",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        780,
        0
      ],
      "parameters": {
        "width": 200,
        "height": 220,
        "content": "**Bill Filtering**  \n- Filters bills based on **relevance** and **urgency thresholds**.  \n- **User Control:** Adjust thresholds to make the filter stricter (fewer, more critical bills) or looser (more bills included).\n"
      },
      "typeVersion": 1
    },
    {
      "id": "e6de7b01-6265-402c-9668-00f159f79408",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1460,
        -40
      ],
      "parameters": {
        "height": 260,
        "content": "**Email Writer**  \n- Generates a complete HTML briefing email using all aggregated data.  \n- Uses a structured template with Action Dashboard, bill details, and call-to-action sections.  \n- **Tip:** Update the template prompt if you want different formatting or tone (e.g., shorter summaries).\n"
      },
      "typeVersion": 1
    },
    {
      "id": "7639bf8b-26d8-4345-9f6e-eef3d79aaddd",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1760,
        60
      ],
      "parameters": {
        "content": "**Email Dispatch**  \n- Sends the final email to your activist mailing list.  \n- **Tip:** Update recipient settings or connect to another email provider node as needed.\n"
      },
      "typeVersion": 1
    },
    {
      "id": "9ba1d4d1-6a4a-4523-886c-8efd7d422d88",
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1040,
        -100
      ],
      "parameters": {
        "width": 340,
        "height": 320,
        "content": "**Research & Intel Gathering**  \n- This step enriches each bill with extra research: sponsor details, lobbying activity, advocacy coalitions, and relevant media intel (if available).  \n- **Required Setup:**  \n  - **Download and set up the following subworkflow first:**  \n    [Multi-Tool Research Agent for Animal Advocacy](https://n8n.io/workflows/5588-multi-tool-research-agent-for-animal-advocacy-with-openrouter-serper-and-open-paws-db/).  \n  - After importing it, **select it as the Subworkflow** for this node.  \n- **Tip:** You can customize the subworkflow to add/remove research sources or adjust the type of intel gathered.\n"
      },
      "typeVersion": 1
    },
    {
      "id": "85596ffc-2713-41a4-8da9-1a2df989f00f",
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -500,
        40
      ],
      "parameters": {
        "width": 620,
        "height": 180,
        "content": "**Bill Link Cleanup & PDF Download**  \n- **What it does:**  \n  1. Uses AI to clean and normalize the PDF links extracted from the bill list (removes duplicates, invalid URLs, or irrelevant links).  \n  2. **Splits each bill link into a separate item** so that each bill can be analyzed individually in the workflow.  \n  3. Downloads the PDF files for each bill to pass them to Gemini for analysis."
      },
      "typeVersion": 1
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "be9967ed-79ac-4bc8-972c-bd87486cf215",
  "connections": {
    "Aggregate": {
      "main": [
        [
          {
            "node": "Research Bills",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download PDF": {
      "main": [
        [
          {
            "node": "Convert PDF to Base64 String",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set Analysis": {
      "main": [
        [
          {
            "node": "Check If Response Needed",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Research Bills": {
      "main": [
        [
          {
            "node": "Write Email Alert",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Clean PDF Links": {
      "main": [
        [
          {
            "node": "Split Out Links",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out Links": {
      "main": [
        [
          {
            "node": "Download PDF",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Weekly Bills": {
      "main": [
        [
          {
            "node": "Extract PDF Links",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Get Weekly Bills",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract PDF Links": {
      "main": [
        [
          {
            "node": "Clean PDF Links",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Write Email Alert": {
      "main": [
        [
          {
            "node": "Send email",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Clean PDF Links",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Write Email Alert",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "Structured Output Parser",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Analyze Bill with Gemini": {
      "main": [
        [
          {
            "node": "Set Analysis",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check If Response Needed": {
      "main": [
        [
          {
            "node": "Aggregate",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "Write Email Alert",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Convert PDF to Base64 String": {
      "main": [
        [
          {
            "node": "Analyze Bill with Gemini",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}