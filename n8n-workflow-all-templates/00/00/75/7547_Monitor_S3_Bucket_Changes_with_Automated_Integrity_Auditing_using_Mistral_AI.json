{
  "id": "L1GwMC9RqS6cwzGB",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Monitor S3 Bucket Changes with Automated Integrity Auditing using Mistral AI",
    "wechat": "youandme10086",
    "id": 7547,
    "update_time": "2025-11-10"
  },
  "name": "AWS S3 Object Integrity Auditor copy",
  "tags": [
    {
      "id": "KidxdCDoVXxbaau2",
      "name": "Object",
      "createdAt": "2025-08-15T16:00:29.051Z",
      "updatedAt": "2025-08-15T16:00:29.051Z"
    },
    {
      "id": "zUFFVirfegrtIjyE",
      "name": "AWS",
      "createdAt": "2025-08-17T11:19:26.321Z",
      "updatedAt": "2025-08-17T11:19:26.321Z"
    }
  ],
  "nodes": [
    {
      "id": "42e6ce36-68a5-46f8-a91e-4d270f91ad52",
      "name": "When clicking ‘Execute workflow’",
      "type": "n8n-nodes-base.manualTrigger",
      "position": [
        -1872,
        -496
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "e0a153b3-a90d-49b6-875a-6083187fa342",
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        -1856,
        64
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "5e41c321-c939-4d2a-b313-c344684c2fda",
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1680,
        -656
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "0d7cd257-cb7e-4da2-8422-2bf480301a0c",
      "name": "Envoi de mail récapitulatif",
      "type": "n8n-nodes-base.emailSend",
      "position": [
        2048,
        -1104
      ],
      "webhookId": "f88da332-ab9e-4170-bd53-3a9cdf8c0b1c",
      "parameters": {},
      "typeVersion": 2.1
    },
    {
      "id": "7f798ce1-1e33-4f75-94db-bf8e523f4e87",
      "name": "Mistral Cloud Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatMistralCloud",
      "position": [
        2352,
        64
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "824d58cf-cf4e-45a4-babf-6cc131f3c34b",
      "name": "Extract .txt / .log",
      "type": "n8n-nodes-base.extractFromFile",
      "onError": "continueErrorOutput",
      "position": [
        1808,
        224
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "31de3da9-d77e-4f7d-b212-b0ec95c381d7",
      "name": "Extraction des paths",
      "type": "n8n-nodes-base.splitOut",
      "position": [
        432,
        208
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "bcd76a54-3c8d-44b0-bec4-7a7d36a25f4b",
      "name": "Sticky Note18",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        384,
        80
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "5616fcc0-9f4a-4ede-ad18-f5deba75ad32",
      "name": "Sticky Note21",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1760,
        -80
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "22c0fd82-3082-4296-8aa5-a7084314a188",
      "name": "Sticky Note23",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2208,
        -256
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "9d98a7d0-07f4-44cc-a883-221578b3c80d",
      "name": "Sticky Note27",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2256,
        -592
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "58063753-6dcd-4092-862f-cb4fd119ca4d",
      "name": "Remove Duplicates",
      "type": "n8n-nodes-base.removeDuplicates",
      "position": [
        880,
        208
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "43b77ebb-7832-425a-afb5-bb9c416ca139",
      "name": "Switch",
      "type": "n8n-nodes-base.switch",
      "position": [
        1568,
        208
      ],
      "parameters": {},
      "typeVersion": 3.2
    },
    {
      "id": "c19f35c6-251b-493e-8c12-b8efd4ad7853",
      "name": "Sticky Note30",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2000,
        -592
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "9cb528e9-a1c6-4613-8580-d32ec5f6d386",
      "name": "Extract text with OCR",
      "type": "n8n-nodes-base.mistralAi",
      "onError": "continueErrorOutput",
      "maxTries": 2,
      "position": [
        1808,
        -16
      ],
      "parameters": {},
      "retryOnFail": true,
      "typeVersion": 1,
      "waitBetweenTries": 4000
    },
    {
      "id": "f89c72e0-a698-4666-8dbf-e4cc59b4d319",
      "name": "Wait",
      "type": "n8n-nodes-base.wait",
      "position": [
        3008,
        528
      ],
      "webhookId": "97ff7719-6f7f-46f0-a544-179326534e37",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "c7712eb3-2be9-42e7-a7bc-768486d78098",
      "name": "Boucle",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        1360,
        208
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "a3c4123b-1f29-47c2-9d48-3d2b20f0e4f6",
      "name": "AnalyseIA",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "maxTries": 2,
      "position": [
        2256,
        -160
      ],
      "parameters": {},
      "retryOnFail": true,
      "typeVersion": 1.7,
      "waitBetweenTries": 5000
    },
    {
      "id": "df4c27ab-16c0-4117-8886-109ada3efbb4",
      "name": "Delete a folder1",
      "type": "n8n-nodes-base.s3",
      "position": [
        2528,
        -464
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "25677d58-2eab-4dc4-a747-506856d5d69a",
      "name": "Create a folder1",
      "type": "n8n-nodes-base.s3",
      "position": [
        2752,
        -464
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "350900e1-ad7a-4db8-a36a-e8aee5366918",
      "name": "Extract from File",
      "type": "n8n-nodes-base.extractFromFile",
      "position": [
        2048,
        -784
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "99fe6499-bba4-46ce-8cc6-dbbe94e611b4",
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "position": [
        2272,
        -784
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "81054cb0-3b6e-42fa-820c-6dc0b0a4becc",
      "name": "Only keep PDF, TXT and Logs",
      "type": "n8n-nodes-base.filter",
      "position": [
        656,
        208
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "e845bf21-f921-4455-9175-b3ccb1c46fdd",
      "name": "Download suspect files",
      "type": "n8n-nodes-base.s3",
      "position": [
        1104,
        208
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "f3a7802b-e175-47bb-a9cb-ff58ea44a318",
      "name": "List downloaded objects",
      "type": "n8n-nodes-base.s3",
      "position": [
        208,
        208
      ],
      "parameters": {},
      "executeOnce": true,
      "typeVersion": 1
    },
    {
      "id": "165e7762-0dde-4b25-8357-8e7f5ac56398",
      "name": "Ajout à MongoDB",
      "type": "n8n-nodes-base.mongoDb",
      "position": [
        2496,
        -784
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "f7da70a0-9541-44a6-9cb1-0cb44665d277",
      "name": "Sticky Note13",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        160,
        80
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "a1767a2c-eee7-4dc4-903e-2e5c7d18cead",
      "name": "Sticky Note19",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1056,
        80
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "2712004a-c3bb-4fcc-8972-c64e44126fd6",
      "name": "Error Message #1",
      "type": "n8n-nodes-base.set",
      "position": [
        1808,
        528
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "fc41bb64-da0c-46cb-af14-0c91be1082df",
      "name": "Error Message #2",
      "type": "n8n-nodes-base.set",
      "position": [
        2176,
        528
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "f3535347-945d-4dfa-a0a8-b2bcbe08fae0",
      "name": "PDF Prompt Creation",
      "type": "n8n-nodes-base.set",
      "position": [
        2032,
        -160
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "c092777e-e150-4b9d-9aaa-87b731e5b752",
      "name": "TXT/LOG Prompt Creation",
      "type": "n8n-nodes-base.set",
      "position": [
        2032,
        64
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "e3bc2006-cb2d-4858-9d01-901892d2f96a",
      "name": "Result Message Creation",
      "type": "n8n-nodes-base.set",
      "position": [
        2656,
        -160
      ],
      "parameters": {},
      "executeOnce": true,
      "typeVersion": 3.4
    },
    {
      "id": "fef1191f-cc69-431c-9ae7-5c662f996b9e",
      "name": "Result Saved",
      "type": "n8n-nodes-base.ssh",
      "position": [
        2816,
        160
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "b4993129-d8b2-435b-b7b4-1e22f251ecbf",
      "name": "Delete local files",
      "type": "n8n-nodes-base.ssh",
      "position": [
        2288,
        -464
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "6d745574-e2de-4b91-a55a-e8b93aa0f6fd",
      "name": "Sticky Note24",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2000,
        -912
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "2d142435-d6a7-4c85-bdf4-2c9f44a69312",
      "name": "Sticky Note31",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2000,
        -1216
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "8876719c-a55a-4a3f-ad7d-78096ca54c0f",
      "name": "Path Extraction",
      "type": "n8n-nodes-base.splitOut",
      "position": [
        -704,
        208
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "79becb79-578d-4011-adc6-8745e13e1a1b",
      "name": "Objects Listing",
      "type": "n8n-nodes-base.awsS3",
      "position": [
        -1648,
        -496
      ],
      "parameters": {},
      "retryOnFail": true,
      "typeVersion": 2,
      "waitBetweenTries": 5000
    },
    {
      "id": "3f6a2cb2-29e9-4411-9fb8-365127fa664c",
      "name": "Objects Download",
      "type": "n8n-nodes-base.awsS3",
      "position": [
        -480,
        208
      ],
      "parameters": {},
      "retryOnFail": true,
      "typeVersion": 2,
      "waitBetweenTries": 5000
    },
    {
      "id": "24b520f5-177a-4c83-a7ff-2d6bb1888f81",
      "name": "Generate MD5",
      "type": "n8n-nodes-base.crypto",
      "position": [
        -1424,
        -496
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "6a7ad4f6-c321-4e46-8a0e-8c769d23aab3",
      "name": "Create JSON from AWS S3 API Call",
      "type": "n8n-nodes-base.set",
      "position": [
        -1200,
        -496
      ],
      "parameters": {},
      "executeOnce": false,
      "typeVersion": 3.4
    },
    {
      "id": "b804853c-e64f-478d-9ce6-10317e70971c",
      "name": "Save Audit Snapshot",
      "type": "n8n-nodes-base.ssh",
      "position": [
        -752,
        -496
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "96f380fa-54a1-4fc2-b568-3b855c77ae4e",
      "name": "Convert to File",
      "type": "n8n-nodes-base.convertToFile",
      "position": [
        -976,
        -496
      ],
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "e6c5fb77-e6ab-40ba-8f07-be69762d68eb",
      "name": "Compare Datasets",
      "type": "n8n-nodes-base.compareDatasets",
      "position": [
        -960,
        32
      ],
      "parameters": {},
      "notesInFlow": false,
      "typeVersion": 2.3
    },
    {
      "id": "c098f872-0628-42a1-9455-1e5eae5b6210",
      "name": "Audit file to JSON",
      "type": "n8n-nodes-base.extractFromFile",
      "position": [
        -1408,
        -64
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "e99132f7-97d2-4077-9516-b23758a75dd4",
      "name": "Split Objects",
      "type": "n8n-nodes-base.splitOut",
      "position": [
        -1184,
        -64
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "c9c78d8e-c075-44fb-8e72-75096c05ab06",
      "name": "Upload objects to MinIO",
      "type": "n8n-nodes-base.s3",
      "position": [
        -256,
        208
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "b081c405-682b-4436-81f5-9ee57145a5a3",
      "name": "Convert to File1",
      "type": "n8n-nodes-base.convertToFile",
      "position": [
        -704,
        -240
      ],
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "c230fe67-2db8-49d7-adac-d5b09b72e296",
      "name": "Convert to File2",
      "type": "n8n-nodes-base.convertToFile",
      "position": [
        -704,
        -48
      ],
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "1714f21d-f9d0-46ab-833b-5917bf56fe7a",
      "name": "Sticky Note25",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -288,
        -128
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "87ff5ac1-f6b8-488d-91c0-838d5e425d51",
      "name": "Get previous Audit Snapshot",
      "type": "n8n-nodes-base.ssh",
      "position": [
        -1632,
        -64
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "dcd69a61-0542-44dd-9210-51606563850a",
      "name": "List S3 Objects",
      "type": "n8n-nodes-base.awsS3",
      "position": [
        -1632,
        208
      ],
      "parameters": {},
      "retryOnFail": true,
      "typeVersion": 2,
      "waitBetweenTries": 5000
    },
    {
      "id": "5e826ed0-f7c9-4c4d-94ac-9b98ab43ddbd",
      "name": "Generate MD6",
      "type": "n8n-nodes-base.crypto",
      "position": [
        -1408,
        208
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "5814c850-fd87-4f36-b9ae-d99c011b2466",
      "name": "Create JSON from results",
      "type": "n8n-nodes-base.set",
      "position": [
        -1184,
        208
      ],
      "parameters": {},
      "executeOnce": false,
      "typeVersion": 3.4
    },
    {
      "id": "d0b029a4-9f13-43b6-b665-ce5ae7126a15",
      "name": "Replace previous snapshot with current one",
      "type": "n8n-nodes-base.s3",
      "position": [
        -480,
        -240
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "11cc0edc-96b5-4f3b-ac89-d35a3e405c22",
      "name": "Save Suspect Objects List",
      "type": "n8n-nodes-base.s3",
      "position": [
        -480,
        -48
      ],
      "parameters": {},
      "executeOnce": true,
      "typeVersion": 1
    },
    {
      "id": "fc3487fc-975e-4d74-a2e4-74b3572f69ff",
      "name": "Download current Integrity Snapshot",
      "type": "n8n-nodes-base.s3",
      "position": [
        -256,
        -48
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "b81698fe-2a30-4ba0-b98d-c08bd662f35b",
      "name": "Remove them from Host FS",
      "type": "n8n-nodes-base.ssh",
      "position": [
        -32,
        208
      ],
      "parameters": {},
      "executeOnce": true,
      "typeVersion": 1
    },
    {
      "id": "3d2ecd4d-adad-4faa-b6c0-794230c60127",
      "name": "Upload Snapshot on Host FS",
      "type": "n8n-nodes-base.ssh",
      "position": [
        -32,
        -48
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "28d5a852-419d-418f-82fc-46cad3aad4ce",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -736,
        128
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "b80f6f7e-1f63-4771-91dc-dbfe22d12632",
      "name": "Sticky Note26",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1664,
        -128
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "4aa3351b-66e8-434f-ad8d-3fab97bdcce3",
      "name": "Sticky Note28",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1664,
        128
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "c2c8746b-b269-41ed-b01a-b636c6ad9b45",
      "name": "Report Creation",
      "type": "n8n-nodes-base.ssh",
      "position": [
        1584,
        -464
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "b3a1da09-7f6e-4a2f-9c46-d16425905364",
      "name": "Sticky Note14",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1680,
        -288
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "783ce448-5fbc-43cf-a48d-202761a4992d",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1024,
        416
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "ef2a4201-5312-4d3c-9d2b-b609c4c06177",
      "name": "Sticky Note20",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1776,
        400
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "b17d286b-90a0-4151-b179-2f91df81d55d",
      "name": "Getting Report",
      "type": "n8n-nodes-base.ssh",
      "position": [
        1808,
        -464
      ],
      "parameters": {},
      "executeOnce": true,
      "typeVersion": 1
    },
    {
      "id": "4f024f0b-b8c2-4616-9fdd-f13d59bcd837",
      "name": "Upload Report to MinIO",
      "type": "n8n-nodes-base.s3",
      "position": [
        2048,
        -464
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "c05bd317-ac3d-4b34-8e28-e77253c15848",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1648,
        -272
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "1af0c6e6-39a6-4d11-95cd-f051f2085f40",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2816,
        -256
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "cc3db854-5b43-4646-b8d2-bbbc7b1055b1",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1584,
        -672
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "af84ab72-32d9-4f70-9b03-b7bcc03ce82b",
      "name": "Sticky Note15",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        160,
        -976
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "70e7c451-e54d-4336-a963-3d7b8140e2be",
      "name": "workflow running ? ",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        160,
        -560
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "31c40a84-bb67-47f3-8887-87cacd638367",
      "name": "Sticky Note16",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        160,
        -112
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "e402127c-6133-44df-94ee-5ba8df5192d1",
      "name": "Sticky Note17",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1904,
        -16
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "ca6475f4-140a-4ba9-9b13-883fc5349072",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2224,
        -1216
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "214c2601-db76-4bdb-a92c-bba489141351",
  "connections": {
    "Wait": {
      "main": [
        [
          {
            "node": "Boucle",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Boucle": {
      "main": [
        [
          {
            "node": "Report Creation",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch": {
      "main": [
        [
          {
            "node": "Extract text with OCR",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Extract .txt / .log",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Error Message #1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AnalyseIA": {
      "main": [
        [
          {
            "node": "Result Message Creation",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Ajout à MongoDB",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate MD5": {
      "main": [
        [
          {
            "node": "Create JSON from AWS S3 API Call",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate MD6": {
      "main": [
        [
          {
            "node": "Create JSON from results",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Result Saved": {
      "main": [
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Objects": {
      "main": [
        [
          {
            "node": "Compare Datasets",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Getting Report": {
      "main": [
        [
          {
            "node": "Envoi de mail récapitulatif",
            "type": "main",
            "index": 0
          },
          {
            "node": "Extract from File",
            "type": "main",
            "index": 0
          },
          {
            "node": "Upload Report to MinIO",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Convert to File": {
      "main": [
        [
          {
            "node": "Save Audit Snapshot",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "List S3 Objects": {
      "main": [
        [
          {
            "node": "Generate MD6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Objects Listing": {
      "main": [
        [
          {
            "node": "Generate MD5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Path Extraction": {
      "main": [
        [
          {
            "node": "Objects Download",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Report Creation": {
      "main": [
        [
          {
            "node": "Getting Report",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Ajout à MongoDB": {
      "main": [
        []
      ]
    },
    "Compare Datasets": {
      "main": [
        [],
        [],
        [],
        [
          {
            "node": "Path Extraction",
            "type": "main",
            "index": 0
          },
          {
            "node": "Convert to File2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Convert to File1": {
      "main": [
        [
          {
            "node": "Replace previous snapshot with current one",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Convert to File2": {
      "main": [
        [
          {
            "node": "Save Suspect Objects List",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Delete a folder1": {
      "main": [
        [
          {
            "node": "Create a folder1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Error Message #1": {
      "main": [
        [
          {
            "node": "Result Saved",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Error Message #2": {
      "main": [
        [
          {
            "node": "Result Saved",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Objects Download": {
      "main": [
        [
          {
            "node": "Upload objects to MinIO",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Get previous Audit Snapshot",
            "type": "main",
            "index": 0
          },
          {
            "node": "List S3 Objects",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract from File": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Remove Duplicates": {
      "main": [
        [
          {
            "node": "Download suspect files",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Audit file to JSON": {
      "main": [
        [
          {
            "node": "Split Objects",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Delete local files": {
      "main": [
        [
          {
            "node": "Delete a folder1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract .txt / .log": {
      "main": [
        [
          {
            "node": "TXT/LOG Prompt Creation",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Error Message #2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "PDF Prompt Creation": {
      "main": [
        [
          {
            "node": "AnalyseIA",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Save Audit Snapshot": {
      "main": [
        []
      ]
    },
    "Extraction des paths": {
      "main": [
        [
          {
            "node": "Only keep PDF, TXT and Logs",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract text with OCR": {
      "main": [
        [
          {
            "node": "PDF Prompt Creation",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Error Message #2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download suspect files": {
      "main": [
        [
          {
            "node": "Boucle",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Upload Report to MinIO": {
      "main": [
        [
          {
            "node": "Delete local files",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "List downloaded objects": {
      "main": [
        [
          {
            "node": "Extraction des paths",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Result Message Creation": {
      "main": [
        [
          {
            "node": "Result Saved",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "TXT/LOG Prompt Creation": {
      "main": [
        [
          {
            "node": "AnalyseIA",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Upload objects to MinIO": {
      "main": [
        [
          {
            "node": "Remove them from Host FS",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create JSON from results": {
      "main": [
        [
          {
            "node": "Convert to File1",
            "type": "main",
            "index": 0
          },
          {
            "node": "Compare Datasets",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Remove them from Host FS": {
      "main": [
        [
          {
            "node": "List downloaded objects",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Mistral Cloud Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "AnalyseIA",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Save Suspect Objects List": {
      "main": [
        [
          {
            "node": "Download current Integrity Snapshot",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get previous Audit Snapshot": {
      "main": [
        [
          {
            "node": "Audit file to JSON",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Only keep PDF, TXT and Logs": {
      "main": [
        [
          {
            "node": "Remove Duplicates",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Envoi de mail récapitulatif": {
      "main": [
        []
      ]
    },
    "Create JSON from AWS S3 API Call": {
      "main": [
        [
          {
            "node": "Convert to File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download current Integrity Snapshot": {
      "main": [
        [
          {
            "node": "Upload Snapshot on Host FS",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When clicking ‘Execute workflow’": {
      "main": [
        [
          {
            "node": "Objects Listing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}