{
  "id": "I0kBHahzGYqCjGVg",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Chat with AI Models via OpenRouter using Mistral",
    "wechat": "youandme10086",
    "id": 5998,
    "update_time": "2025-11-10"
  },
  "name": "Use OpenRouter.ai Chat API Workflow in n8n",
  "tags": [],
  "nodes": [
    {
      "id": "865b71c0-1571-45d1-b043-34748152efc1",
      "name": "When clicking ‘Execute workflow’",
      "type": "n8n-nodes-base.manualTrigger",
      "position": [
        -200,
        0
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "46b00289-733d-46ec-9db4-1774d3ff9ce6",
      "name": "OpenRouter.ai",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        280,
        0
      ],
      "parameters": {
        "url": "https://openrouter.ai/api/v1/chat/completions",
        "method": "POST",
        "options": {},
        "jsonBody": "={\n  \"model\": \"{{ $json.Model }}\",\n  \"messages\": [\n    {\n      \"role\": \"user\",\n      \"content\": \"{{ $json.Message }}\"\n    }\n  ]\n}\n",
        "sendBody": true,
        "specifyBody": "json",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpBearerAuth"
      },
      "typeVersion": 4.2
    },
    {
      "id": "8485a42f-54f5-4151-861b-30e565e0d0b6",
      "name": "Set Model & Prompt",
      "type": "n8n-nodes-base.set",
      "position": [
        40,
        0
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "230805bf-a50a-4d36-ac6d-70847bac862e",
              "name": "Model",
              "type": "string",
              "value": "mistralai/mistral-small-3.2-24b-instruct:free"
            },
            {
              "id": "c8d75446-659e-4fe6-bc88-8f24cf1a510e",
              "name": "Message",
              "type": "string",
              "value": "What is the meaning of life?"
            },
            {
              "id": "7eb8f25c-8a85-445c-9b06-0aaf66c5b719",
              "name": "",
              "type": "string",
              "value": ""
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "96a85fb6-2a8a-4417-93c7-9a6302658dfe",
      "name": "Summarize",
      "type": "n8n-nodes-base.summarize",
      "position": [
        500,
        0
      ],
      "parameters": {
        "options": {},
        "fieldsToSummarize": {
          "values": [
            {
              "field": "choices[0].message.content",
              "aggregation": "min"
            }
          ]
        }
      },
      "typeVersion": 1.1
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "771a55ac-ff58-4b56-9137-b1871465b185",
  "connections": {
    "OpenRouter.ai": {
      "main": [
        [
          {
            "node": "Summarize",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set Model & Prompt": {
      "main": [
        [
          {
            "node": "OpenRouter.ai",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When clicking ‘Execute workflow’": {
      "main": [
        [
          {
            "node": "Set Model & Prompt",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}