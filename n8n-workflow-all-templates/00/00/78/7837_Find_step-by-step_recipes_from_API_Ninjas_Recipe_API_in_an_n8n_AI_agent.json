{
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Find step-by-step recipes from API Ninjas Recipe API in an n8n AI agent",
    "wechat": "youandme10086",
    "id": 7837,
    "update_time": "2025-11-10"
  },
  "nodes": [
    {
      "id": "69588c4f-75cb-48c1-913d-b39e108591aa",
      "name": "Chat Trigger - Receive Message",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "position": [
        624,
        16
      ],
      "webhookId": "c730e1d3-d3db-46f4-9218-b9b0d9312b7c",
      "parameters": {
        "options": {}
      },
      "typeVersion": 1.3
    },
    {
      "id": "9e3376ef-ebef-481d-953b-aee21c174646",
      "name": "AI Agent - Route to Tools",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        832,
        16
      ],
      "parameters": {
        "options": {
          "systemMessage": "Always use the recipe tool if i ask you for recipe"
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "8900f434-6a59-47f7-ad6e-ce4649ba417b",
      "name": "LLM - OpenAI Chat",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        768,
        224
      ],
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-5-mini",
          "cachedResultName": "gpt-5-mini"
        },
        "options": {}
      },
      "credentials": {
        "openAiApi": {
          "id": "IscXryYQZrfSUSkH",
          "name": "OpenAi account"
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "a1c84496-89b6-405a-ae4a-c9688d717586",
      "name": "Recipe Tool - Fetch from API Ninjas",
      "type": "n8n-nodes-base.httpRequestTool",
      "position": [
        1120,
        224
      ],
      "parameters": {
        "url": "https://api.api-ninjas.com/v1/recipe",
        "options": {},
        "sendQuery": true,
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "queryParameters": {
          "parameters": [
            {
              "name": "query",
              "value": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('parameters0_Value', ``, 'string') }}"
            }
          ]
        },
        "toolDescription": "Use the query parameter to specify the food, and it will return a recipe"
      },
      "credentials": {
        "httpHeaderAuth": {
          "id": "IU0D73p4jW1pvQE8",
          "name": "API Ninjas Credential"
        }
      },
      "typeVersion": 4.2
    },
    {
      "id": "ce484377-a229-49b7-a6b7-ac3592595a25",
      "name": "Memory - Recent Messages (Window)",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        928,
        224
      ],
      "parameters": {},
      "typeVersion": 1.3
    },
    {
      "id": "contact-note-1759910018484",
      "name": "Creator Contact Info",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -76,
        -625
      ],
      "parameters": {
        "color": 5,
        "width": 600,
        "height": 440,
        "content": "# Contact Us:\n## Milan @ SmoothWork - [Book a Free Consulting Call](https://smoothwork.ai/book-a-call/)\n![Milan](https://gravatar.com/avatar/95700d17ba300a9f14c1b8cacf933df7720027b3adda9cbe6183d89142925422?r=pg&d=retro&size=100)\n\n\n### We help businesses eliminate busywork by building compact business tools tailored to your process.\n### Contact us for customizing this, or building similar automations.\n\nüìß hello@smoothwork.ai\n‚ñ∂Ô∏è [Check us on YouTube](https://www.youtube.com/@vasarmilan)\nüìû [Book a Free Consulting Call](https://smoothwork.ai/book-a-call/)\nüíº [Add me on Linkedin](https://www.linkedin.com/in/mil%C3%A1n-v%C3%A1s%C3%A1rhelyi-3a9985123/)\n"
      },
      "typeVersion": 1
    },
    {
      "id": "doc-note-1759910018484",
      "name": "Workflow Description",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -76,
        -185
      ],
      "parameters": {
        "width": 600,
        "height": 1050,
        "content": "## Workflow Overview\n\nThis AI chatbot intelligently retrieves recipes from an external API based on natural conversation. When users ask for recipes, the AI agent automatically uses the recipe lookup tool to fetch real-time data and provides helpful, conversational responses.\n\n### First Setup\n\n**Required Credentials:**\n- **OpenAI API:** Sign up at OpenAI and obtain an API key for the language model\n- **API Ninjas:** Register at API Ninjas to get your free API key for the Recipe API (supports 400+ calls/day)\n\nConfigure both credentials in n8n using the appropriate authentication methods. The Recipe API uses Header Authentication (X-Api-Key header).\n\n### Configuration\n\n**AI Agent System Message:** The agent is configured with the instruction \"Always use the recipe tool if i ask you for recipe\" to ensure it leverages the external API when appropriate.\n\n**Recipe Tool Setup:** The HTTP Request Tool is configured to automatically accept query parameters from the AI model. The tool description explains its purpose, helping the AI understand when and how to use it.\n\n**Language Model:** Currently set to use OpenAI's gpt-5-mini. You can change this to other compatible models based on your needs.\n\n**Memory:** Uses a window buffer to maintain conversation context, allowing for natural multi-turn conversations."
      },
      "typeVersion": 1
    },
    {
      "id": "video-note-1759912267932",
      "name": "Video Walkthrough",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        534,
        -625
      ],
      "parameters": {
        "width": 420,
        "height": 340,
        "content": "# Video Walkthrough\n[![image.png](https://vasarmilan-public.s3.us-east-1.amazonaws.com/blog_thumbnails/thumbnail_recux4gNImLpzqvyd.jpg)](https://youtu.be/mMEX4Zsz4XY)"
      },
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "LLM - OpenAI Chat": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent - Route to Tools",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Chat Trigger - Receive Message": {
      "main": [
        [
          {
            "node": "AI Agent - Route to Tools",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Memory - Recent Messages (Window)": {
      "ai_memory": [
        [
          {
            "node": "AI Agent - Route to Tools",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Recipe Tool - Fetch from API Ninjas": {
      "ai_tool": [
        [
          {
            "node": "AI Agent - Route to Tools",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  }
}