{
  "id": "rnBhMZpP6vRnoQ8Z",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Extract and Convert PDF Documents to Markdown with LlamaIndex Cloud API",
    "wechat": "youandme10086",
    "id": 7164,
    "update_time": "2025-11-10"
  },
  "name": "transform pdf tot markdown",
  "tags": [],
  "nodes": [
    {
      "id": "5653ad40-2f56-4e18-be4b-04b4dd10b107",
      "name": "Wait",
      "type": "n8n-nodes-base.wait",
      "position": [
        816,
        -256
      ],
      "webhookId": "a0518843-31f8-44f9-bd8e-1189e16de0f1",
      "parameters": {
        "amount": 30
      },
      "typeVersion": 1.1
    },
    {
      "id": "ef584ef5-1aeb-434a-9ed2-f837a329486f",
      "name": "Upload_doc",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        624,
        -256
      ],
      "parameters": {
        "url": "https://api.cloud.llamaindex.ai/api/v1/parsing/upload",
        "method": "POST",
        "options": {},
        "sendBody": true,
        "contentType": "multipart-form-data",
        "sendHeaders": true,
        "authentication": "genericCredentialType",
        "bodyParameters": {
          "parameters": [
            {
              "name": "file",
              "parameterType": "formBinaryData",
              "inputDataFieldName": "file"
            }
          ]
        },
        "genericAuthType": "httpBearerAuth",
        "headerParameters": {
          "parameters": [
            {
              "name": "accept",
              "value": "application/json"
            },
            {
              "name": "Content-Type",
              "value": "multipart/form-data"
            }
          ]
        }
      },
      "credentials": {
        "httpBearerAuth": {
          "id": "1Sr92y8U8gwgeguP",
          "name": "Bearer YOUR_TOKEN_HERE account"
        },
        "httpHeaderAuth": {
          "id": "EvU6DvmyXtGiv4p0",
          "name": "LlamaCloud"
        }
      },
      "typeVersion": 4.2
    },
    {
      "id": "63c299af-dae8-4dd5-a4a9-159302c9a18a",
      "name": "If",
      "type": "n8n-nodes-base.if",
      "position": [
        1232,
        -256
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "7a07aec1-fc5f-4b76-94d9-6fa8f509ac8e",
              "operator": {
                "name": "filter.operator.equals",
                "type": "string",
                "operation": "equals"
              },
              "leftValue": "={{ $json.status }}",
              "rightValue": "SUCCESS"
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "3bf86ec3-5cbe-4581-a615-528c0e6b783b",
      "name": "On form submission",
      "type": "n8n-nodes-base.formTrigger",
      "position": [
        416,
        -256
      ],
      "webhookId": "5d1027e0-2885-4436-840f-a0e95cde60a2",
      "parameters": {
        "options": {},
        "formTitle": "Upload file",
        "formFields": {
          "values": [
            {
              "fieldType": "file",
              "fieldLabel": "File",
              "acceptFileTypes": "pdf"
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "f451ade2-fccd-4636-b11c-7971b9d32b5e",
      "name": "Wait2",
      "type": "n8n-nodes-base.wait",
      "position": [
        1504,
        -112
      ],
      "webhookId": "8da5da31-1ebd-4c82-8c6a-476d5d277cdd",
      "parameters": {
        "amount": 60
      },
      "typeVersion": 1.1
    },
    {
      "id": "8f7d2640-7fd4-425b-bb03-bb71b73a7dc3",
      "name": "Status Verification",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        1008,
        -256
      ],
      "parameters": {
        "url": "=https://api.cloud.llamaindex.ai/api/parsing/job/{{ $('Upload_doc').item.json.id }}",
        "options": {},
        "sendHeaders": true,
        "authentication": "genericCredentialType",
        "genericAuthType": "httpBearerAuth",
        "headerParameters": {
          "parameters": [
            {
              "name": "accept",
              "value": "application/json"
            }
          ]
        }
      },
      "credentials": {
        "httpBearerAuth": {
          "id": "1Sr92y8U8gwgeguP",
          "name": "Bearer YOUR_TOKEN_HERE account"
        }
      },
      "typeVersion": 4.2
    },
    {
      "id": "0c488546-7ec6-4c95-bc18-255d792705d4",
      "name": "Content extraction",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        1504,
        -304
      ],
      "parameters": {
        "url": "=https://api.cloud.llamaindex.ai/api/v1/parsing/job/{{ $json.id }}/result/markdown",
        "options": {},
        "sendHeaders": true,
        "authentication": "genericCredentialType",
        "genericAuthType": "httpBearerAuth",
        "headerParameters": {
          "parameters": [
            {
              "name": "accept",
              "value": "application/json"
            }
          ]
        }
      },
      "credentials": {
        "httpBearerAuth": {
          "id": "1Sr92y8U8gwgeguP",
          "name": "Bearer YOUR_TOKEN_HERE account"
        }
      },
      "typeVersion": 4.2
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "a0fb030f-88ae-4c19-8662-b83f55dbeced",
  "connections": {
    "If": {
      "main": [
        [
          {
            "node": "Content extraction",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Wait2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait": {
      "main": [
        [
          {
            "node": "Status Verification",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait2": {
      "main": [
        [
          {
            "node": "Status Verification",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Upload_doc": {
      "main": [
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "On form submission": {
      "main": [
        [
          {
            "node": "Upload_doc",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Status Verification": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}