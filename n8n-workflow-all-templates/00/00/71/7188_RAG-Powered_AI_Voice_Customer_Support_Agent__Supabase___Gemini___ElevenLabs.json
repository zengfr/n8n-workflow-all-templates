{
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "RAG-Powered AI Voice Customer Support Agent (Supabase + Gemini + ElevenLabs)",
    "wechat": "youandme10086",
    "id": 7188,
    "update_time": "2025-11-10"
  },
  "nodes": [
    {
      "id": "ce5697a5-fe3c-42eb-b93a-51e2abe35e90",
      "name": "Aggregate",
      "type": "n8n-nodes-base.aggregate",
      "position": [
        784,
        -64
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "d2671671-b493-4580-8eb4-02bce32ede8f",
      "name": "Basic LLM Chain",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "position": [
        1040,
        -64
      ],
      "parameters": {},
      "typeVersion": 1.7
    },
    {
      "id": "31b1d89e-696f-4c85-b0eb-80d395934e86",
      "name": "Search Embeddings",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        560,
        -64
      ],
      "parameters": {},
      "typeVersion": 4.2
    },
    {
      "id": "38bee46c-b303-4649-bb61-039eae8c3d3a",
      "name": "Embend User Message",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        336,
        -64
      ],
      "parameters": {},
      "typeVersion": 4.2
    },
    {
      "id": "a9c57108-69ab-462b-8b54-8b3a21dff7f5",
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "position": [
        112,
        -64
      ],
      "webhookId": "3d74ca69-4efe-4734-8b22-69b21247d9a8",
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "01c3dd7b-c16b-41fe-bb52-81262eca44fb",
      "name": "Respond to Webhook",
      "type": "n8n-nodes-base.respondToWebhook",
      "position": [
        1456,
        -64
      ],
      "parameters": {},
      "typeVersion": 1.4
    },
    {
      "id": "49185bf9-d983-42a7-87f9-42418c070d53",
      "name": "Content for the Training",
      "type": "n8n-nodes-base.googleDocs",
      "position": [
        -1136,
        16
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "9b21eb3f-c27b-4664-87b1-fa41f0d0930b",
      "name": "Splitting into Chunks",
      "type": "n8n-nodes-base.code",
      "position": [
        -912,
        16
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "389b9fc5-ff9d-4278-bc3a-1507c18f510f",
      "name": "Embedding Uploaded document",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -688,
        16
      ],
      "parameters": {},
      "typeVersion": 4.2
    },
    {
      "id": "d72d773e-c574-452e-9a83-5f6eb8dff830",
      "name": "Save the embedding in DB",
      "type": "n8n-nodes-base.supabase",
      "position": [
        -464,
        16
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "1471ef70-cb30-4558-8117-bd62fc909231",
      "name": "When clicking ‘Execute workflow’",
      "type": "n8n-nodes-base.manualTrigger",
      "position": [
        -1344,
        16
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "d6b9cf3d-5b0d-4f6a-8ac0-7166c029063b",
      "name": "Google Vertex Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleVertex",
      "position": [
        1040,
        144
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "1337a267-bca3-46fb-bc1a-6508506d4a45",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1440,
        -752
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "b99ac4fc-4ec1-4b87-9f45-ff9fecc30874",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        0,
        -752
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "Webhook": {
      "main": [
        [
          {
            "node": "Embend User Message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Aggregate": {
      "main": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain": {
      "main": [
        [
          {
            "node": "Respond to Webhook",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Search Embeddings": {
      "main": [
        [
          {
            "node": "Aggregate",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Embend User Message": {
      "main": [
        [
          {
            "node": "Search Embeddings",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Splitting into Chunks": {
      "main": [
        [
          {
            "node": "Embedding Uploaded document",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Content for the Training": {
      "main": [
        [
          {
            "node": "Splitting into Chunks",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Vertex Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Embedding Uploaded document": {
      "main": [
        [
          {
            "node": "Save the embedding in DB",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When clicking ‘Execute workflow’": {
      "main": [
        [
          {
            "node": "Content for the Training",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}