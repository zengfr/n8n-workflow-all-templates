{
  "id": "U5Fyef92rMXWOMpV",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "ü§ñ AI-Powered WhatsApp Assistant for Restaurants & Delivery Automation",
    "wechat": "youandme10086",
    "id": 3043,
    "update_time": "2025-11-10"
  },
  "name": "DELIVERY HAMBURGUERIA MVP",
  "tags": [],
  "nodes": [
    {
      "id": "ecdffae9-68fb-4770-bffe-411ba2577b3f",
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        1940,
        400
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "c6ae6266-9ece-48f7-a880-02da32e59547",
      "name": "Config",
      "type": "n8n-nodes-base.set",
      "position": [
        1940,
        100
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "fb1c5ff8-6b0c-444a-920a-73393b21bee4",
      "name": "Embeddings OpenAI",
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "position": [
        2180,
        1040
      ],
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "4f5e1ba9-36fc-4521-932e-30e11eebdade",
      "name": "OpenAI Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        2420,
        900
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "3b9896db-c186-4af4-bc5d-30511993a546",
      "name": "FindPhone",
      "type": "n8n-nodes-base.supabase",
      "onError": "continueRegularOutput",
      "position": [
        2900,
        80
      ],
      "parameters": {},
      "typeVersion": 1,
      "alwaysOutputData": true
    },
    {
      "id": "f0bc3cd4-c405-473e-a33b-e0635d195e1c",
      "name": "AddChat-Supabase",
      "type": "n8n-nodes-base.supabase",
      "position": [
        3280,
        -20
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "bb941eba-3da8-49d0-91bf-eb3bd8ed142b",
      "name": "UpdateChat-Supabase",
      "type": "n8n-nodes-base.supabase",
      "position": [
        3280,
        180
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "a0ff2e40-e034-4d2a-b3c3-b67e12c12e01",
      "name": "Merge1",
      "type": "n8n-nodes-base.merge",
      "position": [
        3500,
        80
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "7e67d402-c1a1-441c-8353-e96ad72b3f5c",
      "name": "CreateMessage-Supabase",
      "type": "n8n-nodes-base.supabase",
      "position": [
        3680,
        80
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "f58baa59-f0a5-448f-9a77-154a23f05011",
      "name": "If3",
      "type": "n8n-nodes-base.if",
      "position": [
        3060,
        80
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "ef7345e9-0e71-4d13-9c05-063a75958458",
      "name": "ListChats-Supabase",
      "type": "n8n-nodes-base.supabase",
      "position": [
        -2600,
        780
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "4053c0c0-3ce6-468d-a9bb-e9a223e1cba2",
      "name": "Aggregate",
      "type": "n8n-nodes-base.aggregate",
      "position": [
        -2020,
        800
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "057d6596-63fc-4d4f-9aa9-c78eff08efe0",
      "name": "ListMessages-Supabase",
      "type": "n8n-nodes-base.supabase",
      "position": [
        -2180,
        800
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "a5778866-ad88-49c6-8e74-5eaecc155b52",
      "name": "Code1",
      "type": "n8n-nodes-base.code",
      "position": [
        -1860,
        800
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "d59a0c4b-272b-4177-9410-d70c7a682c97",
      "name": "Supabase",
      "type": "n8n-nodes-base.supabase",
      "position": [
        -980,
        660
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "248e6f8c-2a6d-4bd4-b19a-99a2b8dadf48",
      "name": "Loop Over Items1",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        -2400,
        780
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "916b187e-06aa-4b14-95c7-5e0f9b5adf9f",
      "name": "OpenAI Chat Model2",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        -1240,
        720
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "ab480c9c-1289-41ed-af5e-942b965218a0",
      "name": "OpenAI Chat Model3",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        -1640,
        980
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "c5e16905-3fd8-4839-bb45-a474c32146ea",
      "name": "Wait1",
      "type": "n8n-nodes-base.wait",
      "position": [
        -820,
        800
      ],
      "webhookId": "4e5f7872-2c14-4a46-a343-ebfbc94ea043",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "445f2abc-eca5-46c8-9ca9-13685ddcf93d",
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        -2760,
        780
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "0c7fdd00-7ca1-416c-ae7a-3bd88a076bf0",
      "name": "DisableMessage-Supabase",
      "type": "n8n-nodes-base.supabase",
      "position": [
        -640,
        800
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "decbb144-ec81-47ef-90ab-c40c65747810",
      "name": "SetConfig",
      "type": "n8n-nodes-base.set",
      "position": [
        -980,
        460
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "3a4cf7ee-d93a-46fe-b46c-c15e15f38f3e",
      "name": "Execute Workflow",
      "type": "n8n-nodes-base.executeWorkflow",
      "onError": "continueRegularOutput",
      "position": [
        1760,
        100
      ],
      "parameters": {},
      "typeVersion": 1.1,
      "alwaysOutputData": true
    },
    {
      "id": "e224d1ee-b891-47a4-b063-21b5306023ce",
      "name": "SetData",
      "type": "n8n-nodes-base.set",
      "position": [
        1540,
        -20
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "72e8bb5e-fb8a-4a83-920d-a6125c4d3b72",
      "name": "Supabase Vector Store",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "position": [
        2100,
        900
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "5ab32b2a-17ad-403f-88b2-c10fed1c2729",
      "name": "Basic LLM Chain",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "position": [
        -1320,
        560
      ],
      "parameters": {},
      "typeVersion": 1.5
    },
    {
      "id": "5c680313-f6ef-4023-9a70-91aa9bfb8bc8",
      "name": "Delivery AI",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        2320,
        80
      ],
      "parameters": {},
      "typeVersion": 1.7
    },
    {
      "id": "748bcde7-ce47-49ce-a1b7-b6247b2bb237",
      "name": "Text Classifier",
      "type": "@n8n/n8n-nodes-langchain.textClassifier",
      "position": [
        -1720,
        800
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "bcfb2b69-7b6d-46c5-a5ab-950f84ab7fc2",
      "name": "Cria Costumers",
      "type": "n8n-nodes-base.postgres",
      "position": [
        -1480,
        -300
      ],
      "parameters": {},
      "typeVersion": 2.5
    },
    {
      "id": "936e3659-35ad-423f-bd57-1104c9793566",
      "name": "Cria Chats",
      "type": "n8n-nodes-base.postgres",
      "position": [
        -1200,
        -300
      ],
      "parameters": {},
      "typeVersion": 2.5
    },
    {
      "id": "ad7bc542-d023-440c-8546-f43ba7a93099",
      "name": "Cria Chat Messages",
      "type": "n8n-nodes-base.postgres",
      "position": [
        -920,
        -300
      ],
      "parameters": {},
      "typeVersion": 2.5
    },
    {
      "id": "f2ebdabf-64e5-4af9-8809-4f2c5901d20c",
      "name": "Sticky Note33",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1820,
        -440
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "6f1ece1b-5657-4ff9-8660-286dd389cf93",
      "name": "Sticky Note34",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1800,
        -420
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "cc5e5f21-d785-4893-a4cf-ad747e941b06",
      "name": "Cria tabela Cliente",
      "type": "n8n-nodes-base.postgres",
      "position": [
        -1780,
        -300
      ],
      "parameters": {},
      "typeVersion": 2.5
    },
    {
      "id": "abfce927-0bd9-4736-891e-10c29a2c3679",
      "name": "Sticky Note35",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1540,
        -440
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "93f7c4f0-d5e6-41eb-9831-d9aa8cb7e29e",
      "name": "Sticky Note36",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1520,
        -420
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "1b8fee2f-ec80-4b59-936e-dd99df3da39d",
      "name": "Sticky Note37",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1260,
        -440
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "aff1c6ad-b27b-4a1f-a7e9-133b27223005",
      "name": "Sticky Note38",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1240,
        -420
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "896aa87a-06c7-4faf-8778-d3d7d3854083",
      "name": "Sticky Note39",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2100,
        -440
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "1f56829b-b174-48a9-a186-5001c9586f9f",
      "name": "Sticky Note40",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2080,
        -420
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "448f9b52-be39-4163-bfb9-f4d4f089afc8",
      "name": "Sticky Note45",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -980,
        -440
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "76e18052-88e5-4cd1-9e94-bc4ae72dbcd9",
      "name": "Sticky Note46",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -960,
        -420
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "56cb0576-bef7-4d34-a07e-27382d02a2f7",
      "name": "Postgres Chat Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "position": [
        2160,
        400
      ],
      "parameters": {},
      "typeVersion": 1.3
    },
    {
      "id": "dbd0c7a6-28e4-4966-9b2c-dc25d7790e8a",
      "name": "OpenAI3",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        3020,
        -780
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "f5a538d2-f8f9-46cd-aa6b-a467db03c18f",
      "name": "Segmentos1",
      "type": "n8n-nodes-base.splitOut",
      "position": [
        3300,
        -940
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "0b42676e-b9bf-4e22-892c-39a0f6b218be",
      "name": "1,2s1",
      "type": "n8n-nodes-base.wait",
      "position": [
        3800,
        -880
      ],
      "webhookId": "f681b97f-9ec8-45a4-b0d5-2a87f95ab587",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "fc52f54b-ee1c-4f00-9706-e45e3c12890d",
      "name": "Loop Over Items3",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        3480,
        -940
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "b251f0c8-e2f8-4e32-bdbe-4cca9df6c90a",
      "name": "no.op",
      "type": "n8n-nodes-base.noOp",
      "position": [
        3940,
        -880
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "a82677e7-6e67-4743-b6e2-befa5509dc84",
      "name": "OutputParser1",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        3220,
        -780
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "a15ee5e0-2fe6-4eca-970e-795c5b18bb93",
      "name": "Parser  Chain",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "onError": "continueRegularOutput",
      "position": [
        3000,
        -940
      ],
      "parameters": {},
      "typeVersion": 1.4
    },
    {
      "id": "8111cdb5-3ddc-4209-aefb-28db78bb705c",
      "name": "Switch3",
      "type": "n8n-nodes-base.switch",
      "position": [
        2620,
        -80
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "1e7218f9-7a94-4466-9f43-148f5c9f9054",
      "name": "Audio-Base64-Extract from File",
      "type": "n8n-nodes-base.extractFromFile",
      "position": [
        3380,
        -240
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "5d8c0bd6-a896-4532-8ac5-735ca1250892",
      "name": "ElevenLabsGenerateVoice",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        3180,
        -240
      ],
      "parameters": {},
      "typeVersion": 4.2
    },
    {
      "id": "afecf8d0-f89a-4b45-bc51-993696988bda",
      "name": "Evolution API3",
      "type": "n8n-nodes-evolution-api.evolutionApi",
      "position": [
        3540,
        -240
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "dff00df7-ec7b-4a14-b829-a66b09826d36",
      "name": "Code2",
      "type": "n8n-nodes-base.code",
      "position": [
        3020,
        -240
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "ae750553-4fa0-4da5-ac4b-3b307b8c36cc",
      "name": "Evolution API2",
      "type": "n8n-nodes-evolution-api.evolutionApi",
      "position": [
        3660,
        -880
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "d4f834ca-cdab-4f1d-9865-f254c294ca0e",
      "name": "Redis",
      "type": "n8n-nodes-base.redis",
      "position": [
        520,
        20
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "9bd6a1ae-dce3-4621-ae0b-a5359033805d",
      "name": "Wait",
      "type": "n8n-nodes-base.wait",
      "disabled": true,
      "position": [
        780,
        80
      ],
      "webhookId": "5b3a4a4e-1359-4491-9c86-5885bdfb2b17",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "1d536da5-525b-4b5a-a53d-c5dd38e8fe05",
      "name": "Redis1",
      "type": "n8n-nodes-base.redis",
      "position": [
        920,
        80
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "c973dcf7-c181-4260-a1e0-9a0a98467ff0",
      "name": "If",
      "type": "n8n-nodes-base.if",
      "position": [
        1080,
        80
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "99736c78-e846-48be-a73e-aff07a46849c",
      "name": "No Operation, do nothing",
      "type": "n8n-nodes-base.noOp",
      "position": [
        1240,
        160
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "3436da18-65f6-491e-9c40-11813d2c312a",
      "name": "Edit Fields1",
      "type": "n8n-nodes-base.set",
      "position": [
        1240,
        -20
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "20aff456-6662-45a8-ad83-fee1d9420b37",
      "name": "Redis2",
      "type": "n8n-nodes-base.redis",
      "position": [
        1400,
        -20
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "334bf0d7-4880-46d8-af73-1130a5e795f4",
      "name": "Convert to File",
      "type": "n8n-nodes-base.convertToFile",
      "position": [
        -320,
        -140
      ],
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "2fab18d9-092c-48a2-87a8-3df29c9df3a8",
      "name": "Edit Fields",
      "type": "n8n-nodes-base.set",
      "position": [
        -460,
        -140
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "cd00b62b-4c22-4f48-8658-86175f2b9cd6",
      "name": "Convert to File1",
      "type": "n8n-nodes-base.convertToFile",
      "position": [
        -140,
        100
      ],
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "b93defa4-4fd6-4f70-bfb7-69b25a5bb260",
      "name": "Edit Fields3",
      "type": "n8n-nodes-base.set",
      "position": [
        -460,
        100
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "a1217a9b-98aa-47b5-9a4e-edd68544e930",
      "name": "Redis3",
      "type": "n8n-nodes-base.redis",
      "position": [
        360,
        -140
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "c54c2e10-885f-4c54-8dc1-50f600c39583",
      "name": "Redis4",
      "type": "n8n-nodes-base.redis",
      "position": [
        360,
        180
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "a551961a-fd39-4e23-9a72-0e55f14cd6ea",
      "name": "Redis5",
      "type": "n8n-nodes-base.redis",
      "position": [
        360,
        20
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "f28fd870-20e5-4e2a-b43e-8f78e4e0fcfb",
      "name": "Edit Fields4",
      "type": "n8n-nodes-base.set",
      "position": [
        -460,
        -320
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "cfb6027a-eb8b-4eaf-9c96-563ab8c65b11",
      "name": "OpenAI",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        -140,
        -140
      ],
      "parameters": {},
      "typeVersion": 1.6
    },
    {
      "id": "ee905e5f-fb95-4680-b8ae-d5fa89f08d35",
      "name": "OpenAI1",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        20,
        100
      ],
      "parameters": {},
      "typeVersion": 1.6
    },
    {
      "id": "380652b3-edb5-4a16-9326-8dbb54725caf",
      "name": "Switch1",
      "type": "n8n-nodes-base.switch",
      "position": [
        -660,
        -120
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "3475fc46-7cdc-4485-bde5-3c9d08d76fb1",
      "name": "Vari√°veis",
      "type": "n8n-nodes-base.set",
      "position": [
        -1800,
        80
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "52d9f043-8837-404f-9dea-0721f5b75842",
      "name": "Date & Time1",
      "type": "n8n-nodes-base.dateTime",
      "position": [
        -1680,
        80
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "412c2731-7279-4e6a-aa9a-e490a8516391",
      "name": "Switch Block1",
      "type": "n8n-nodes-base.switch",
      "position": [
        -2020,
        180
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "daa420f4-735c-4ffe-b517-ff986e562b4f",
      "name": "Switch5",
      "type": "n8n-nodes-base.switch",
      "position": [
        -2420,
        80
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "dae6e809-5710-4bfb-891f-3afe19186ac4",
      "name": "dados_para_atendimento_humano",
      "type": "n8n-nodes-base.set",
      "position": [
        -2580,
        80
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "5a5f6e48-40b0-4c58-bc77-1afda6387f1b",
      "name": "PARAR ISIS",
      "type": "n8n-nodes-base.redis",
      "position": [
        -2200,
        0
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "a9805750-bd97-442b-b920-259eba3b54b1",
      "name": "Verifica Atendimento Humano",
      "type": "n8n-nodes-base.redis",
      "position": [
        -2200,
        160
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "3909e206-9d92-4a62-a226-f4b36d01aa83",
      "name": "If4",
      "type": "n8n-nodes-base.if",
      "position": [
        180,
        100
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "4f56bb4f-c97b-4d0b-bce3-06d4818c20e1",
      "name": "Sticky Note22",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1540,
        -120
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "6e10ad2c-1a35-434e-8ac0-8e185d43fa56",
      "name": "Sticky Note23",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1520,
        -100
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "f4be3676-120b-49d9-a9fd-94b28d8589da",
      "name": "Supabase4",
      "type": "n8n-nodes-base.supabase",
      "position": [
        -1500,
        80
      ],
      "parameters": {},
      "typeVersion": 1,
      "alwaysOutputData": true
    },
    {
      "id": "d2cf8c8a-8264-41de-aee6-36af6e3eecbe",
      "name": "If5",
      "type": "n8n-nodes-base.if",
      "position": [
        -1340,
        80
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "674e7562-d7cb-4a4e-8014-254062705222",
      "name": "Gerar sessionID1",
      "type": "n8n-nodes-base.crypto",
      "position": [
        -1180,
        180
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "f39f18aa-cd63-47d5-ba1a-2cd28de1f8be",
      "name": "Supabase5",
      "type": "n8n-nodes-base.supabase",
      "position": [
        -1000,
        180
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "2d16d110-71b2-4af8-ab91-894954cb739b",
      "name": "Code3",
      "type": "n8n-nodes-base.code",
      "position": [
        -840,
        60
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "9fdbb017-e88b-4827-b12c-6467f1101934",
      "name": "N8N Labz YT1",
      "type": "n8n-nodes-base.supabase",
      "position": [
        -1100,
        20
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "64e690b7-af5c-4db2-ae7d-41cd69f65da5",
      "name": "Auth",
      "type": "n8n-nodes-base.if",
      "position": [
        -2760,
        100
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "c60ff4f1-c498-40dd-be87-0951e4172b2d",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -700,
        -440
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "64a31e51-bb86-4927-80bf-83ac85fe8397",
      "name": "Sticky Note24",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -680,
        -420
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "1b64a797-9d21-4808-8c88-17b600417fd8",
      "name": "Sticky Note25",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2800,
        -120
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "a7b235ff-6785-410d-9e7e-618aaf07e21a",
      "name": "Sticky Note26",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2780,
        -100
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "635f20c4-67ae-4a40-ab18-52b5efeea3bf",
      "name": "Sticky Note27",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1820,
        -120
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "822550bf-892a-4c09-897b-f91ea909806e",
      "name": "Sticky Note28",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1740,
        -100
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "66cf2bcb-58cc-4bb7-9293-343b1c61e7ed",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        660,
        -140
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "21699f96-21e3-4c44-93e2-e516155e7522",
      "name": "Sticky Note29",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        680,
        -120
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "0faefbcf-98fe-45a2-b120-b41fdcbdb289",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1700,
        -140
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "ce3427ae-c198-43a1-b9a0-14b9f6fa06cb",
      "name": "Sticky Note30",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1720,
        -120
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "4836a0e7-1d08-4fbf-89f8-b777886a0d90",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1860,
        360
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "4297a767-7032-483a-aa39-4e7b47f01d8e",
      "name": "Sticky Note31",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1880,
        520
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "15df4a04-9258-43ef-87a8-eee95ae6caf4",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2100,
        360
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "12faccf8-7cdd-4dd2-8479-9bf67f774e58",
      "name": "Sticky Note32",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2120,
        560
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "452d22a8-0753-4a8c-a717-3b63b22e5ac1",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2340,
        360
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "3626dffb-5efd-4bc4-b7c9-25f37fd69bc3",
      "name": "Sticky Note41",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2680,
        560
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "a5f4de34-f40f-4b7e-b563-60cdd9b4f68f",
      "name": "busca_documentos",
      "type": "@n8n/n8n-nodes-langchain.toolVectorStore",
      "position": [
        2220,
        720
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "2391e982-b934-41d1-bf3c-51a110ea344a",
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2080,
        680
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "6140890b-c948-43f9-b0a4-da0d1b2e64ee",
      "name": "Sticky Note42",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2100,
        1160
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "640a311b-df3c-4e67-a22e-e51478cfb287",
      "name": "Download File",
      "type": "n8n-nodes-base.googleDrive",
      "position": [
        520,
        660
      ],
      "parameters": {},
      "executeOnce": true,
      "typeVersion": 3
    },
    {
      "id": "bfba425c-75b9-4d83-b444-35ffd2c57fcb",
      "name": "File Created",
      "type": "n8n-nodes-base.googleDriveTrigger",
      "position": [
        -380,
        600
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "78f41610-1e87-4894-a811-713e5f5f4c55",
      "name": "File Updated",
      "type": "n8n-nodes-base.googleDriveTrigger",
      "position": [
        -380,
        780
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "db684951-cb6c-400b-81f9-ee7891b28fb3",
      "name": "Extract Document Text",
      "type": "n8n-nodes-base.extractFromFile",
      "position": [
        1100,
        860
      ],
      "parameters": {},
      "typeVersion": 1,
      "alwaysOutputData": true
    },
    {
      "id": "faf395f6-2524-4822-a32b-95e4d42b3e70",
      "name": "Delete Old Doc Rows",
      "type": "n8n-nodes-base.supabase",
      "position": [
        -20,
        640
      ],
      "parameters": {},
      "typeVersion": 1,
      "alwaysOutputData": true
    },
    {
      "id": "3362d96c-b259-4b58-a9b9-f5aceb698b29",
      "name": "Set File ID",
      "type": "n8n-nodes-base.set",
      "position": [
        -180,
        640
      ],
      "parameters": {},
      "typeVersion": 3.4
    },
    {
      "id": "70ef61da-305a-426b-9388-a65874556d20",
      "name": "Extract PDF Text",
      "type": "n8n-nodes-base.extractFromFile",
      "position": [
        1100,
        480
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "d475e9ae-ca25-4e89-a3a8-140982fb19dd",
      "name": "Character Text Splitter",
      "type": "@n8n/n8n-nodes-langchain.textSplitterCharacterTextSplitter",
      "position": [
        1640,
        1020
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "818a7d6a-da34-4c37-8fae-fe7a44e35d2a",
      "name": "Summarize",
      "type": "n8n-nodes-base.summarize",
      "position": [
        1400,
        660
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "76863877-59d0-4793-8714-5da671c6aa5f",
      "name": "Switch",
      "type": "n8n-nodes-base.switch",
      "position": [
        700,
        660
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "18cc9b0a-3be7-4f81-bed5-d2c3961a72c7",
      "name": "Insert into Supabase Vectorstore",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "position": [
        1520,
        660
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "2baa889a-791b-4a8c-af2f-9b97a00831b1",
      "name": "Extract from Excel",
      "type": "n8n-nodes-base.extractFromFile",
      "position": [
        1100,
        660
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "d079a272-15c3-40be-a14c-bfbcfcebac88",
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -440,
        1060
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "dbbf888c-7269-48a4-b273-ebe495811c21",
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -420,
        500
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "234eb081-b085-4b9c-be81-8a250caaefc7",
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        300,
        640
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "32026f16-cad4-4664-96aa-3947e4a03e5d",
      "name": "Default Data Loader1",
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "position": [
        1560,
        880
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "ba5bf0c5-b052-40c7-ad67-4c386fd39ba7",
      "name": "Embeddings OpenAI2",
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "position": [
        1440,
        880
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "412c0620-5139-40f2-97b8-54b8012987e0",
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        80,
        380
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "f4e54815-3044-4df7-accd-c45d197c7041",
      "name": "Aggregate1",
      "type": "n8n-nodes-base.aggregate",
      "position": [
        1260,
        660
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "0636d7b7-f5b0-4690-ae61-5ba12b8a0425",
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -460,
        360
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "b6b3e4fc-74d8-4237-9865-8941ede1c1a5",
      "name": "Code",
      "type": "n8n-nodes-base.code",
      "position": [
        140,
        640
      ],
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "efa7542c-b63b-42b8-b507-4c44b1059a26",
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2800,
        360
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "ee58d245-4af4-4ef9-a1e5-5c11e582a3cf",
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2780,
        380
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "3349aed6-5328-4081-aef3-9a3476f5c394",
      "name": "Sticky Note13",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2960,
        -1080
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "02ca8430-be4f-443d-a723-4ab0e53e8781",
      "name": "Sticky Note14",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2960,
        -380
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "422daf6c-c5e3-4baf-8865-58d685182853",
      "name": "Sticky Note43",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2980,
        -360
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "3443037f-b25a-4dc4-9ee6-80f234389aa9",
      "name": "Sticky Note44",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2980,
        -1060
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "32ab18cf-7157-420f-a675-be71baf6f810",
      "name": "Sticky Note15",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2820,
        -40
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "a2371650-e634-46b4-8abb-497fb5a72af6",
      "name": "Sticky Note47",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2840,
        -20
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "b04c8b80-7af6-48c4-a06f-265e4a7307c8",
      "name": "Sticky Note16",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2100,
        -140
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "703cc2b2-b1ba-4155-bb15-3868027ff8ab",
      "name": "Sticky Note48",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2120,
        -120
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "89b00916-94b0-4cf8-86e8-25945a23d5b1",
      "name": "busca_cliente",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "position": [
        2400,
        420
      ],
      "parameters": {},
      "typeVersion": 1.3
    },
    {
      "id": "03b7874b-c8b9-4cdb-8411-a88f7566e21e",
      "name": "Calculadora",
      "type": "@n8n/n8n-nodes-langchain.toolCalculator",
      "position": [
        2540,
        420
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "423f3a9f-ad41-4cb9-b469-747440eaf210",
      "name": "busca_endereco",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "position": [
        2680,
        420
      ],
      "parameters": {},
      "typeVersion": 1.3
    },
    {
      "id": "21b40cdb-f7d9-4b08-88cb-f0a48dd76ce3",
      "name": "envia_comanda",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "position": [
        2860,
        420
      ],
      "parameters": {},
      "typeVersion": 1.3
    },
    {
      "id": "b8934199-e196-4506-999f-f742b73d5a2c",
      "name": "salvar_cliente",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "position": [
        3020,
        420
      ],
      "parameters": {},
      "typeVersion": 1.3
    },
    {
      "id": "cfaee824-8acf-42bf-ace5-84bdc983915b",
      "name": "Ativa Vector + Fun√ß√£o Busca + Cria tabela",
      "type": "n8n-nodes-base.postgres",
      "position": [
        -2040,
        -300
      ],
      "parameters": {},
      "typeVersion": 2.5
    },
    {
      "id": "ffbf8570-bf52-4229-b652-619882141321",
      "name": "Ativa Vector + Fun√ß√£o Busca + Cria tabela1",
      "type": "n8n-nodes-base.postgres",
      "position": [
        -2360,
        -320
      ],
      "parameters": {},
      "typeVersion": 2.5
    },
    {
      "id": "9deac731-4c0a-4156-808d-127affad21b9",
      "name": "input evolution",
      "type": "n8n-nodes-base.webhook",
      "position": [
        -2960,
        100
      ],
      "webhookId": "552b254f-bffd-4045-9db1-177aaa276430",
      "parameters": {},
      "typeVersion": 2
    },
    {
      "id": "ee69ecb7-6878-4fcf-a239-f9f3ce8f8946",
      "name": "Evolution API",
      "type": "n8n-nodes-evolution-api.evolutionApi",
      "position": [
        3080,
        -600
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "3ddfb6e6-67ea-4c31-a2a0-10194ebba275",
      "name": "If1",
      "type": "n8n-nodes-base.if",
      "position": [
        2820,
        -580
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "e0c77388-4cf8-4d60-bea6-71c193b849d2",
      "name": "Evolution API1",
      "type": "n8n-nodes-evolution-api.evolutionApi",
      "position": [
        -740,
        460
      ],
      "parameters": {},
      "typeVersion": 1
    }
  ],
  "active": false,
  "pinData": {
    "input evolution": [
      {
        "json": {
          "body": {
            "data": {
              "key": {
                "id": "3FC0306530A845204F7A",
                "fromMe": false,
                "remoteJid": "5511977748661@s.whatsapp.net"
              },
              "source": "unknown",
              "status": "DELIVERY_ACK",
              "message": {
                "conversation": "oi",
                "messageContextInfo": {
                  "deviceListMetadata": {
                    "senderKeyHash": "cGOxfdNA6yFzAg==",
                    "senderTimestamp": "1738332647",
                    "recipientKeyHash": "3z0ifNeZw7Ow/w==",
                    "recipientTimestamp": "1737861980"
                  },
                  "deviceListMetadataVersion": 2
                }
              },
              "pushName": "Fernando",
              "instanceId": "9d1ba425-01e4-4fb1-a1d6-062c473f5b04",
              "contextInfo": {
                "expiration": 0,
                "disappearingMode": {
                  "initiator": "CHANGED_IN_CHAT"
                },
                "ephemeralSettingTimestamp": "0"
              },
              "messageType": "conversation",
              "messageTimestamp": 1738360993
            },
            "event": "messages.upsert",
            "apikey": "9D7B4584BE7D-418F-894F-5F602256456A",
            "sender": "5519994419319@s.whatsapp.net",
            "instance": "n8nlabz",
            "date_time": "2025-01-31T19:03:13.482Z",
            "server_url": "https://evolution.n8nlabz.com.br",
            "destination": "https://webhook.n8nlabz.com.br/webhook/petshop"
          },
          "query": {},
          "params": {},
          "headers": {
            "host": "webhook.n8nlabz.com.br",
            "x-real-ip": "172.18.0.1",
            "user-agent": "axios/1.7.7",
            "content-type": "application/json",
            "content-length": "924",
            "accept-encoding": "gzip, compress, deflate, br",
            "x-forwarded-for": "172.18.0.1",
            "x-forwarded-host": "webhook.n8nlabz.com.br",
            "x-forwarded-port": "443",
            "x-forwarded-proto": "https",
            "x-forwarded-server": "40b51086eac8"
          },
          "webhookUrl": "https://webhook.n8nlabz.com.br/webhook/petshop",
          "executionMode": "production"
        }
      }
    ]
  },
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "c9623d84-4549-40f8-8c65-e4d95862a382",
  "connections": {
    "If": {
      "main": [
        [
          {
            "node": "Edit Fields1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If1": {
      "main": [
        [
          {
            "node": "Evolution API",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Parser  Chain",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If3": {
      "main": [
        [
          {
            "node": "AddChat-Supabase",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "UpdateChat-Supabase",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If4": {
      "main": [
        [
          {
            "node": "Redis5",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Redis4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If5": {
      "main": [
        [
          {
            "node": "N8N Labz YT1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Gerar sessionID1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Auth": {
      "main": [
        [
          {
            "node": "dados_para_atendimento_humano",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait": {
      "main": [
        [
          {
            "node": "Redis1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "1,2s1": {
      "main": [
        [
          {
            "node": "no.op",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code1": {
      "main": [
        [
          {
            "node": "Text Classifier",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code2": {
      "main": [
        [
          {
            "node": "ElevenLabsGenerateVoice",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code3": {
      "main": [
        [
          {
            "node": "Switch1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Redis": {
      "main": [
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait1": {
      "main": [
        [
          {
            "node": "DisableMessage-Supabase",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "no.op": {
      "main": [
        [
          {
            "node": "Loop Over Items3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Config": {
      "main": [
        [
          {
            "node": "Delivery AI",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge1": {
      "main": [
        [
          {
            "node": "CreateMessage-Supabase",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI": {
      "main": [
        [
          {
            "node": "Redis3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Redis1": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Redis2": {
      "main": [
        [
          {
            "node": "SetData",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Redis3": {
      "main": [
        [
          {
            "node": "Redis",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Redis4": {
      "main": [
        [
          {
            "node": "Redis",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Redis5": {
      "main": [
        [
          {
            "node": "Redis",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch": {
      "main": [
        [
          {
            "node": "Extract PDF Text",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Extract from Excel",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Extract Document Text",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI1": {
      "main": [
        [
          {
            "node": "If4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI3": {
      "ai_languageModel": [
        [
          {
            "node": "Parser  Chain",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "SetData": {
      "main": [
        [
          {
            "node": "Execute Workflow",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch1": {
      "main": [
        [
          {
            "node": "Edit Fields4",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields4",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch3": {
      "main": [
        [
          {
            "node": "If1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Code2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch5": {
      "main": [
        [
          {
            "node": "PARAR ISIS",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Verifica Atendimento Humano",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Supabase": {
      "main": [
        [
          {
            "node": "Wait1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Aggregate": {
      "main": [
        [
          {
            "node": "Code1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "FindPhone": {
      "main": [
        [
          {
            "node": "If3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "SetConfig": {
      "main": [
        [
          {
            "node": "Evolution API1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Summarize": {
      "main": [
        [
          {
            "node": "Insert into Supabase Vectorstore",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Supabase4": {
      "main": [
        [
          {
            "node": "If5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Supabase5": {
      "main": [
        [
          {
            "node": "Code3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Aggregate1": {
      "main": [
        [
          {
            "node": "Summarize",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Segmentos1": {
      "main": [
        [
          {
            "node": "Loop Over Items3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Vari√°veis": {
      "main": [
        [
          {
            "node": "Date & Time1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Calculadora": {
      "ai_tool": [
        [
          {
            "node": "Delivery AI",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Delivery AI": {
      "main": [
        [
          {
            "node": "Switch3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "Convert to File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set File ID": {
      "main": [
        [
          {
            "node": "Delete Old Doc Rows",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Date & Time1": {
      "main": [
        [
          {
            "node": "Supabase4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields1": {
      "main": [
        [
          {
            "node": "Redis2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields3": {
      "main": [
        [
          {
            "node": "Convert to File1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields4": {
      "main": [
        [
          {
            "node": "Redis",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "File Created": {
      "main": [
        [
          {
            "node": "Set File ID",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "File Updated": {
      "main": [
        [
          {
            "node": "Set File ID",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "N8N Labz YT1": {
      "main": [
        [
          {
            "node": "Code3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download File": {
      "main": [
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Evolution API": {
      "main": [
        []
      ]
    },
    "OutputParser1": {
      "ai_outputParser": [
        [
          {
            "node": "Parser  Chain",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Parser  Chain": {
      "main": [
        [
          {
            "node": "Segmentos1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch Block1": {
      "main": [
        [
          {
            "node": "Vari√°veis",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "busca_cliente": {
      "ai_tool": [
        [
          {
            "node": "Delivery AI",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "envia_comanda": {
      "ai_tool": [
        [
          {
            "node": "Delivery AI",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Evolution API2": {
      "main": [
        [
          {
            "node": "1,2s1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "busca_endereco": {
      "ai_tool": [
        [
          {
            "node": "Delivery AI",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "salvar_cliente": {
      "ai_tool": [
        [
          {
            "node": "Delivery AI",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain": {
      "main": [
        [
          {
            "node": "Supabase",
            "type": "main",
            "index": 0
          },
          {
            "node": "SetConfig",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Convert to File": {
      "main": [
        [
          {
            "node": "OpenAI",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [],
        [
          {
            "node": "Download File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Text Classifier": {
      "main": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Wait1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Wait1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "input evolution": {
      "main": [
        [
          {
            "node": "Auth",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AddChat-Supabase": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Convert to File1": {
      "main": [
        [
          {
            "node": "OpenAI1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Execute Workflow": {
      "main": [
        [
          {
            "node": "Config",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract PDF Text": {
      "main": [
        [
          {
            "node": "Insert into Supabase Vectorstore",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gerar sessionID1": {
      "main": [
        [
          {
            "node": "Supabase5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items1": {
      "main": [
        [],
        [
          {
            "node": "ListMessages-Supabase",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items3": {
      "main": [
        [],
        [
          {
            "node": "Evolution API2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "ListChats-Supabase",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "busca_documentos": {
      "ai_tool": [
        [
          {
            "node": "Delivery AI",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI": {
      "ai_embedding": [
        [
          {
            "node": "Supabase Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Delivery AI",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI2": {
      "ai_embedding": [
        [
          {
            "node": "Insert into Supabase Vectorstore",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Extract from Excel": {
      "main": [
        [
          {
            "node": "Aggregate1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ListChats-Supabase": {
      "main": [
        [
          {
            "node": "Loop Over Items1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "busca_documentos",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model2": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model3": {
      "ai_languageModel": [
        [
          {
            "node": "Text Classifier",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Delete Old Doc Rows": {
      "main": [
        [
          {
            "node": "Code",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "UpdateChat-Supabase": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Default Data Loader1": {
      "ai_document": [
        [
          {
            "node": "Insert into Supabase Vectorstore",
            "type": "ai_document",
            "index": 0
          }
        ]
      ]
    },
    "Postgres Chat Memory": {
      "ai_memory": [
        [
          {
            "node": "Delivery AI",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Extract Document Text": {
      "main": [
        [
          {
            "node": "Insert into Supabase Vectorstore",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ListMessages-Supabase": {
      "main": [
        [
          {
            "node": "Aggregate",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Supabase Vector Store": {
      "ai_vectorStore": [
        [
          {
            "node": "busca_documentos",
            "type": "ai_vectorStore",
            "index": 0
          }
        ]
      ]
    },
    "Character Text Splitter": {
      "ai_textSplitter": [
        [
          {
            "node": "Default Data Loader1",
            "type": "ai_textSplitter",
            "index": 0
          }
        ]
      ]
    },
    "DisableMessage-Supabase": {
      "main": [
        [
          {
            "node": "Loop Over Items1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ElevenLabsGenerateVoice": {
      "main": [
        [
          {
            "node": "Audio-Base64-Extract from File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Verifica Atendimento Humano": {
      "main": [
        [
          {
            "node": "Switch Block1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "dados_para_atendimento_humano": {
      "main": [
        [
          {
            "node": "Switch5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Audio-Base64-Extract from File": {
      "main": [
        [
          {
            "node": "Evolution API3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Insert into Supabase Vectorstore": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}