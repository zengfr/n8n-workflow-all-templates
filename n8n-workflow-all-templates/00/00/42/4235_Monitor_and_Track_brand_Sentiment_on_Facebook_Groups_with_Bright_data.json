{
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Monitor and Track brand Sentiment on Facebook Groups with Bright data",
    "wechat": "youandme10086",
    "id": 4235,
    "update_time": "2025-11-10"
  },
  "nodes": [
    {
      "id": "fe514019-3f38-47ae-9a3f-64eb77f2f3ca",
      "name": "facebook groups",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        680,
        -60
      ],
      "parameters": {
        "url": "https://api.brightdata.com/datasets/v3/trigger",
        "method": "POST",
        "options": {},
        "jsonBody": "={{ \n  $json.url.map(u => ({\n    url: u,\n    start_date: $now.format('yyyy-MM-dd'),\n    end_date: \"\"\n  }))\n}}",
        "sendBody": true,
        "sendQuery": true,
        "sendHeaders": true,
        "specifyBody": "json",
        "queryParameters": {
          "parameters": [
            {
              "name": "dataset_id",
              "value": "gd_lz11l67o2cb3r0lkj3"
            },
            {
              "name": "endpoint",
              "value": "={{ $('Set up KEYS').first().json.endpoint }}"
            },
            {
              "name": "format",
              "value": "json"
            },
            {
              "name": "uncompressed_webhook",
              "value": "true"
            },
            {
              "name": "include_errors",
              "value": "true"
            }
          ]
        },
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "=Bearer {{ $('Set up KEYS').first().json.API }}"
            }
          ]
        }
      },
      "typeVersion": 4.2
    },
    {
      "id": "5beb7eb8-c835-4a8e-a997-5bdae466e3ee",
      "name": "get progress",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        860,
        -60
      ],
      "parameters": {
        "url": "=https://api.brightdata.com/datasets/v3/progress/{{ $json.snapshot_id }}",
        "options": {},
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "=Bearer {{ $('Set up KEYS').first().json.API }}"
            }
          ]
        }
      },
      "typeVersion": 4.2
    },
    {
      "id": "72e4d325-19fb-45e1-a2f0-c125de4886b3",
      "name": "Switch",
      "type": "n8n-nodes-base.switch",
      "position": [
        1000,
        -60
      ],
      "parameters": {
        "rules": {
          "values": [
            {
              "outputKey": "ready",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "66155e3c-e3de-4f3f-9401-1e477bcc19d8",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "leftValue": "={{ $json.status }}",
                    "rightValue": "ready"
                  }
                ]
              },
              "renameOutput": true
            },
            {
              "outputKey": "running",
              "conditions": {
                "options": {
                  "version": 2,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "ac86d07d-dfa3-495d-bc5e-cf10dcbe3e82",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "leftValue": "={{ $json.status }}",
                    "rightValue": "running"
                  }
                ]
              },
              "renameOutput": true
            }
          ]
        },
        "options": {}
      },
      "typeVersion": 3.2
    },
    {
      "id": "4708eb72-1432-4519-97d8-fce6d85a4553",
      "name": "Wait",
      "type": "n8n-nodes-base.wait",
      "position": [
        1180,
        140
      ],
      "webhookId": "b4565427-d217-4157-92da-f38b9c7834b4",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "8d10b6fd-80b8-4038-ae96-7bc895241b4b",
      "name": "Get data",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        1180,
        -80
      ],
      "parameters": {
        "url": "=https://api.brightdata.com/datasets/v3/snapshot/{{ $json.snapshot_id }}",
        "options": {},
        "sendQuery": true,
        "sendHeaders": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "format",
              "value": "json"
            }
          ]
        },
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "=Bearer {{ $('Set up KEYS').first().json.API }}"
            }
          ]
        }
      },
      "typeVersion": 4.2
    },
    {
      "id": "589c7d42-15b0-4065-afdf-546e0740da01",
      "name": "Limit",
      "type": "n8n-nodes-base.limit",
      "position": [
        1340,
        -80
      ],
      "parameters": {
        "maxItems": 20
      },
      "typeVersion": 1
    },
    {
      "id": "94d1760a-197d-4fcb-912f-1f2218649859",
      "name": "Sentiment Analysis",
      "type": "@n8n/n8n-nodes-langchain.sentimentAnalysis",
      "position": [
        1640,
        -80
      ],
      "parameters": {
        "options": {
          "categories": "Positive, Negative, Neutral",
          "enableAutoFixing": true,
          "systemPromptTemplate": "You are highly intelligent and accurate sentiment analyzer. Analyze the sentiment of the provided text. Categorize it into one of the following: {categories}. Use the provided formatting instructions. Only output the JSON.",
          "includeDetailedResults": true
        },
        "inputText": "={{ $json.content }}"
      },
      "typeVersion": 1
    },
    {
      "id": "c66139b0-7113-43aa-9549-724f45bd6cc3",
      "name": "Filter brand name",
      "type": "n8n-nodes-base.filter",
      "position": [
        1480,
        -80
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "or",
          "conditions": [
            {
              "id": "ddc26838-8e02-4aeb-8bd6-02e854cb0455",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              },
              "leftValue": "={{ \n  $('Aggregate brand names').first().json['Brand names'].some(\n    b => $json.content.toLowerCase().includes(b.toLowerCase())\n  )\n}}",
              "rightValue": "={{ $('Aggregate brand names').first().json['Brand names'] }}"
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "a57b4efe-75ff-48b4-a57f-58908bce7096",
      "name": "OpenRouter Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "position": [
        1660,
        180
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "openRouterApi": {
          "id": "DjsDsrPkJRSfqINF",
          "name": "OpenRouter account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "eb2a9998-6b7e-4240-82bb-5672c6204142",
      "name": "Merge",
      "type": "n8n-nodes-base.merge",
      "position": [
        1960,
        -80
      ],
      "parameters": {
        "numberInputs": 3
      },
      "typeVersion": 3.1
    },
    {
      "id": "1f234f27-e474-4e46-b09d-48b279568ba3",
      "name": "Set up KEYS",
      "type": "n8n-nodes-base.set",
      "position": [
        -160,
        -60
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "7ba2241b-3a1f-42d7-9770-2ed7a3f13a67",
              "name": "endpoint",
              "type": "string",
              "value": "={your POST webhook url}"
            },
            {
              "id": "7b78e955-2f02-47f0-9903-fa0f27c3e43e",
              "name": "API",
              "type": "string",
              "value": "={brightdata api}"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "3b405223-0e8b-45fd-a3de-c7f1956c1a1e",
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        -340,
        -60
      ],
      "parameters": {
        "rule": {
          "interval": [
            {
              "triggerAtHour": 9
            }
          ]
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "b5158aa4-112d-4443-9b3f-c4a82d62788e",
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "position": [
        1320,
        -260
      ],
      "parameters": {
        "options": {},
        "fieldToSplitOut": "url"
      },
      "typeVersion": 1
    },
    {
      "id": "f13b255c-5d25-4eac-bc7e-e8948d0490d6",
      "name": "set urls",
      "type": "n8n-nodes-base.set",
      "position": [
        1160,
        -260
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "17d32287-0140-4cec-9132-1d3bec34de32",
              "name": "url",
              "type": "array",
              "value": "={{ $('Aggregate group links').first().json.url }}"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "cfc4f837-f4dc-471e-9958-f47375eebfeb",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        500,
        -500
      ],
      "parameters": {
        "width": 380,
        "height": 280,
        "content": "## Social Media Sentiment Analysis Pipeline\n\nThis workflow keeps track of our brand mentions across different groups and provides an analysis of  the posts as positive, negative or neutral \n\nMake a copy of this [Google sheet](https://docs.google.com/spreadsheets/d/1TXF_xLPF7XJJakoWB5Ix-tTduvX3GRxocJcp6DA-U_A/edit?usp=sharing) to get started easily"
      },
      "typeVersion": 1
    },
    {
      "id": "08fa5532-7c45-4449-a5c6-99abe0daef25",
      "name": "Information Extractor",
      "type": "@n8n/n8n-nodes-langchain.informationExtractor",
      "position": [
        2140,
        -80
      ],
      "parameters": {
        "text": "={{ $json.content }}",
        "options": {
          "systemPromptTemplate": "=Summarize the post and understand what they are asking about our brand name {{ $('Set up KEYS').first().json['brand name'] }}\n\nYour task is to\n\n- Provide insights on what the user is asking\nIdentify the segment\n- Suggest a posible category for the post eg Technical Support, Bug, Missing features, Goog review, etc to align with what the users are talking about"
        },
        "schemaType": "fromJson",
        "jsonSchemaExample": "{\n\t\"Insight\": \"\",\n    \"Sentiment\": \"\",\n    \"Category\": \"\"\n}"
      },
      "typeVersion": 1
    },
    {
      "id": "7de252d0-d8cb-4b4e-adb7-619e783c8534",
      "name": "OpenRouter Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "position": [
        2180,
        120
      ],
      "parameters": {
        "options": {}
      },
      "credentials": {
        "openRouterApi": {
          "id": "DjsDsrPkJRSfqINF",
          "name": "OpenRouter account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "4f37699e-806f-4a84-8780-c8792992960f",
      "name": "pull group results",
      "type": "n8n-nodes-base.set",
      "position": [
        2460,
        -80
      ],
      "parameters": {
        "mode": "raw",
        "options": {},
        "jsonOutput": "={{ $('Filter brand name').item.json}}"
      },
      "typeVersion": 3.4
    },
    {
      "id": "3bc5d96e-0dc1-4e44-9229-a25dd43ae12c",
      "name": "insights and sentiments",
      "type": "n8n-nodes-base.set",
      "position": [
        2640,
        -80
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "d0716947-0432-47f6-a389-a10fe832f9a1",
              "name": "url",
              "type": "string",
              "value": "={{ $json.url }}"
            },
            {
              "id": "c7002730-73ef-44b7-b5c6-635f09baafab",
              "name": "post_id",
              "type": "string",
              "value": "={{ $json.post_id }}"
            },
            {
              "id": "fe133603-776c-4c8f-bab4-4d184051d26c",
              "name": "user_url",
              "type": "string",
              "value": "={{ $json.user_url }}"
            },
            {
              "id": "fc375461-c19f-406f-9cb1-a2928835643c",
              "name": "user_username_raw",
              "type": "string",
              "value": "={{ $json.user_username_raw }}"
            },
            {
              "id": "0361d704-a24e-4337-94b6-5d5af8715d6f",
              "name": "content",
              "type": "string",
              "value": "={{ $json.content }}"
            },
            {
              "id": "b8e1e54e-b15f-4d79-af56-5514127cc4cb",
              "name": "date_posted",
              "type": "string",
              "value": "={{ $json.date_posted }}"
            },
            {
              "id": "877d3101-d16b-40c8-bb74-f46e86a87b85",
              "name": "hashtags",
              "type": "array",
              "value": "={{ $json.hashtags }}"
            },
            {
              "id": "f1db3944-e03e-4273-98a5-078f597a6da1",
              "name": "num_comments",
              "type": "number",
              "value": "={{ $json.num_comments }}"
            },
            {
              "id": "bf02b664-37bf-41a6-9492-b2399ebed1f1",
              "name": "num_shares",
              "type": "number",
              "value": "={{ $json.num_shares }}"
            },
            {
              "id": "892177fe-da75-42b3-bbeb-4df2d0aac35d",
              "name": "group_name",
              "type": "string",
              "value": "={{ $json.group_name }}"
            },
            {
              "id": "58f57e5e-7a1f-4598-895a-123506fb08af",
              "name": "group_id",
              "type": "string",
              "value": "={{ $json.group_id }}"
            },
            {
              "id": "6255a67f-e4e4-44e0-b4f1-0db5298d45fa",
              "name": "group_url",
              "type": "string",
              "value": "={{ $json.group_url }}"
            },
            {
              "id": "9c754a19-d051-4884-831d-45b9763c43fe",
              "name": "group_members",
              "type": "number",
              "value": "={{ $json.group_members }}"
            },
            {
              "id": "f0a352c9-6dbe-480e-aaf5-eeac342a8774",
              "name": "post_image",
              "type": "string",
              "value": "={{ $json.post_image }}"
            },
            {
              "id": "0995058f-fa2f-4111-b8c7-e7d8bbcd3a8a",
              "name": "confidence",
              "type": "number",
              "value": "={{ $('Merge').item.json.confidence }}"
            },
            {
              "id": "8aa35ee1-e957-4270-a939-63504564e78c",
              "name": "sentimentAnalysis",
              "type": "string",
              "value": "={{ $('Merge').item.json.sentimentAnalysis }}"
            },
            {
              "id": "527c9c2e-f346-4666-878c-235ed6b7570c",
              "name": "Insight",
              "type": "string",
              "value": "={{ $('Information Extractor').item.json.output.Insight }}"
            },
            {
              "id": "f5b9639f-257d-4209-9066-17095093ebe7",
              "name": "Sentiment",
              "type": "string",
              "value": "={{ $('Information Extractor').item.json.output.Sentiment }}"
            },
            {
              "id": "03dea790-0998-49ec-8710-c2acf7848b23",
              "name": "Category",
              "type": "string",
              "value": "={{ $('Information Extractor').item.json.output.Category }}"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "5fa75597-8ad5-4804-a9f8-9c519afcb70a",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        300,
        -120
      ],
      "parameters": {
        "color": 6,
        "width": 300,
        "height": 240,
        "content": "- 2.Get the links for the facebook groups we want to monitor"
      },
      "typeVersion": 1
    },
    {
      "id": "47b7dd9f-6734-4701-a4ad-66b9dfc7be1a",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        620,
        -120
      ],
      "parameters": {
        "color": 4,
        "width": 360,
        "height": 240,
        "content": "- 3.Scrap with Bright Data API to get posts from the group and get progress"
      },
      "typeVersion": 1
    },
    {
      "id": "fe891d81-95c6-4937-b4df-0bb73fc370d6",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1140,
        100
      ],
      "parameters": {
        "color": 3,
        "width": 220,
        "content": "4.Wait for a few seconds if still running"
      },
      "typeVersion": 1
    },
    {
      "id": "af2b3124-e27e-4e2f-ab11-39e2b94d8b0e",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1140,
        -340
      ],
      "parameters": {
        "color": 5,
        "width": 460,
        "height": 420,
        "content": "5.Get results from the GROUPS and update the urls scraped\n\n6.Next we filter our our brand name from all these posts"
      },
      "typeVersion": 1
    },
    {
      "id": "cc98cd10-a402-4e0a-a717-69629304bfef",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1620,
        -140
      ],
      "parameters": {
        "width": 480,
        "height": 200,
        "content": "7.We do a sentiment analysis to understand the posts and how our users are feeling"
      },
      "typeVersion": 1
    },
    {
      "id": "609ed303-5049-487b-b746-0fd16475ab2a",
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2120,
        -120
      ],
      "parameters": {
        "color": 2,
        "width": 300,
        "height": 200,
        "content": "8.Extract the information from The post ie the summary, Category and Insights"
      },
      "typeVersion": 1
    },
    {
      "id": "19c2a27c-ee58-4dc6-8378-cb6f700f92e0",
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -200,
        -140
      ],
      "parameters": {
        "color": 7,
        "width": 170,
        "height": 260,
        "content": "1. Set your bright data API and webhook endpoint to receive the results"
      },
      "typeVersion": 1
    },
    {
      "id": "08746958-4785-41ef-9c16-fab76ef9c06f",
      "name": "Get Brand names",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        0,
        -60
      ],
      "parameters": {
        "options": {},
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 2091976134,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TXF_xLPF7XJJakoWB5Ix-tTduvX3GRxocJcp6DA-U_A/edit#gid=2091976134",
          "cachedResultName": "Brand Name"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1TXF_xLPF7XJJakoWB5Ix-tTduvX3GRxocJcp6DA-U_A",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TXF_xLPF7XJJakoWB5Ix-tTduvX3GRxocJcp6DA-U_A/edit?usp=drivesdk",
          "cachedResultName": "Facebook Groups research"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ZAI2a6Qt80kX5a9s",
          "name": "Google Sheets account✅ "
        }
      },
      "retryOnFail": true,
      "typeVersion": 4.5
    },
    {
      "id": "b2d8f50e-f0a4-44b0-9003-3a698c5ee47e",
      "name": "Aggregate brand names",
      "type": "n8n-nodes-base.aggregate",
      "position": [
        160,
        -60
      ],
      "parameters": {
        "options": {},
        "fieldsToAggregate": {
          "fieldToAggregate": [
            {
              "fieldToAggregate": "Brand names"
            }
          ]
        }
      },
      "typeVersion": 1
    },
    {
      "id": "0e07b599-a8c1-4403-ab52-3c0797ed18fb",
      "name": "Aggregate group links",
      "type": "n8n-nodes-base.aggregate",
      "position": [
        480,
        -60
      ],
      "parameters": {
        "options": {},
        "fieldsToAggregate": {
          "fieldToAggregate": [
            {
              "fieldToAggregate": "url"
            }
          ]
        }
      },
      "typeVersion": 1
    },
    {
      "id": "9e34b53c-d2a5-4bf6-a61b-4002c0415e17",
      "name": "Get links",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        320,
        -60
      ],
      "parameters": {
        "options": {},
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 1190188291,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TXF_xLPF7XJJakoWB5Ix-tTduvX3GRxocJcp6DA-U_A/edit#gid=1190188291",
          "cachedResultName": "Facebook group Links"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1TXF_xLPF7XJJakoWB5Ix-tTduvX3GRxocJcp6DA-U_A",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TXF_xLPF7XJJakoWB5Ix-tTduvX3GRxocJcp6DA-U_A/edit?usp=drivesdk",
          "cachedResultName": "Facebook Groups research"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ZAI2a6Qt80kX5a9s",
          "name": "Google Sheets account✅ "
        }
      },
      "typeVersion": 4.5
    },
    {
      "id": "11539ebf-7743-4d28-a437-e5bf48aea99d",
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2440,
        -120
      ],
      "parameters": {
        "color": 4,
        "width": 560,
        "height": 200,
        "content": "9.Format and update your results to Google Sheets for further analysis"
      },
      "typeVersion": 1
    },
    {
      "id": "aa27a538-446e-49b9-8da6-58bd7aaa77f7",
      "name": "Receive results",
      "type": "n8n-nodes-base.webhook",
      "position": [
        -300,
        -400
      ],
      "webhookId": "ca835c61-fa01-4cd5-8919-2d3b0e62ac5a",
      "parameters": {
        "path": "ca835c61-fa01-4cd5-8919-2d3b0e62ac5a",
        "options": {},
        "httpMethod": "POST"
      },
      "typeVersion": 2
    },
    {
      "id": "470b19a5-4df3-4566-81f0-49f819659a1b",
      "name": "update last Scrap",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        1480,
        -260
      ],
      "parameters": {
        "columns": {
          "value": {
            "url": "={{ $json.url }}",
            "last Scraped": "={{ $now.format('yyyy-MM-dd t') }}"
          },
          "schema": [
            {
              "id": "url",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Group Neme",
              "type": "string",
              "display": true,
              "removed": true,
              "required": false,
              "displayName": "Group Neme",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "last Scraped",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "last Scraped",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "type": "string",
              "display": true,
              "removed": true,
              "readOnly": true,
              "required": false,
              "displayName": "row_number",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "url"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "update",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 1190188291,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TXF_xLPF7XJJakoWB5Ix-tTduvX3GRxocJcp6DA-U_A/edit#gid=1190188291",
          "cachedResultName": "Facebook group Links"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1TXF_xLPF7XJJakoWB5Ix-tTduvX3GRxocJcp6DA-U_A",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TXF_xLPF7XJJakoWB5Ix-tTduvX3GRxocJcp6DA-U_A/edit?usp=drivesdk",
          "cachedResultName": "Facebook Groups research"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ZAI2a6Qt80kX5a9s",
          "name": "Google Sheets account✅ "
        }
      },
      "typeVersion": 4.5
    },
    {
      "id": "089fcff0-f34b-48e1-aebf-9b44344e3e7a",
      "name": "Update sentiments",
      "type": "n8n-nodes-base.googleSheets",
      "onError": "continueRegularOutput",
      "position": [
        2820,
        -80
      ],
      "parameters": {
        "columns": {
          "value": {},
          "schema": [
            {
              "id": "url",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "post_id",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "post_id",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "user_url",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "user_url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "user_username_raw",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "user_username_raw",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "content",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "content",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "date_posted",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "date_posted",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "hashtags",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "hashtags",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "num_comments",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "num_comments",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "num_shares",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "num_shares",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "group_name",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "group_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "group_id",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "group_id",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "group_url",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "group_url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "group_members",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "group_members",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "post_image",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "post_image",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sentimentAnalysis",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "sentimentAnalysis",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "confidence",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "confidence",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Insight",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Insight",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Sentiment",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Sentiment",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Category",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "autoMapInputData",
          "matchingColumns": [
            "post_id"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "appendOrUpdate",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": "gid=0",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TXF_xLPF7XJJakoWB5Ix-tTduvX3GRxocJcp6DA-U_A/edit#gid=0",
          "cachedResultName": "Groups"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1TXF_xLPF7XJJakoWB5Ix-tTduvX3GRxocJcp6DA-U_A",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TXF_xLPF7XJJakoWB5Ix-tTduvX3GRxocJcp6DA-U_A/edit?usp=drivesdk",
          "cachedResultName": "Facebook Groups research"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ZAI2a6Qt80kX5a9s",
          "name": "Google Sheets account✅ "
        }
      },
      "typeVersion": 4.5
    },
    {
      "id": "5c8153b5-a24f-4897-ba0e-78b75f110ca0",
      "name": "Split Out1",
      "type": "n8n-nodes-base.splitOut",
      "position": [
        -140,
        -400
      ],
      "parameters": {
        "options": {},
        "fieldToSplitOut": "body"
      },
      "typeVersion": 1
    },
    {
      "id": "126a57ac-5754-4732-8254-ba6b40f532b9",
      "name": "Get Brand names1",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        40,
        -400
      ],
      "parameters": {
        "columns": {
          "value": {},
          "schema": [],
          "mappingMode": "autoMapInputData",
          "matchingColumns": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "append",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": 2110363951,
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TXF_xLPF7XJJakoWB5Ix-tTduvX3GRxocJcp6DA-U_A/edit#gid=2110363951",
          "cachedResultName": "All POSTS"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1TXF_xLPF7XJJakoWB5Ix-tTduvX3GRxocJcp6DA-U_A",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TXF_xLPF7XJJakoWB5Ix-tTduvX3GRxocJcp6DA-U_A/edit?usp=drivesdk",
          "cachedResultName": "Facebook Groups research"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ZAI2a6Qt80kX5a9s",
          "name": "Google Sheets account✅ "
        }
      },
      "retryOnFail": true,
      "typeVersion": 4.5
    },
    {
      "id": "8c8ce74c-ac51-4b31-a746-b3e346d8038a",
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -360,
        -440
      ],
      "parameters": {
        "width": 660,
        "height": 200,
        "content": "Receives the results from the Facebook group scrap and stores all the results to Google sheets"
      },
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "Wait": {
      "main": [
        [
          {
            "node": "get progress",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Limit": {
      "main": [
        [
          {
            "node": "Filter brand name",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Information Extractor",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch": {
      "main": [
        [
          {
            "node": "Get data",
            "type": "main",
            "index": 0
          },
          {
            "node": "set urls",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get data": {
      "main": [
        [
          {
            "node": "Limit",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "set urls": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get links": {
      "main": [
        [
          {
            "node": "Aggregate group links",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "update last Scrap",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out1": {
      "main": [
        [
          {
            "node": "store posts",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set up KEYS": {
      "main": [
        [
          {
            "node": "Get Brand names",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "get progress": {
      "main": [
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Brand names": {
      "main": [
        [
          {
            "node": "Aggregate brand names",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Receive results": {
      "main": [
        [
          {
            "node": "Split Out1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "facebook groups": {
      "main": [
        [
          {
            "node": "get progress",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Set up KEYS",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter brand name": {
      "main": [
        [
          {
            "node": "Sentiment Analysis",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Sentiment Analysis": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ],
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "pull group results": {
      "main": [
        [
          {
            "node": "insights and sentiments",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Aggregate brand names": {
      "main": [
        [
          {
            "node": "Get links",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Aggregate group links": {
      "main": [
        [
          {
            "node": "facebook groups",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Information Extractor": {
      "main": [
        [
          {
            "node": "pull group results",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Sentiment Analysis",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Information Extractor",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "insights and sentiments": {
      "main": [
        [
          {
            "node": "Update sentiments",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}