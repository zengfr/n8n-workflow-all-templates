{
  "id": "OyRo5bnUHukxEHrJ",
  "meta": {
    "site": "https://github.com/zengfr/n8n-workflow-all-templates",
    "name": "Generate Sales Leads & Personalized Outreach Emails using Jina AI and OpenAI Agents",
    "wechat": "youandme10086",
    "id": 6649,
    "update_time": "2025-11-10"
  },
  "name": "Sale_Leads_1",
  "tags": [
    {
      "id": "fouVh2Y0OYqejpLm",
      "name": "Template_shared",
      "createdAt": "2025-07-29T14:31:26.567Z",
      "updatedAt": "2025-07-29T14:31:26.567Z"
    }
  ],
  "nodes": [
    {
      "id": "e69ffce4-1341-484d-8720-75b7dc1fcd93",
      "name": "When clicking \"Test workflow\"",
      "type": "n8n-nodes-base.manualTrigger",
      "position": [
        240,
        240
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "f6b5b0f4-0d51-4bda-90fb-59553593921a",
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        1264,
        240
      ],
      "parameters": {
        "options": {
          "reset": false
        }
      },
      "typeVersion": 3
    },
    {
      "id": "ec7256ed-57b8-48a5-82ad-9eb0e58c0c56",
      "name": "Lead Person Research",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        1632,
        416
      ],
      "parameters": {
        "url": "https://deepsearch.jina.ai/v1/chat/completions",
        "method": "POST",
        "options": {
          "timeout": 240000
        },
        "jsonBody": "={\n  \"model\": \"jina-deepsearch-v1\",\n  \"messages\": [\n    {\n      \"role\": \"user\",\n      \"content\": \"I'm looking to find sale leads.\\nI need to find the decision maker for the business. In some small business it could be the owner, a director, a manager, etc... Maybe you could perform a Google search, investigate the business website or even the LinkedIn profiles connected to the business.\\nThe business is:\\n<business>\\nBusiness_Name: {{ $json.Company_name }}\\nWebsite: {{ $json.Company_website }}\\n</business>\\n\\nThe informations I'm looking about the sale lead person is:\\n<informations>\\nLead_Name, role, email and a quick summary of the person\\n</informations>\\nImportant: Do not hallucinate, don't make things up, if you don't find a information, just left the answer null.\"\n    }\n  ],\n  \"stream\": false,\n  \"reasoning_effort\": \"low\"\n}",
        "sendBody": true,
        "sendHeaders": true,
        "specifyBody": "json",
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "=Bearer {{ $('Jina_API_Key').item.json.jina_api }}"
            }
          ]
        }
      },
      "typeVersion": 4.2
    },
    {
      "id": "a50e2069-3674-4d88-ae94-b5235484f291",
      "name": "Lead Analyzer",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        2112,
        368
      ],
      "parameters": {
        "text": "=# Goal: Your goal is to identify the best Lead contact to send a marketing email about our business: {{ $('Business_Info').item.json.BUSINESS_NAME }}.\n\n# Description: Use the deep_research about the Leads, analyze what I found and identify the best lead to send the marketing email.\n<deep_research>\n{{ $json.choices[0].message.content }}\n</deep_research>\n\nAlso, this is the Lead Company informations:\n<info>\ncompany_name: {{ $json.Company_name }}\naddress: {{ $json.Address }}\ncompany_email: {{ $json['Company_e-mail'] }}\n</info>\n\nThe expected_output should be in JSON with those informations:\nlead_name, lead_email, company_name, summary_of_your_though\n\nImportant: \n1. If you couldn't identify a lead in the deep_research information or if you think the lead isn't a good fit for our propose, use the company_name \"{{ $json.Company_name }}\" as lead_name.\n2. If the deep_research didn't find the lead_email, use the company_email \"{{ $json['Company_e-mail'] }}\" as lead_email.\n3. Add in your output a summary of your decision on the field summary_of_your_though.",
        "options": {
          "maxIterations": 4,
          "systemMessage": "=# Role: You are a Lead Generation Specialist.\n\n# Instructions: I'll provide you with a Business information (company_name, website and company_email) and a deep_research about the avaliable leads.\n\n# Rules:\n- Reduce hallucination. Don't make things up, just use the information you have.\n\nAdditional_Context: \n- Today is: {{ $now }}\n"
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 1.6
    },
    {
      "id": "f6b92eda-6a74-41da-90f7-ade8ca4361ca",
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        2304,
        592
      ],
      "parameters": {
        "jsonSchemaExample": "{\n\t\"company_name\": \"\",\n  \t\"lead_email\": \"\",\n  \t\"lead_name\": \"\",\n    \"summary_of_your_though\": \"\"\n}"
      },
      "typeVersion": 1.2
    },
    {
      "id": "2e8f146f-efa7-4d17-ad79-10c9a5dddf57",
      "name": "Structured Output Parser3",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        2960,
        608
      ],
      "parameters": {
        "jsonSchemaExample": "{\n\t\"contact_name\": \"\",\n    \"contact_email\": \"\",\n    \"email_subject\": \"\",\n  \t\"email_wrote\": \"\",\n  \t\"your_summary\": \"\"\n}"
      },
      "typeVersion": 1.2
    },
    {
      "id": "27ecf1ea-bec6-463e-a2b8-ef46d7942f36",
      "name": "Email Content Creator",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        2768,
        368
      ],
      "parameters": {
        "text": "=# Goal: Create a marketing email, introducing {{ $('Business_Info').item.json.BUSINESS_NAME }} to our leads.\nThe email should be professional yet friendly, persuasive but not overly aggressive, and concise while engaging.\n\nAlso, generate a subject for the email.\n\n**Target Audience:**  \nOur main target audience are {{ $('Business_Info').item.json.LEAD_TARGET_AUDIENCE }} and the contact person:\n<lead_info>\ncompany_name: {{ $json.output.company_name }}\nlead_name: {{ $json.output.lead_name }}\nlead_email: {{ $json.output.lead_email }}\nlead_summary: {{ $json.output.summary_of_your_though }}\n</lead_info>\n\n**Our Key Benefits to Highlight:**  \n<key_benefits>\n{{ $('Business_Info').item.json.OUR_BUSINESS_KEY_BENEFITS }}\n</key_benefits>\n\n**Call to Action:**  \nEncourage the reader to check our web. Use a compelling closing statement and include the Landing Page link: {{ $('Business_Info').item.json.LANDING_PAGE_URL }}.\n\nUse the our_business_info as source of the information about our business.",
        "options": {
          "systemMessage": "=# Role: You are a email Content Creator Specialist.\n\n# Instructions:\nEnsure the email follows this structure:  \n1. **Attention-Grabbing Subject Line**  \n2. **Engaging Opening Paragraph**  \n3. **Key Benefits & Unique Selling Points**  \n4. **Strong Call-to-Action**\n5. **Closing Statement with Contact Info and option to schedule a demo**\n\n# Rules:\n- Reduce hallucination. Don't make things up, just use the information you have.\n- Create a finished email, do not add any field to be complete later like [your name], [phone], etc...\n\nAdditional_Context:\n- Today is: {{ $now }}\n- Our Business Info:\n<our_business_info>\n{{ $('Business_Info').item.json.OUR_BUSINESS_INFORMATION }}\n</our_business_info>\n"
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 1.7
    },
    {
      "id": "f6c875f7-b5a9-4558-af50-f2ac6834b6fd",
      "name": "Evaluator",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        3232,
        368
      ],
      "parameters": {
        "text": "=# Evaluation Request\n\nPlease evaluate the following marketing email created for our company {{ $('Business_Info').item.json.BUSINESS_NAME }} targeting {{ $('Business_Info').item.json.LEAD_TARGET_AUDIENCE }}.\n\n## Original Brief:\nGoal: Create a marketing email introducing our company to a lead. The email should be professional yet friendly, persuasive but not overly aggressive, and concise while engaging. Secondary goal is to bring users to our website.\n\nTarget Audience: {{ $('Business_Info').item.json.LEAD_TARGET_AUDIENCE }}\nKey Benefits to Highlight:\n<key_benefits>\n{{ $('Business_Info').item.json.OUR_BUSINESS_KEY_BENEFITS }}\n</key_benefits>\n\nCall to Action: Encourage the reader to check website with landing page link: \"{{ $('Business_Info').item.json.LANDING_PAGE_URL }}\"\n\n## Email to Evaluate:\n<email>\n{{ $json.output.email_wrote }}\n</email>\n\n## Specific Evaluation Focus:\n1. Does the email effectively communicate capabilities that differentiate our company?\n2. Is the tone appropriate for the target audience while still being persuasive?\n3. Does the email successfully emphasize the key benefits offered?\n4. Is the call-to-action compelling enough to drive traffic?\n\nPlease provide your comprehensive evaluation and out following the framework outlined in your instructions.\n\n## Output format:\n{\n\t\"contact_name\": {{ $json.output.contact_name }},\n    \"contact_email\": {{ $json.output.contact_email }},\n    \"email_subject\": {{ $json.output.email_subject }},\n  \t\"email_wrote\": {{ $json.output.email_wrote }},\n  \t\"your_summary\": Your review about the marketing email,\n    \"overall_score\": the score you gave,\n    \"areas_for_improvement\": the areas of improvement\n}",
        "options": {
          "maxIterations": 3,
          "systemMessage": "=# Role: You are an Expert Email Marketing Evaluator\n\n# Purpose:\nYour role is to analyze marketing emails produced by our Content Creator Specialist and provide detailed, constructive feedback to improve their effectiveness, persuasiveness, and alignment with marketing goals.\n\n# Evaluation Framework:\nAssess each email across these key dimensions:\n\n1. **Subject Line Effectiveness**\n   - Attention-grabbing quality\n   - Clarity and relevance\n   - Appropriate length (4-7 words ideal)\n   - Personalization elements\n   \n2. **Content Quality**\n   - Alignment with target audience needs and pain points\n   - Clarity of value proposition\n   - Accuracy of product information\n   - Persuasiveness without being aggressive\n   - Proper highlighting of key benefits\n   \n3. **Structure & Readability**\n   - Logical flow and organization\n   - Paragraph length and scannability\n   - Use of formatting elements (bullets, bold, etc.)\n   - Professional yet conversational tone\n   \n4. **Call-to-Action Strength**\n   - Clarity and visibility\n   - Compelling motivation to act\n   - Proper placement\n   - Urgency elements (when appropriate)\n   \n5. **Technical Elements**\n   - Grammar and spelling accuracy\n   - Link functionality\n   - Contact information completeness\n   - Mobile-friendly formatting\n\n# Output Format:\nFor each evaluation, provide:\n\n1. **Overall Score**: 1-10 rating with brief justification\n2. **Summary**: Your summary about the text\n3. **Areas for Improvement**: 3-5 specific recommendations with examples\n\n# Rules:\n- Be specific and actionable in your feedback\n- Balance critique with positive reinforcement\n- Reference industry best practices when relevant\n- Consider the target audience's perspective\n- Maintain focus on the business goals stated in the brief\n- Evaluate based on content effectiveness, not personal preference"
        },
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 1.7
    },
    {
      "id": "42df0431-8c3c-424e-886a-9c670e5e6d71",
      "name": "Structured Output Parser1",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        3424,
        608
      ],
      "parameters": {
        "jsonSchemaExample": "{\n\t\"contact_name\": \"\",\n    \"contact_email\": \"\",\n    \"email_subject\": \"\",\n  \t\"email_wrote\": \"\",\n  \t\"your_summary\": \"\",\n    \"overall_score\": 0,\n    \"areas_for_improvement\": [\"\", \"\", \"\"]\n}"
      },
      "typeVersion": 1.2
    },
    {
      "id": "8e2e2e76-eebf-48dc-bc4d-be0614196c46",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "disabled": true,
      "position": [
        -640,
        -192
      ],
      "parameters": {
        "width": 796,
        "height": 1472,
        "content": "## Lead generator and personalized email creator with Jina AI, AI Agent and Airtable - Guidelines\n\nThis workflow uses AI agents to enrich company data from Airtable. It performs deep research to find the best decision-maker, then drafts and evaluates a personalized outreach email, and finally updates the original Airtable record with the new lead information and email content.\n\n### üë• Who is it for?\nThis workflow is ideal for sales teams, marketers, and business development professionals looking to automate their lead generation and initial outreach process, saving time and increasing personalization at scale.\n\n### ‚öôÔ∏è How it works\nThis workflow initiates by fetching unprocessed company records from a specified Airtable base. For each company, it performs a \"deep research\" using Jina AI to identify key decision-makers based on the company's name and website.\n\nNext, a series of AI agents process the information:\n1.  **Lead Analyzer:** A \"Lead Generation Specialist\" agent analyzes the research results to select the most suitable contact person.\n2.  **Email Content Creator:** A \"Content Creator Specialist\" agent uses the lead's information and your business details to draft a personalized marketing email and subject line.\n3.  **Evaluator:** An \"Expert Email Marketing Evaluator\" agent reviews the generated email for quality, tone, and effectiveness, providing a score and feedback.\n\nFinally, the workflow updates the original record in Airtable with the identified lead's name, email, the generated email content, and the evaluation summary, marking the record as processed.\n\n### üõ†Ô∏è How to set up\n1.  **Airtable Setup:**\n    * Create an Airtable base with a table containing the following fields:\n      * **Company_name**: A text field for the name of the lead's company (Required).\n      * **Company_website**: A URL field for the company's official website (Required).\n      * **Company_e-mail**: An email field for a general contact email for the company (Required).\n      * **Address**: A text field for the physical address of the company (Optional).\n      * **Company_phone**: A phone number field for a general phone number for the company (Optional).\n      * **processed**: A single select field to track the status. It needs the options `no` and `yes`. The workflow only processes records set to `no` (Required).\n      * **lead_name**: A text field that the workflow will populate with the name of the identified lead (Output).\n      * **lead_email**: An email field that the workflow will populate with the identified lead's email (Output).\n      * **email_subject**: A text field for the generated email subject line (Output).\n      * **email_text**: A long text field for the generated, personalized email body (Output).\n      * **email_summary**: A long text field for the AI's evaluation and summary of the created email (Output).\n      * **create_date**: A date and time field to log when the record was processed (Output).\n      * **task_result**: A text field for a summary of the final task result, like \"Email wrote\" (Output).\n    * Create your Airtable Credentials [Airtable Documentation](https://docs.n8n.io/integrations/builtin/credentials/airtable/)\n    * Connect your Airtable credentials to the 'Get input records' and 'Update record' nodes.\n    * Select your Base and Table in both Airtable nodes.\n2.  **Business Information:**\n    * In the **Business_Info** node, fill in the values with your company's details, key benefits, target audience, and landing page URL.\n3.  **API Keys:**\n    * **Jina AI:** Get your API key from [Jina AI](https://jina.ai/) and insert it into the **Jina_API_Key** node.\n    * **OpenAI:** Add your OpenAI credentials to the 'OpenAI o3-mini', 'OpenAI - 4o-mini', and 'OpenAI - 4o-mini - low' nodes.\n\n### ‚úÖ Requirements\n* An [Airtable](https://airtable.com/) account.\n* A [Jina AI](https://jina.ai/) account and API key.\n* An [OpenAI](https://openai.com/) account and API key.\n\n### Need Help?\nJoin the [Discord](https://discord.com/invite/XPKeKXeB7d) or ask in the [Forum](https://community.n8n.io/)!\n\nHope you enjoy!!"
      },
      "typeVersion": 1
    },
    {
      "id": "05894e73-9cad-4555-85a2-0bf6a26dfb63",
      "name": "OpenAI - 4o-mini",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        2768,
        608
      ],
      "parameters": {
        "options": {
          "temperature": 0.8
        }
      },
      "typeVersion": 1
    },
    {
      "id": "f8d96c32-0b85-416b-bc4e-9a2ed0c28b6c",
      "name": "OpenAI o3-mini",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        2112,
        592
      ],
      "parameters": {
        "model": "o3-mini",
        "options": {}
      },
      "typeVersion": 1
    },
    {
      "id": "a125ca61-e51c-4d88-a1be-867d6b0ce30d",
      "name": "OpenAI - 4o-mini - low",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        3232,
        608
      ],
      "parameters": {
        "options": {
          "temperature": 0.3
        }
      },
      "typeVersion": 1
    },
    {
      "id": "7e3153a8-9926-4896-82ca-0d5981107db7",
      "name": "Merge-Search",
      "type": "n8n-nodes-base.merge",
      "position": [
        1824,
        368
      ],
      "parameters": {
        "mode": "combine",
        "options": {},
        "combineBy": "combineAll"
      },
      "typeVersion": 3
    },
    {
      "id": "7f5ee6a4-a712-4d6f-ab40-a54ef6d60d06",
      "name": "Wait-5-sec",
      "type": "n8n-nodes-base.wait",
      "position": [
        2528,
        368
      ],
      "webhookId": "c37dd414-2d0f-49a6-a1e0-f389ad0f48f7",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "34039011-6fb6-4ddd-a062-022696625ea5",
      "name": "Update record",
      "type": "n8n-nodes-base.airtable",
      "position": [
        3856,
        384
      ],
      "parameters": {
        "base": {
          "__rl": true,
          "mode": "list",
          "value": "appfnHXPUewL3pLBa",
          "cachedResultUrl": "https://airtable.com/appfnHXPUewL3pLBa",
          "cachedResultName": "sales_leads"
        },
        "table": {
          "__rl": true,
          "mode": "list",
          "value": "tblY0ojApwJ3ZKSfE",
          "cachedResultUrl": "https://airtable.com/appfnHXPUewL3pLBa/tblY0ojApwJ3ZKSfE",
          "cachedResultName": "table"
        },
        "columns": {
          "value": {
            "id": "={{ $json.id }}",
            "lead_name": "={{ $json.output.contact_name }}",
            "processed": "yes",
            "email_text": "={{ $json.output.email_wrote }}",
            "lead_email": "={{ $json.output.contact_email }}",
            "create_date": "={{ DateTime.fromISO($now).toISO() }}",
            "task_result": "=Email wrote",
            "email_subject": "={{ $json.output.email_subject }}",
            "email_summary": "={{ $json.output.your_summary }}"
          },
          "schema": [
            {
              "id": "id",
              "type": "string",
              "display": true,
              "removed": false,
              "readOnly": true,
              "required": false,
              "displayName": "id",
              "defaultMatch": true
            },
            {
              "id": "Company_name",
              "type": "string",
              "display": true,
              "removed": true,
              "readOnly": false,
              "required": false,
              "displayName": "Company_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Company_website",
              "type": "string",
              "display": true,
              "removed": true,
              "readOnly": false,
              "required": false,
              "displayName": "Company_website",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Company_e-mail",
              "type": "string",
              "display": true,
              "removed": true,
              "readOnly": false,
              "required": false,
              "displayName": "Company_e-mail",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Address",
              "type": "string",
              "display": true,
              "removed": true,
              "readOnly": false,
              "required": false,
              "displayName": "Address",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Company_phone",
              "type": "string",
              "display": true,
              "removed": true,
              "readOnly": false,
              "required": false,
              "displayName": "Company_phone",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "processed",
              "type": "options",
              "display": true,
              "options": [
                {
                  "name": "yes",
                  "value": "yes"
                },
                {
                  "name": "no",
                  "value": "no"
                },
                {
                  "name": "postponed",
                  "value": "postponed"
                }
              ],
              "removed": false,
              "readOnly": false,
              "required": false,
              "displayName": "processed",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "lead_name",
              "type": "string",
              "display": true,
              "removed": false,
              "readOnly": false,
              "required": false,
              "displayName": "lead_name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "lead_email",
              "type": "string",
              "display": true,
              "removed": false,
              "readOnly": false,
              "required": false,
              "displayName": "lead_email",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "email_subject",
              "type": "string",
              "display": true,
              "removed": false,
              "readOnly": false,
              "required": false,
              "displayName": "email_subject",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "email_text",
              "type": "string",
              "display": true,
              "removed": false,
              "readOnly": false,
              "required": false,
              "displayName": "email_text",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "email_summary",
              "type": "string",
              "display": true,
              "removed": false,
              "readOnly": false,
              "required": false,
              "displayName": "email_summary",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "create_date",
              "type": "dateTime",
              "display": true,
              "removed": false,
              "readOnly": false,
              "required": false,
              "displayName": "create_date",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "task_result",
              "type": "string",
              "display": true,
              "removed": false,
              "readOnly": false,
              "required": false,
              "displayName": "task_result",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "id"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {
          "updateAllMatches": false
        },
        "operation": "update"
      },
      "typeVersion": 2.1
    },
    {
      "id": "7d6ba627-7ece-4f1b-be10-e92bc2fd6c06",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1568,
        32
      ],
      "parameters": {
        "color": 7,
        "width": 400,
        "height": 576,
        "content": "## 3. Deep Research\n[Read more about the HTTP Request node](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.httprequest/)\n\nThis step perform a Deep Research about the company using the Company_name and Company_website to try identify the decision makers of the Target Company.\n\nOutput:\n- deep_research"
      },
      "typeVersion": 1
    },
    {
      "id": "22e8cdb7-2780-49b6-b7f3-1fc3bd1e6801",
      "name": "Wait-8-sec",
      "type": "n8n-nodes-base.wait",
      "position": [
        3856,
        608
      ],
      "webhookId": "15d5557c-ab11-43bf-a20b-f4ab8456b3be",
      "parameters": {
        "amount": 8
      },
      "typeVersion": 1.1
    },
    {
      "id": "315b36cf-7b06-42ac-ac7c-09dde1642354",
      "name": "Get input records",
      "type": "n8n-nodes-base.airtable",
      "position": [
        1056,
        240
      ],
      "parameters": {
        "base": {
          "__rl": true,
          "mode": "list",
          "value": "appfnHXPUewL3pLBa",
          "cachedResultUrl": "https://airtable.com/appfnHXPUewL3pLBa",
          "cachedResultName": "sales_leads"
        },
        "table": {
          "__rl": true,
          "mode": "list",
          "value": "tblY0ojApwJ3ZKSfE",
          "cachedResultUrl": "https://airtable.com/appfnHXPUewL3pLBa/tblY0ojApwJ3ZKSfE",
          "cachedResultName": "table"
        },
        "options": {},
        "operation": "search",
        "filterByFormula": "={processed} = \"no\""
      },
      "typeVersion": 2.1
    },
    {
      "id": "918e9d82-aded-4729-a0d5-764fece7e33e",
      "name": "Merge-loop",
      "type": "n8n-nodes-base.merge",
      "position": [
        3680,
        272
      ],
      "parameters": {
        "mode": "combine",
        "options": {},
        "combineBy": "combineAll"
      },
      "typeVersion": 3
    },
    {
      "id": "f756d500-e023-48db-82d0-12fad9268c04",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        416,
        -112
      ],
      "parameters": {
        "color": 7,
        "width": 464,
        "height": 528,
        "content": "## 1. Configuration\n\n### - Save your Business Information on the Business_Info Node:\n- BUSINESS_NAME\n- BUSINESS_INFORMATION\n- BUSINESS_KEY_BENEFITS (3-6 key benefits)\n- LANDING_PAGE_URL\n- LEAD_TARGET_AUDIENCE (ex. \"Startups\")\n\n### - Save your Jina API key on the Jina_API_Key Node:\n- JINA_API\n[Generate your API Key here](https://jina.ai/)"
      },
      "typeVersion": 1
    },
    {
      "id": "1353e698-f36f-48e8-9bab-26a5d3e2af2f",
      "name": "Business_Info",
      "type": "n8n-nodes-base.set",
      "position": [
        512,
        240
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "552b2535-f825-4e88-8e72-2beb25f4aa25",
              "name": "BUSINESS_NAME",
              "type": "string",
              "value": "ACME SA"
            },
            {
              "id": "eee80220-fe61-4421-b381-4b9ba24362c3",
              "name": "BUSINESS_INFORMATION",
              "type": "string",
              "value": "ACME is a technology solutions provider specializing in innovative products and services that help businesses streamline operations and accelerate growth. Founded on principles of reliability and efficiency, ACME delivers cutting-edge solutions across multiple industries."
            },
            {
              "id": "c50fc262-c805-4dea-9b99-425bfe08c9fe",
              "name": "BUSINESS_KEY_BENEFITS",
              "type": "string",
              "value": "Proven Reliability: Trusted solutions with consistent performance and minimal downtime Scalable Architecture: Systems that grow with your business needs and adapt to changing requirements Cost-Effective: Optimized solutions that maximize ROI while minimizing operational expenses Expert Support: Dedicated technical team providing 24/7 assistance and proactive maintenance Rapid Implementation: Fast deployment processes that reduce time-to-market and accelerate results Innovation Focus: Continuous development of new features and technologies to stay ahead of market trends Industry Expertise: Deep understanding of sector-specific challenges and tailored solutions Integration Capabilities: Seamless connectivity with existing systems and third-party platforms"
            },
            {
              "id": "879372f4-67f8-4d25-b3ed-f0b4e3171d2a",
              "name": "LANDING_PAGE_URL",
              "type": "string",
              "value": "http://acme.com"
            },
            {
              "id": "039a704b-05cc-4882-9f9c-7ec1d4ada154",
              "name": "LEAD_TARGET_AUDIENCE",
              "type": "string",
              "value": "Startups"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "97fe1cfc-7050-4c4b-ae4e-f8763bcb36b8",
      "name": "Jina_API_Key",
      "type": "n8n-nodes-base.set",
      "position": [
        704,
        240
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "b4955d95-1447-461e-91c3-90fd935b01ec",
              "name": "jina_api",
              "type": "string",
              "value": ""
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "b83d5c24-5579-45e6-b18c-c20b14fbca8a",
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        944,
        -112
      ],
      "parameters": {
        "color": 7,
        "width": 512,
        "height": 528,
        "content": "## 2. Load Lead information\n[Read more about the Airtable node](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.airtable/)\n\n### This step load the information from leads you created in the Airtable Table:\n- Company_name - (required)\n- Company_website - (required)\n- Company_email - (required)\n- Address\n- Company_phone\n- processed - (required)\n"
      },
      "typeVersion": 1
    },
    {
      "id": "4a0dfc34-f22b-4d0a-bed9-a69f5f69d58e",
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2048,
        32
      ],
      "parameters": {
        "color": 7,
        "width": 400,
        "height": 720,
        "content": "## 4. Lead Analysis \n[Read more about the Agents node](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.agent/)\n\nThis step use the previous Deep Research, analyze and extract the the best Leads for our case.\n\nOutput:\n- lead_emai\n- lead_name\n- summary_of_your_though"
      },
      "typeVersion": 1
    },
    {
      "id": "8e797a7c-4919-4b5f-aa89-8f28328535a4",
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2704,
        32
      ],
      "parameters": {
        "color": 7,
        "width": 400,
        "height": 720,
        "content": "## 5. Email Content Creator \n[Read more about the Agents node](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.agent/)\n\nThis step generate the email details.\n\nOutput:\n- email_subject\n- email_text\n- email_summary\n"
      },
      "typeVersion": 1
    },
    {
      "id": "88116213-7be4-49e7-921d-aac945e75bca",
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        3168,
        32
      ],
      "parameters": {
        "color": 7,
        "width": 400,
        "height": 720,
        "content": "## 6. Email Evaluator \n[Read more about the Agents node](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.agent/)\n\nThis step evaluate the quality of the email generated.\n\nOutput:\n- overall_score\n- areas_for_improvement\n"
      },
      "typeVersion": 1
    },
    {
      "id": "d30f8bcd-2be3-4bde-b654-f751192ccd10",
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        3632,
        -80
      ],
      "parameters": {
        "color": 7,
        "width": 400,
        "height": 832,
        "content": "## 7. Update Airtabe \n[Read more about the Airtable node](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.airtable/)\n\nUpdate the Airtable Table with the Lead Information\n\nUpdated Fields:\n- processed (YES)\n- lead_name\n- lead_email\n- email_subject\n- email_text\n- email_summary\n- create_date\n- task_result"
      },
      "typeVersion": 1
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "81609466-60c0-440d-be63-0f339237b951",
  "connections": {
    "Evaluator": {
      "main": [
        [
          {
            "node": "Merge-loop",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Merge-loop": {
      "main": [
        [
          {
            "node": "Update record",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait-5-sec": {
      "main": [
        [
          {
            "node": "Email Content Creator",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait-8-sec": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Jina_API_Key": {
      "main": [
        [
          {
            "node": "Get input records",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge-Search": {
      "main": [
        [
          {
            "node": "Lead Analyzer",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Business_Info": {
      "main": [
        [
          {
            "node": "Jina_API_Key",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Lead Analyzer": {
      "main": [
        [
          {
            "node": "Wait-5-sec",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update record": {
      "main": [
        [
          {
            "node": "Wait-8-sec",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI o3-mini": {
      "ai_languageModel": [
        [
          {
            "node": "Lead Analyzer",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [],
        [
          {
            "node": "Lead Person Research",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge-Search",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge-loop",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI - 4o-mini": {
      "ai_languageModel": [
        [
          {
            "node": "Email Content Creator",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Get input records": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Lead Person Research": {
      "main": [
        [
          {
            "node": "Merge-Search",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Email Content Creator": {
      "main": [
        [
          {
            "node": "Evaluator",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI - 4o-mini - low": {
      "ai_languageModel": [
        [
          {
            "node": "Evaluator",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "Lead Analyzer",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser1": {
      "ai_outputParser": [
        [
          {
            "node": "Evaluator",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser3": {
      "ai_outputParser": [
        [
          {
            "node": "Email Content Creator",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "When clicking \"Test workflow\"": {
      "main": [
        [
          {
            "node": "Business_Info",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}